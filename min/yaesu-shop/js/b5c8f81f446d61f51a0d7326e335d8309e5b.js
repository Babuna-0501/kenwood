!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(a){var b,c,d,e,f,g,h="Close",i="BeforeClose",j="AfterClose",k="BeforeAppend",l="MarkupParse",m="Open",n="Change",o="mfp",p="."+o,q="mfp-ready",r="mfp-removing",s="mfp-prevent-close",t=function(){},u=!!window.jQuery,v=a(window),w=function(a,c){b.ev.on(o+a+p,c)},x=function(b,c,d,e){var f=document.createElement("div");return f.className="mfp-"+b,d&&(f.innerHTML=d),e?c&&c.appendChild(f):(f=a(f),c&&f.appendTo(c)),f},y=function(c,d){b.ev.triggerHandler(o+c,d),b.st.callbacks&&(c=c.charAt(0).toLowerCase()+c.slice(1),b.st.callbacks[c]&&b.st.callbacks[c].apply(b,a.isArray(d)?d:[d]))},z=function(c){return c===g&&b.currTemplate.closeBtn||(b.currTemplate.closeBtn=a(b.st.closeMarkup.replace("%title%",b.st.tClose)),g=c),b.currTemplate.closeBtn},A=function(){a.magnificPopup.instance||(b=new t,b.init(),a.magnificPopup.instance=b)},B=function(){var a=document.createElement("p").style,b=["ms","O","Moz","Webkit"];if(void 0!==a.transition)return!0;for(;b.length;)if(b.pop()+"Transition"in a)return!0;return!1};t.prototype={constructor:t,init:function(){var c=navigator.appVersion;b.isLowIE=b.isIE8=document.all&&!document.addEventListener,b.isAndroid=/android/gi.test(c),b.isIOS=/iphone|ipad|ipod/gi.test(c),b.supportsTransition=B(),b.probablyMobile=b.isAndroid||b.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),d=a(document),b.popupsCache={}},open:function(c){var e;if(c.isObj===!1){b.items=c.items.toArray(),b.index=0;var g,h=c.items;for(e=0;e<h.length;e++)if(g=h[e],g.parsed&&(g=g.el[0]),g===c.el[0]){b.index=e;break}}else b.items=a.isArray(c.items)?c.items:[c.items],b.index=c.index||0;if(b.isOpen)return void b.updateItemHTML();b.types=[],f="",c.mainEl&&c.mainEl.length?b.ev=c.mainEl.eq(0):b.ev=d,c.key?(b.popupsCache[c.key]||(b.popupsCache[c.key]={}),b.currTemplate=b.popupsCache[c.key]):b.currTemplate={},b.st=a.extend(!0,{},a.magnificPopup.defaults,c),b.fixedContentPos="auto"===b.st.fixedContentPos?!b.probablyMobile:b.st.fixedContentPos,b.st.modal&&(b.st.closeOnContentClick=!1,b.st.closeOnBgClick=!1,b.st.showCloseBtn=!1,b.st.enableEscapeKey=!1),b.bgOverlay||(b.bgOverlay=x("bg").on("click"+p,function(){b.close()}),b.wrap=x("wrap").attr("tabindex",-1).on("click"+p,function(a){b._checkIfClose(a.target)&&b.close()}),b.container=x("container",b.wrap)),b.contentContainer=x("content"),b.st.preloader&&(b.preloader=x("preloader",b.container,b.st.tLoading));var i=a.magnificPopup.modules;for(e=0;e<i.length;e++){var j=i[e];j=j.charAt(0).toUpperCase()+j.slice(1),b["init"+j].call(b)}y("BeforeOpen"),b.st.showCloseBtn&&(b.st.closeBtnInside?(w(l,function(a,b,c,d){c.close_replaceWith=z(d.type)}),f+=" mfp-close-btn-in"):b.wrap.append(z())),b.st.alignTop&&(f+=" mfp-align-top"),b.fixedContentPos?b.wrap.css({overflow:b.st.overflowY,overflowX:"hidden",overflowY:b.st.overflowY}):b.wrap.css({top:v.scrollTop(),position:"absolute"}),(b.st.fixedBgPos===!1||"auto"===b.st.fixedBgPos&&!b.fixedContentPos)&&b.bgOverlay.css({height:d.height(),position:"absolute"}),b.st.enableEscapeKey&&d.on("keyup"+p,function(a){27===a.keyCode&&b.close()}),v.on("resize"+p,function(){b.updateSize()}),b.st.closeOnContentClick||(f+=" mfp-auto-cursor"),f&&b.wrap.addClass(f);var k=b.wH=v.height(),n={};if(b.fixedContentPos&&b._hasScrollBar(k)){var o=b._getScrollbarSize();o&&(n.marginRight=o)}b.fixedContentPos&&(b.isIE7?a("body, html").css("overflow","hidden"):n.overflow="hidden");var r=b.st.mainClass;return b.isIE7&&(r+=" mfp-ie7"),r&&b._addClassToMFP(r),b.updateItemHTML(),y("BuildControls"),a("html").css(n),b.bgOverlay.add(b.wrap).prependTo(b.st.prependTo||a(document.body)),b._lastFocusedEl=document.activeElement,setTimeout(function(){b.content?(b._addClassToMFP(q),b._setFocus()):b.bgOverlay.addClass(q),d.on("focusin"+p,b._onFocusIn)},16),b.isOpen=!0,b.updateSize(k),y(m),c},close:function(){b.isOpen&&(y(i),b.isOpen=!1,b.st.removalDelay&&!b.isLowIE&&b.supportsTransition?(b._addClassToMFP(r),setTimeout(function(){b._close()},b.st.removalDelay)):b._close())},_close:function(){y(h);var c=r+" "+q+" ";if(b.bgOverlay.detach(),b.wrap.detach(),b.container.empty(),b.st.mainClass&&(c+=b.st.mainClass+" "),b._removeClassFromMFP(c),b.fixedContentPos){var e={marginRight:""};b.isIE7?a("body, html").css("overflow",""):e.overflow="",a("html").css(e)}d.off("keyup"+p+" focusin"+p),b.ev.off(p),b.wrap.attr("class","mfp-wrap").removeAttr("style"),b.bgOverlay.attr("class","mfp-bg"),b.container.attr("class","mfp-container"),!b.st.showCloseBtn||b.st.closeBtnInside&&b.currTemplate[b.currItem.type]!==!0||b.currTemplate.closeBtn&&b.currTemplate.closeBtn.detach(),b.st.autoFocusLast&&b._lastFocusedEl&&a(b._lastFocusedEl).focus(),b.currItem=null,b.content=null,b.currTemplate=null,b.prevHeight=0,y(j)},updateSize:function(a){if(b.isIOS){var c=document.documentElement.clientWidth/window.innerWidth,d=window.innerHeight*c;b.wrap.css("height",d),b.wH=d}else b.wH=a||v.height();b.fixedContentPos||b.wrap.css("height",b.wH),y("Resize")},updateItemHTML:function(){var c=b.items[b.index];b.contentContainer.detach(),b.content&&b.content.detach(),c.parsed||(c=b.parseEl(b.index));var d=c.type;if(y("BeforeChange",[b.currItem?b.currItem.type:"",d]),b.currItem=c,!b.currTemplate[d]){var f=b.st[d]?b.st[d].markup:!1;y("FirstMarkupParse",f),f?b.currTemplate[d]=a(f):b.currTemplate[d]=!0}e&&e!==c.type&&b.container.removeClass("mfp-"+e+"-holder");var g=b["get"+d.charAt(0).toUpperCase()+d.slice(1)](c,b.currTemplate[d]);b.appendContent(g,d),c.preloaded=!0,y(n,c),e=c.type,b.container.prepend(b.contentContainer),y("AfterChange")},appendContent:function(a,c){b.content=a,a?b.st.showCloseBtn&&b.st.closeBtnInside&&b.currTemplate[c]===!0?b.content.find(".mfp-close").length||b.content.append(z()):b.content=a:b.content="",y(k),b.container.addClass("mfp-"+c+"-holder"),b.contentContainer.append(b.content)},parseEl:function(c){var d,e=b.items[c];if(e.tagName?e={el:a(e)}:(d=e.type,e={data:e,src:e.src}),e.el){for(var f=b.types,g=0;g<f.length;g++)if(e.el.hasClass("mfp-"+f[g])){d=f[g];break}e.src=e.el.attr("data-mfp-src"),e.src||(e.src=e.el.attr("href"))}return e.type=d||b.st.type||"inline",e.index=c,e.parsed=!0,b.items[c]=e,y("ElementParse",e),b.items[c]},addGroup:function(a,c){var d=function(d){d.mfpEl=this,b._openClick(d,a,c)};c||(c={});var e="click.magnificPopup";c.mainEl=a,c.items?(c.isObj=!0,a.off(e).on(e,d)):(c.isObj=!1,c.delegate?a.off(e).on(e,c.delegate,d):(c.items=a,a.off(e).on(e,d)))},_openClick:function(c,d,e){var f=void 0!==e.midClick?e.midClick:a.magnificPopup.defaults.midClick;if(f||!(2===c.which||c.ctrlKey||c.metaKey||c.altKey||c.shiftKey)){var g=void 0!==e.disableOn?e.disableOn:a.magnificPopup.defaults.disableOn;if(g)if(a.isFunction(g)){if(!g.call(b))return!0}else if(v.width()<g)return!0;c.type&&(c.preventDefault(),b.isOpen&&c.stopPropagation()),e.el=a(c.mfpEl),e.delegate&&(e.items=d.find(e.delegate)),b.open(e)}},updateStatus:function(a,d){if(b.preloader){c!==a&&b.container.removeClass("mfp-s-"+c),d||"loading"!==a||(d=b.st.tLoading);var e={status:a,text:d};y("UpdateStatus",e),a=e.status,d=e.text,b.preloader.html(d),b.preloader.find("a").on("click",function(a){a.stopImmediatePropagation()}),b.container.addClass("mfp-s-"+a),c=a}},_checkIfClose:function(c){if(!a(c).hasClass(s)){var d=b.st.closeOnContentClick,e=b.st.closeOnBgClick;if(d&&e)return!0;if(!b.content||a(c).hasClass("mfp-close")||b.preloader&&c===b.preloader[0])return!0;if(c===b.content[0]||a.contains(b.content[0],c)){if(d)return!0}else if(e&&a.contains(document,c))return!0;return!1}},_addClassToMFP:function(a){b.bgOverlay.addClass(a),b.wrap.addClass(a)},_removeClassFromMFP:function(a){this.bgOverlay.removeClass(a),b.wrap.removeClass(a)},_hasScrollBar:function(a){return(b.isIE7?d.height():document.body.scrollHeight)>(a||v.height())},_setFocus:function(){(b.st.focus?b.content.find(b.st.focus).eq(0):b.wrap).focus()},_onFocusIn:function(c){return c.target===b.wrap[0]||a.contains(b.wrap[0],c.target)?void 0:(b._setFocus(),!1)},_parseMarkup:function(b,c,d){var e;d.data&&(c=a.extend(d.data,c)),y(l,[b,c,d]),a.each(c,function(c,d){if(void 0===d||d===!1)return!0;if(e=c.split("_"),e.length>1){var f=b.find(p+"-"+e[0]);if(f.length>0){var g=e[1];"replaceWith"===g?f[0]!==d[0]&&f.replaceWith(d):"img"===g?f.is("img")?f.attr("src",d):f.replaceWith(a("<img>").attr("src",d).attr("class",f.attr("class"))):f.attr(e[1],d)}}else b.find(p+"-"+c).html(d)})},_getScrollbarSize:function(){if(void 0===b.scrollbarSize){var a=document.createElement("div");a.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(a),b.scrollbarSize=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return b.scrollbarSize}},a.magnificPopup={instance:null,proto:t.prototype,modules:[],open:function(b,c){return A(),b=b?a.extend(!0,{},b):{},b.isObj=!0,b.index=c||0,this.instance.open(b)},close:function(){return a.magnificPopup.instance&&a.magnificPopup.instance.close()},registerModule:function(b,c){c.options&&(a.magnificPopup.defaults[b]=c.options),a.extend(this.proto,c.proto),this.modules.push(b)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},a.fn.magnificPopup=function(c){A();var d=a(this);if("string"==typeof c)if("open"===c){var e,f=u?d.data("magnificPopup"):d[0].magnificPopup,g=parseInt(arguments[1],10)||0;f.items?e=f.items[g]:(e=d,f.delegate&&(e=e.find(f.delegate)),e=e.eq(g)),b._openClick({mfpEl:e},d,f)}else b.isOpen&&b[c].apply(b,Array.prototype.slice.call(arguments,1));else c=a.extend(!0,{},c),u?d.data("magnificPopup",c):d[0].magnificPopup=c,b.addGroup(d,c);return d};var C,D,E,F="inline",G=function(){E&&(D.after(E.addClass(C)).detach(),E=null)};a.magnificPopup.registerModule(F,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){b.types.push(F),w(h+"."+F,function(){G()})},getInline:function(c,d){if(G(),c.src){var e=b.st.inline,f=a(c.src);if(f.length){var g=f[0].parentNode;g&&g.tagName&&(D||(C=e.hiddenClass,D=x(C),C="mfp-"+C),E=f.after(D).detach().removeClass(C)),b.updateStatus("ready")}else b.updateStatus("error",e.tNotFound),f=a("<div>");return c.inlineElement=f,f}return b.updateStatus("ready"),b._parseMarkup(d,{},c),d}}});var H,I="ajax",J=function(){H&&a(document.body).removeClass(H)},K=function(){J(),b.req&&b.req.abort()};a.magnificPopup.registerModule(I,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){b.types.push(I),H=b.st.ajax.cursor,w(h+"."+I,K),w("BeforeChange."+I,K)},getAjax:function(c){H&&a(document.body).addClass(H),b.updateStatus("loading");var d=a.extend({url:c.src,success:function(d,e,f){var g={data:d,xhr:f};y("ParseAjax",g),b.appendContent(a(g.data),I),c.finished=!0,J(),b._setFocus(),setTimeout(function(){b.wrap.addClass(q)},16),b.updateStatus("ready"),y("AjaxContentAdded")},error:function(){J(),c.finished=c.loadError=!0,b.updateStatus("error",b.st.ajax.tError.replace("%url%",c.src))}},b.st.ajax.settings);return b.req=a.ajax(d),""}}});var L,M=function(c){if(c.data&&void 0!==c.data.title)return c.data.title;var d=b.st.image.titleSrc;if(d){if(a.isFunction(d))return d.call(b,c);if(c.el)return c.el.attr(d)||""}return""};a.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var c=b.st.image,d=".image";b.types.push("image"),w(m+d,function(){"image"===b.currItem.type&&c.cursor&&a(document.body).addClass(c.cursor)}),w(h+d,function(){c.cursor&&a(document.body).removeClass(c.cursor),v.off("resize"+p)}),w("Resize"+d,b.resizeImage),b.isLowIE&&w("AfterChange",b.resizeImage)},resizeImage:function(){var a=b.currItem;if(a&&a.img&&b.st.image.verticalFit){var c=0;b.isLowIE&&(c=parseInt(a.img.css("padding-top"),10)+parseInt(a.img.css("padding-bottom"),10)),a.img.css("max-height",b.wH-c)}},_onImageHasSize:function(a){a.img&&(a.hasSize=!0,L&&clearInterval(L),a.isCheckingImgSize=!1,y("ImageHasSize",a),a.imgHidden&&(b.content&&b.content.removeClass("mfp-loading"),a.imgHidden=!1))},findImageSize:function(a){var c=0,d=a.img[0],e=function(f){L&&clearInterval(L),L=setInterval(function(){return d.naturalWidth>0?void b._onImageHasSize(a):(c>200&&clearInterval(L),c++,void(3===c?e(10):40===c?e(50):100===c&&e(500)))},f)};e(1)},getImage:function(c,d){var e=0,f=function(){c&&(c.img[0].complete?(c.img.off(".mfploader"),c===b.currItem&&(b._onImageHasSize(c),b.updateStatus("ready")),c.hasSize=!0,c.loaded=!0,y("ImageLoadComplete")):(e++,200>e?setTimeout(f,100):g()))},g=function(){c&&(c.img.off(".mfploader"),c===b.currItem&&(b._onImageHasSize(c),b.updateStatus("error",h.tError.replace("%url%",c.src))),c.hasSize=!0,c.loaded=!0,c.loadError=!0)},h=b.st.image,i=d.find(".mfp-img");if(i.length){var j=document.createElement("img");j.className="mfp-img",c.el&&c.el.find("img").length&&(j.alt=c.el.find("img").attr("alt")),c.img=a(j).on("load.mfploader",f).on("error.mfploader",g),j.src=c.src,i.is("img")&&(c.img=c.img.clone()),j=c.img[0],j.naturalWidth>0?c.hasSize=!0:j.width||(c.hasSize=!1)}return b._parseMarkup(d,{title:M(c),img_replaceWith:c.img},c),b.resizeImage(),c.hasSize?(L&&clearInterval(L),c.loadError?(d.addClass("mfp-loading"),b.updateStatus("error",h.tError.replace("%url%",c.src))):(d.removeClass("mfp-loading"),b.updateStatus("ready")),d):(b.updateStatus("loading"),c.loading=!0,c.hasSize||(c.imgHidden=!0,d.addClass("mfp-loading"),b.findImageSize(c)),d)}}});var N,O=function(){return void 0===N&&(N=void 0!==document.createElement("p").style.MozTransform),N};a.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(a){return a.is("img")?a:a.find("img")}},proto:{initZoom:function(){var a,c=b.st.zoom,d=".zoom";if(c.enabled&&b.supportsTransition){var e,f,g=c.duration,j=function(a){var b=a.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),d="all "+c.duration/1e3+"s "+c.easing,e={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},f="transition";return e["-webkit-"+f]=e["-moz-"+f]=e["-o-"+f]=e[f]=d,b.css(e),b},k=function(){b.content.css("visibility","visible")};w("BuildControls"+d,function(){if(b._allowZoom()){if(clearTimeout(e),b.content.css("visibility","hidden"),a=b._getItemToZoom(),!a)return void k();f=j(a),f.css(b._getOffset()),b.wrap.append(f),e=setTimeout(function(){f.css(b._getOffset(!0)),e=setTimeout(function(){k(),setTimeout(function(){f.remove(),a=f=null,y("ZoomAnimationEnded")},16)},g)},16)}}),w(i+d,function(){if(b._allowZoom()){if(clearTimeout(e),b.st.removalDelay=g,!a){if(a=b._getItemToZoom(),!a)return;f=j(a)}f.css(b._getOffset(!0)),b.wrap.append(f),b.content.css("visibility","hidden"),setTimeout(function(){f.css(b._getOffset())},16)}}),w(h+d,function(){b._allowZoom()&&(k(),f&&f.remove(),a=null)})}},_allowZoom:function(){return"image"===b.currItem.type},_getItemToZoom:function(){return b.currItem.hasSize?b.currItem.img:!1},_getOffset:function(c){var d;d=c?b.currItem.img:b.st.zoom.opener(b.currItem.el||b.currItem);var e=d.offset(),f=parseInt(d.css("padding-top"),10),g=parseInt(d.css("padding-bottom"),10);e.top-=a(window).scrollTop()-f;var h={width:d.width(),height:(u?d.innerHeight():d[0].offsetHeight)-g-f};return O()?h["-moz-transform"]=h.transform="translate("+e.left+"px,"+e.top+"px)":(h.left=e.left,h.top=e.top),h}}});var P="iframe",Q="//about:blank",R=function(a){if(b.currTemplate[P]){var c=b.currTemplate[P].find("iframe");c.length&&(a||(c[0].src=Q),b.isIE8&&c.css("display",a?"block":"none"))}};a.magnificPopup.registerModule(P,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){b.types.push(P),w("BeforeChange",function(a,b,c){b!==c&&(b===P?R():c===P&&R(!0))}),w(h+"."+P,function(){R()})},getIframe:function(c,d){var e=c.src,f=b.st.iframe;a.each(f.patterns,function(){return e.indexOf(this.index)>-1?(this.id&&(e="string"==typeof this.id?e.substr(e.lastIndexOf(this.id)+this.id.length,e.length):this.id.call(this,e)),e=this.src.replace("%id%",e),!1):void 0});var g={};return f.srcAction&&(g[f.srcAction]=e),b._parseMarkup(d,g,c),b.updateStatus("ready"),d}}});var S=function(a){var c=b.items.length;return a>c-1?a-c:0>a?c+a:a},T=function(a,b,c){return a.replace(/%curr%/gi,b+1).replace(/%total%/gi,c)};a.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var c=b.st.gallery,e=".mfp-gallery";return b.direction=!0,c&&c.enabled?(f+=" mfp-gallery",w(m+e,function(){c.navigateByImgClick&&b.wrap.on("click"+e,".mfp-img",function(){return b.items.length>1?(b.next(),!1):void 0}),d.on("keydown"+e,function(a){37===a.keyCode?b.prev():39===a.keyCode&&b.next()})}),w("UpdateStatus"+e,function(a,c){c.text&&(c.text=T(c.text,b.currItem.index,b.items.length))}),w(l+e,function(a,d,e,f){var g=b.items.length;e.counter=g>1?T(c.tCounter,f.index,g):""}),w("BuildControls"+e,function(){if(b.items.length>1&&c.arrows&&!b.arrowLeft){var d=c.arrowMarkup,e=b.arrowLeft=a(d.replace(/%title%/gi,c.tPrev).replace(/%dir%/gi,"left")).addClass(s),f=b.arrowRight=a(d.replace(/%title%/gi,c.tNext).replace(/%dir%/gi,"right")).addClass(s);e.click(function(){b.prev()}),f.click(function(){b.next()}),b.container.append(e.add(f))}}),w(n+e,function(){b._preloadTimeout&&clearTimeout(b._preloadTimeout),b._preloadTimeout=setTimeout(function(){b.preloadNearbyImages(),b._preloadTimeout=null},16)}),void w(h+e,function(){d.off(e),b.wrap.off("click"+e),b.arrowRight=b.arrowLeft=null})):!1},next:function(){b.direction=!0,b.index=S(b.index+1),b.updateItemHTML()},prev:function(){b.direction=!1,b.index=S(b.index-1),b.updateItemHTML()},goTo:function(a){b.direction=a>=b.index,b.index=a,b.updateItemHTML()},preloadNearbyImages:function(){var a,c=b.st.gallery.preload,d=Math.min(c[0],b.items.length),e=Math.min(c[1],b.items.length);for(a=1;a<=(b.direction?e:d);a++)b._preloadItem(b.index+a);for(a=1;a<=(b.direction?d:e);a++)b._preloadItem(b.index-a)},_preloadItem:function(c){if(c=S(c),!b.items[c].preloaded){var d=b.items[c];d.parsed||(d=b.parseEl(c)),y("LazyLoad",d),"image"===d.type&&(d.img=a('<img class="mfp-img" />').on("load.mfploader",function(){d.hasSize=!0}).on("error.mfploader",function(){d.hasSize=!0,d.loadError=!0,y("LazyLoadError",d)}).attr("src",d.src)),d.preloaded=!0}}}});var U="retina";a.magnificPopup.registerModule(U,{options:{replaceSrc:function(a){return a.src.replace(/\.\w+$/,function(a){return"@2x"+a})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var a=b.st.retina,c=a.ratio;c=isNaN(c)?c():c,c>1&&(w("ImageHasSize."+U,function(a,b){b.img.css({"max-width":b.img[0].naturalWidth/c,width:"100%"})}),w("ElementParse."+U,function(b,d){d.src=a.replaceSrc(d,c)}))}}}}),A()});(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else{factory(jQuery)}}(function($){$.ui=$.ui||{};$.extend($.ui,{version:"1.11.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});$.fn.extend({scrollParent:function(includeHidden){var position=this.css("position"),excludeStaticParent=position==="absolute",overflowRegex=includeHidden?/(auto|scroll|hidden)/ : /(auto|scroll)/,scrollParent=this.parents().filter(function(){var parent=$(this);if(excludeStaticParent&&parent.css("position")==="static"){return!1}
return overflowRegex.test(parent.css("overflow")+parent.css("overflow-y")+parent.css("overflow-x"))}).eq(0);return position==="fixed"||!scrollParent.length?$(this[0].ownerDocument||document):scrollParent},uniqueId:(function(){var uuid=0;return function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++uuid)}})}})(),removeUniqueId:function(){return this.each(function(){if(/^ui-id-\d+$/.test(this.id)){$(this).removeAttr("id")}})}});function focusable(element,isTabIndexNotNaN){var map,mapName,img,nodeName=element.nodeName.toLowerCase();if("area"===nodeName){map=element.parentNode;mapName=map.name;if(!element.href||!mapName||map.nodeName.toLowerCase()!=="map"){return!1}
img=$("img[usemap='#"+mapName+"']")[0];return!!img&&visible(img)}
return(/^(input|select|textarea|button|object)$/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element)}
function visible(element){return $.expr.filters.visible(element)&&!$(element).parents().addBack().filter(function(){return $.css(this,"visibility")==="hidden"}).length}
$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName)}}):function(elem,i,match){return!!$.data(elem,match[3])},focusable:function(element){return focusable(element,!isNaN($.attr(element,"tabindex")))},tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&focusable(element,!isTabIndexNaN)}});if(!$("<a>").outerWidth(1).jquery){$.each(["Width","Height"],function(i,name){var side=name==="Width"?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};function reduce(elem,size,border,margin){$.each(side,function(){size-=parseFloat($.css(elem,"padding"+this))||0;if(border){size-=parseFloat($.css(elem,"border"+this+"Width"))||0}
if(margin){size-=parseFloat($.css(elem,"margin"+this))||0}});return size}
$.fn["inner"+name]=function(size){if(size===undefined){return orig["inner"+name].call(this)}
return this.each(function(){$(this).css(type,reduce(this,size)+"px")})};$.fn["outer"+name]=function(size,margin){if(typeof size!=="number"){return orig["outer"+name].call(this,size)}
return this.each(function(){$(this).css(type,reduce(this,size,!0,margin)+"px")})}})}
if(!$.fn.addBack){$.fn.addBack=function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector))}}
if($("<a>").data("a-b","a").removeData("a-b").data("a-b")){$.fn.removeData=(function(removeData){return function(key){if(arguments.length){return removeData.call(this,$.camelCase(key))}else{return removeData.call(this)}}})($.fn.removeData)}
$.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());$.fn.extend({focus:(function(orig){return function(delay,fn){return typeof delay==="number"?this.each(function(){var elem=this;setTimeout(function(){$(elem).focus();if(fn){fn.call(elem)}},delay)}):orig.apply(this,arguments)}})($.fn.focus),disableSelection:(function(){var eventType="onselectstart" in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(eventType+".ui-disableSelection",function(event){event.preventDefault()})}})(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(zIndex){if(zIndex!==undefined){return this.css("zIndex",zIndex)}
if(this.length){var elem=$(this[0]),position,value;while(elem.length&&elem[0]!==document){position=elem.css("position");if(position==="absolute"||position==="relative"||position==="fixed"){value=parseInt(elem.css("zIndex"),10);if(!isNaN(value)&&value!==0){return value}}
elem=elem.parent()}}
return 0}});$.ui.plugin={add:function(module,option,set){var i,proto=$.ui[module].prototype;for(i in set){proto.plugins[i]=proto.plugins[i]||[];proto.plugins[i].push([option,set[i]])}},call:function(instance,name,args,allowDisconnected){var i,set=instance.plugins[name];if(!set){return}
if(!allowDisconnected&&(!instance.element[0].parentNode||instance.element[0].parentNode.nodeType===11)){return}
for(i=0;i<set.length;i++){if(instance.options[set[i][0]]){set[i][1].apply(instance.element,args)}}}};var widget_uuid=0,widget_slice=Array.prototype.slice;$.cleanData=(function(orig){return function(elems){var events,elem,i;for(i=0;(elem=elems[i])!=null;i++){try{events=$._data(elem,"events");if(events&&events.remove){$(elem).triggerHandler("remove")}}catch(e){}}
orig(elems)}})($.cleanData);$.widget=function(name,base,prototype){var fullName,existingConstructor,constructor,basePrototype,proxiedPrototype={},namespace=name.split(".")[0];name=name.split(".")[1];fullName=namespace+"-"+name;if(!prototype){prototype=base;base=$.Widget}
$.expr[":"][fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName)};$[namespace]=$[namespace]||{};existingConstructor=$[namespace][name];constructor=$[namespace][name]=function(options,element){if(!this._createWidget){return new constructor(options,element)}
if(arguments.length){this._createWidget(options,element)}};$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]});basePrototype=new base();basePrototype.options=$.widget.extend({},basePrototype.options);$.each(prototype,function(prop,value){if(!$.isFunction(value)){proxiedPrototype[prop]=value;return}
proxiedPrototype[prop]=(function(){var _super=function(){return base.prototype[prop].apply(this,arguments)},_superApply=function(args){return base.prototype[prop].apply(this,args)};return function(){var __super=this._super,__superApply=this._superApply,returnValue;this._super=_super;this._superApply=_superApply;returnValue=value.apply(this,arguments);this._super=__super;this._superApply=__superApply;return returnValue}})()});constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor?(basePrototype.widgetEventPrefix||name):name},proxiedPrototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName});if(existingConstructor){$.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto)});delete existingConstructor._childConstructors}else{base._childConstructors.push(constructor)}
$.widget.bridge(name,constructor);return constructor};$.widget.extend=function(target){var input=widget_slice.call(arguments,1),inputIndex=0,inputLength=input.length,key,value;for(;inputIndex<inputLength;inputIndex++){for(key in input[inputIndex]){value=input[inputIndex][key];if(input[inputIndex].hasOwnProperty(key)&&value!==undefined){if($.isPlainObject(value)){target[key]=$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value)}else{target[key]=value}}}}
return target};$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall=typeof options==="string",args=widget_slice.call(arguments,1),returnValue=this;if(isMethodCall){this.each(function(){var methodValue,instance=$.data(this,fullName);if(options==="instance"){returnValue=instance;return!1}
if(!instance){return $.error("cannot call methods on "+name+" prior to initialization; "+"attempted to call method '"+options+"'")}
if(!$.isFunction(instance[options])||options.charAt(0)==="_"){return $.error("no such method '"+options+"' for "+name+" widget instance")}
methodValue=instance[options].apply(instance,args);if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue;return!1}})}else{if(args.length){options=$.widget.extend.apply(null,[options].concat(args))}
this.each(function(){var instance=$.data(this,fullName);if(instance){instance.option(options||{});if(instance._init){instance._init()}}else{$.data(this,fullName,new object(options,this))}})}
return returnValue}};$.Widget=function(){};$.Widget._childConstructors=[];$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0];this.element=$(element);this.uuid=widget_uuid++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=$();this.hoverable=$();this.focusable=$();if(element!==this){$.data(element,this.widgetFullName,this);this._on(!0,this.element,{remove:function(event){if(event.target===element){this.destroy()}}});this.document=$(element.style?element.ownerDocument:element.document||element);this.window=$(this.document[0].defaultView||this.document[0].parentWindow)}
this.options=$.widget.extend({},this.options,this._getCreateOptions(),options);this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:$.noop,widget:function(){return this.element},option:function(key,value){var options=key,parts,curOption,i;if(arguments.length===0){return $.widget.extend({},this.options)}
if(typeof key==="string"){options={};parts=key.split(".");key=parts.shift();if(parts.length){curOption=options[key]=$.widget.extend({},this.options[key]);for(i=0;i<parts.length-1;i++){curOption[parts[i]]=curOption[parts[i]]||{};curOption=curOption[parts[i]]}
key=parts.pop();if(arguments.length===1){return curOption[key]===undefined?null:curOption[key]}
curOption[key]=value}else{if(arguments.length===1){return this.options[key]===undefined?null:this.options[key]}
options[key]=value}}
this._setOptions(options);return this},_setOptions:function(options){var key;for(key in options){this._setOption(key,options[key])}
return this},_setOption:function(key,value){this.options[key]=value;if(key==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled",!!value);if(value){this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}}
return this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(suppressDisabledCheck,element,handlers){var delegateElement,instance=this;if(typeof suppressDisabledCheck!=="boolean"){handlers=element;element=suppressDisabledCheck;suppressDisabledCheck=!1}
if(!handlers){handlers=element;element=this.element;delegateElement=this.widget()}else{element=delegateElement=$(element);this.bindings=this.bindings.add(element)}
$.each(handlers,function(event,handler){function handlerProxy(){if(!suppressDisabledCheck&&(instance.options.disabled===!0||$(this).hasClass("ui-state-disabled"))){return}
return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments)}
if(typeof handler!=="string"){handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++}
var match=event.match(/^([\w:-]*)\s*(.*)$/),eventName=match[1]+instance.eventNamespace,selector=match[2];if(selector){delegateElement.delegate(selector,eventName,handlerProxy)}else{element.bind(eventName,handlerProxy)}})},_off:function(element,eventName){eventName=(eventName||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;element.unbind(eventName).undelegate(eventName);this.bindings=$(this.bindings.not(element).get());this.focusable=$(this.focusable.not(element).get());this.hoverable=$(this.hoverable.not(element).get())},_delay:function(handler,delay){function handlerProxy(){return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments)}
var instance=this;return setTimeout(handlerProxy,delay||0)},_hoverable:function(element){this.hoverable=this.hoverable.add(element);this._on(element,{mouseenter:function(event){$(event.currentTarget).addClass("ui-state-hover")},mouseleave:function(event){$(event.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(element){this.focusable=this.focusable.add(element);this._on(element,{focusin:function(event){$(event.currentTarget).addClass("ui-state-focus")},focusout:function(event){$(event.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(type,event,data){var prop,orig,callback=this.options[type];data=data||{};event=$.Event(event);event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase();event.target=this.element[0];orig=event.originalEvent;if(orig){for(prop in orig){if(!(prop in event)){event[prop]=orig[prop]}}}
this.element.trigger(event,data);return!($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===!1||event.isDefaultPrevented());}};$.each({show:"fadeIn",hide:"fadeOut"},function(method,defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){if(typeof options==="string"){options={effect:options}}
var hasOptions,effectName=!options?method:options===!0||typeof options==="number"?defaultEffect:options.effect||defaultEffect;options=options||{};if(typeof options==="number"){options={duration:options}}
hasOptions=!$.isEmptyObject(options);options.complete=callback;if(options.delay){element.delay(options.delay)}
if(hasOptions&&$.effects&&$.effects.effect[effectName]){element[method](options)}else if(effectName!==method&&element[effectName]){element[effectName](options.duration,options.easing,callback)}else{element.queue(function(next){$(this)[method]();if(callback){callback.call(element[0])}
next()})}}});var widget=$.widget;var mouseHandled=!1;$(document).mouseup(function(){mouseHandled=!1});var mouse=$.widget("ui.mouse",{version:"1.11.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var that=this;this.element.bind("mousedown."+this.widgetName,function(event){return that._mouseDown(event)}).bind("click."+this.widgetName,function(event){if(!0===$.data(event.target,that.widgetName+".preventClickEvent")){$.removeData(event.target,that.widgetName+".preventClickEvent");event.stopImmediatePropagation();return!1}});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(event){if(mouseHandled){return}
this._mouseMoved=!1;(this._mouseStarted&&this._mouseUp(event));this._mouseDownEvent=event;var that=this,btnIsLeft=(event.which===1),elIsCancel=(typeof this.options.cancel==="string"&&event.target.nodeName?$(event.target).closest(this.options.cancel).length:!1);if(!btnIsLeft||elIsCancel||!this._mouseCapture(event)){return!0}
this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){that.mouseDelayMet=!0},this.options.delay)}
if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(event)!==!1);if(!this._mouseStarted){event.preventDefault();return!0}}
if(!0===$.data(event.target,this.widgetName+".preventClickEvent")){$.removeData(event.target,this.widgetName+".preventClickEvent")}
this._mouseMoveDelegate=function(event){return that._mouseMove(event)};this._mouseUpDelegate=function(event){return that._mouseUp(event)};this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);event.preventDefault();mouseHandled=!0;return!0},_mouseMove:function(event){if(this._mouseMoved){if($.ui.ie&&(!document.documentMode||document.documentMode<9)&&!event.button){return this._mouseUp(event)}else if(!event.which){return this._mouseUp(event)}}
if(event.which||event.button){this._mouseMoved=!0}
if(this._mouseStarted){this._mouseDrag(event);return event.preventDefault()}
if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,event)!==!1);(this._mouseStarted?this._mouseDrag(event):this._mouseUp(event))}
return!this._mouseStarted},_mouseUp:function(event){this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=!1;if(event.target===this._mouseDownEvent.target){$.data(event.target,this.widgetName+".preventClickEvent",!0)}
this._mouseStop(event)}
mouseHandled=!1;return!1},_mouseDistanceMet:function(event){return(Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance)},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});var slider=$.widget("ui.slider",$.ui.mouse,{version:"1.11.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1;this._mouseSliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();this.element.addClass("ui-slider"+" ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var i,handleCount,options=this.options,existingHandles=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),handle="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",handles=[];handleCount=(options.values&&options.values.length)||1;if(existingHandles.length>handleCount){existingHandles.slice(handleCount).remove();existingHandles=existingHandles.slice(0,handleCount)}
for(i=existingHandles.length;i<handleCount;i++){handles.push(handle)}
this.handles=existingHandles.add($(handles.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(i){$(this).data("ui-slider-handle-index",i)})},_createRange:function(){var options=this.options,classes="";if(options.range){if(options.range===!0){if(!options.values){options.values=[this._valueMin(),this._valueMin()]}else if(options.values.length&&options.values.length!==2){options.values=[options.values[0],options.values[0]]}else if($.isArray(options.values)){options.values=options.values.slice(0)}}
if(!this.range||!this.range.length){this.range=$("<div></div>").appendTo(this.element);classes="ui-slider-range"+" ui-widget-header ui-corner-all"}else{this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({"left":"","bottom":""})}
this.range.addClass(classes+((options.range==="min"||options.range==="max")?" ui-slider-range-"+options.range:""))}else{if(this.range){this.range.remove()}
this.range=null}},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);this._focusable(this.handles)},_destroy:function(){this.handles.remove();if(this.range){this.range.remove()}
this.element.removeClass("ui-slider"+" ui-slider-horizontal"+" ui-slider-vertical"+" ui-widget"+" ui-widget-content"+" ui-corner-all");this._mouseDestroy()},_mouseCapture:function(event){var position,normValue,distance,closestHandle,index,allowed,offset,mouseOverHandle,that=this,o=this.options;if(o.disabled){return!1}
this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();position={x:event.pageX,y:event.pageY};normValue=this._normValueFromMouse(position);distance=this._valueMax()-this._valueMin()+1;this.handles.each(function(i){var thisDistance=Math.abs(normValue-that.values(i));if((distance>thisDistance)||(distance===thisDistance&&(i===that._lastChangedValue||that.values(i)===o.min))){distance=thisDistance;closestHandle=$(this);index=i}});allowed=this._start(event,index);if(allowed===!1){return!1}
this._mouseSliding=!0;this._handleIndex=index;closestHandle.addClass("ui-state-active").focus();offset=closestHandle.offset();mouseOverHandle=!$(event.target).parents().addBack().is(".ui-slider-handle");this._clickOffset=mouseOverHandle?{left:0,top:0}:{left:event.pageX-offset.left-(closestHandle.width()/2),top:event.pageY-offset.top-(closestHandle.height()/2)-(parseInt(closestHandle.css("borderTopWidth"),10)||0)-(parseInt(closestHandle.css("borderBottomWidth"),10)||0)+(parseInt(closestHandle.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(event,index,normValue)}
this._animateOff=!0;return!0},_mouseStart:function(){return!0},_mouseDrag:function(event){var position={x:event.pageX,y:event.pageY},normValue=this._normValueFromMouse(position);this._slide(event,this._handleIndex,normValue);return!1},_mouseStop:function(event){this.handles.removeClass("ui-state-active");this._mouseSliding=!1;this._stop(event,this._handleIndex);this._change(event,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=!1;return!1},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal"},_normValueFromMouse:function(position){var pixelTotal,pixelMouse,percentMouse,valueTotal,valueMouse;if(this.orientation==="horizontal"){pixelTotal=this.elementSize.width;pixelMouse=position.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{pixelTotal=this.elementSize.height;pixelMouse=position.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}
percentMouse=(pixelMouse/pixelTotal);if(percentMouse>1){percentMouse=1}
if(percentMouse<0){percentMouse=0}
if(this.orientation==="vertical"){percentMouse=1-percentMouse}
valueTotal=this._valueMax()-this._valueMin();valueMouse=this._valueMin()+percentMouse*valueTotal;return this._trimAlignValue(valueMouse)},_start:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values()}
return this._trigger("start",event,uiHash)},_slide:function(event,index,newVal){var otherVal,newValues,allowed;if(this.options.values&&this.options.values.length){otherVal=this.values(index?0:1);if((this.options.values.length===2&&this.options.range===!0)&&((index===0&&newVal>otherVal)||(index===1&&newVal<otherVal))){newVal=otherVal}
if(newVal!==this.values(index)){newValues=this.values();newValues[index]=newVal;allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal,values:newValues});otherVal=this.values(index?0:1);if(allowed!==!1){this.values(index,newVal)}}}else{if(newVal!==this.value()){allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal});if(allowed!==!1){this.value(newVal)}}}},_stop:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values()}
this._trigger("stop",event,uiHash)},_change:function(event,index){if(!this._keySliding&&!this._mouseSliding){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values()}
this._lastChangedValue=index;this._trigger("change",event,uiHash)}},value:function(newValue){if(arguments.length){this.options.value=this._trimAlignValue(newValue);this._refreshValue();this._change(null,0);return}
return this._value()},values:function(index,newValue){var vals,newValues,i;if(arguments.length>1){this.options.values[index]=this._trimAlignValue(newValue);this._refreshValue();this._change(null,index);return}
if(arguments.length){if($.isArray(arguments[0])){vals=this.options.values;newValues=arguments[0];for(i=0;i<vals.length;i+=1){vals[i]=this._trimAlignValue(newValues[i]);this._change(null,i)}
this._refreshValue()}else{if(this.options.values&&this.options.values.length){return this._values(index)}else{return this.value()}}}else{return this._values()}},_setOption:function(key,value){var i,valsLength=0;if(key==="range"&&this.options.range===!0){if(value==="min"){this.options.value=this._values(0);this.options.values=null}else if(value==="max"){this.options.value=this._values(this.options.values.length-1);this.options.values=null}}
if($.isArray(this.options.values)){valsLength=this.options.values.length}
if(key==="disabled"){this.element.toggleClass("ui-state-disabled",!!value)}
this._super(key,value);switch(key){case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();this.handles.css(value==="horizontal"?"bottom":"left","");break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(i=0;i<valsLength;i+=1){this._change(null,i)}
this._animateOff=!1;break;case "step":case "min":case "max":this._animateOff=!0;this._calculateNewMax();this._refreshValue();this._animateOff=!1;break;case "range":this._animateOff=!0;this._refresh();this._animateOff=!1;break}},_value:function(){var val=this.options.value;val=this._trimAlignValue(val);return val},_values:function(index){var val,vals,i;if(arguments.length){val=this.options.values[index];val=this._trimAlignValue(val);return val}else if(this.options.values&&this.options.values.length){vals=this.options.values.slice();for(i=0;i<vals.length;i+=1){vals[i]=this._trimAlignValue(vals[i])}
return vals}else{return[]}},_trimAlignValue:function(val){if(val<=this._valueMin()){return this._valueMin()}
if(val>=this._valueMax()){return this._valueMax()}
var step=(this.options.step>0)?this.options.step:1,valModStep=(val-this._valueMin())%step,alignValue=val-valModStep;if(Math.abs(valModStep)*2>=step){alignValue+=(valModStep>0)?step:(-step)}
return parseFloat(alignValue.toFixed(5))},_calculateNewMax:function(){var max=this.options.max,min=this._valueMin(),step=this.options.step,aboveMin=Math.floor((max-min)/step)*step;max=aboveMin+min;this.max=parseFloat(max.toFixed(this._precision()))},_precision:function(){var precision=this._precisionOf(this.options.step);if(this.options.min!==null){precision=Math.max(precision,this._precisionOf(this.options.min))}
return precision},_precisionOf:function(num){var str=num.toString(),decimal=str.indexOf(".");return decimal===-1?0:str.length-decimal-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var lastValPercent,valPercent,value,valueMin,valueMax,oRange=this.options.range,o=this.options,that=this,animate=(!this._animateOff)?o.animate:!1,_set={};if(this.options.values&&this.options.values.length){this.handles.each(function(i){valPercent=(that.values(i)-that._valueMin())/(that._valueMax()-that._valueMin())*100;_set[that.orientation==="horizontal"?"left":"bottom"]=valPercent+"%";$(this).stop(1,1)[animate?"animate":"css"](_set,o.animate);if(that.options.range===!0){if(that.orientation==="horizontal"){if(i===0){that.range.stop(1,1)[animate?"animate":"css"]({left:valPercent+"%"},o.animate)}
if(i===1){that.range[animate?"animate":"css"]({width:(valPercent-lastValPercent)+"%"},{queue:!1,duration:o.animate})}}else{if(i===0){that.range.stop(1,1)[animate?"animate":"css"]({bottom:(valPercent)+"%"},o.animate)}
if(i===1){that.range[animate?"animate":"css"]({height:(valPercent-lastValPercent)+"%"},{queue:!1,duration:o.animate})}}}
lastValPercent=valPercent})}else{value=this.value();valueMin=this._valueMin();valueMax=this._valueMax();valPercent=(valueMax!==valueMin)?(value-valueMin)/(valueMax-valueMin)*100:0;_set[this.orientation==="horizontal"?"left":"bottom"]=valPercent+"%";this.handle.stop(1,1)[animate?"animate":"css"](_set,o.animate);if(oRange==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[animate?"animate":"css"]({width:valPercent+"%"},o.animate)}
if(oRange==="max"&&this.orientation==="horizontal"){this.range[animate?"animate":"css"]({width:(100-valPercent)+"%"},{queue:!1,duration:o.animate})}
if(oRange==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[animate?"animate":"css"]({height:valPercent+"%"},o.animate)}
if(oRange==="max"&&this.orientation==="vertical"){this.range[animate?"animate":"css"]({height:(100-valPercent)+"%"},{queue:!1,duration:o.animate})}}},_handleEvents:{keydown:function(event){var allowed,curVal,newVal,step,index=$(event.target).data("ui-slider-handle-index");switch(event.keyCode){case $.ui.keyCode.HOME:case $.ui.keyCode.END:case $.ui.keyCode.PAGE_UP:case $.ui.keyCode.PAGE_DOWN:case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:event.preventDefault();if(!this._keySliding){this._keySliding=!0;$(event.target).addClass("ui-state-active");allowed=this._start(event,index);if(allowed===!1){return}}
break}
step=this.options.step;if(this.options.values&&this.options.values.length){curVal=newVal=this.values(index)}else{curVal=newVal=this.value()}
switch(event.keyCode){case $.ui.keyCode.HOME:newVal=this._valueMin();break;case $.ui.keyCode.END:newVal=this._valueMax();break;case $.ui.keyCode.PAGE_UP:newVal=this._trimAlignValue(curVal+((this._valueMax()-this._valueMin())/this.numPages));break;case $.ui.keyCode.PAGE_DOWN:newVal=this._trimAlignValue(curVal-((this._valueMax()-this._valueMin())/this.numPages));break;case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:if(curVal===this._valueMax()){return}
newVal=this._trimAlignValue(curVal+step);break;case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(curVal===this._valueMin()){return}
newVal=this._trimAlignValue(curVal-step);break}
this._slide(event,index,newVal)},keyup:function(event){var index=$(event.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=!1;this._stop(event,index);this._change(event,index);$(event.target).removeClass("ui-state-active")}}}})}));(function(window,document,Math){var rAF=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){window.setTimeout(callback,1000/60)};var utils=(function(){var me={};var _elementStyle=document.createElement('div').style;var _vendor=(function(){var vendors=['t','webkitT','MozT','msT','OT'],transform,i=0,l=vendors.length;for(;i<l;i++){transform=vendors[i]+'ransform';if(transform in _elementStyle)return vendors[i].substr(0,vendors[i].length-1)}
return!1})();function _prefixStyle(style){if(_vendor===!1)return!1;if(_vendor==='')return style;return _vendor+style.charAt(0).toUpperCase()+style.substr(1)}
me.getTime=Date.now||function getTime(){return new Date().getTime()};me.extend=function(target,obj){for(var i in obj){target[i]=obj[i]}};me.addEvent=function(el,type,fn,capture){if(el.addEventListener){el.addEventListener(type,fn,!!capture)}else{el.attachEvent('on'+type,fn,!!capture)}};me.removeEvent=function(el,type,fn,capture){if(el.removeEventListener){el.removeEventListener(type,fn,!!capture)}else{el.detachEvent('on'+type,fn,!!capture)}};me.prefixPointerEvent=function(pointerEvent){return window.MSPointerEvent?'MSPointer'+pointerEvent.charAt(9).toUpperCase()+pointerEvent.substr(10):pointerEvent};me.momentum=function(current,start,time,lowerMargin,wrapperSize,deceleration){var distance=current-start,speed=Math.abs(distance)/time,destination,duration;deceleration=deceleration===undefined?0.0006:deceleration;destination=current+(speed*speed)/(2*deceleration)*(distance<0?-1:1);duration=speed/deceleration;if(destination<lowerMargin){destination=wrapperSize?lowerMargin-(wrapperSize/2.5*(speed/8)):lowerMargin;distance=Math.abs(destination-current);duration=distance/speed}else if(destination>0){destination=wrapperSize?wrapperSize/2.5*(speed/8):0;distance=Math.abs(current)+destination;duration=distance/speed}
return{destination:Math.round(destination),duration:duration}};var _transform=_prefixStyle('transform');me.extend(me,{hasPerspective:_prefixStyle('perspective')in _elementStyle,hasTouch:'ontouchstart' in window,hasPointer:window.PointerEvent||window.MSPointerEvent,hasTransition:_prefixStyle('transition')in _elementStyle});me.isBadAndroid=/Android /.test(window.navigator.appVersion)&&!(/Chrome\/\d/.test(window.navigator.appVersion));me.extend(me.style={},{transitionTimingFunction:_prefixStyle('transitionTimingFunction'),transitionDuration:_prefixStyle('transitionDuration'),transitionDelay:_prefixStyle('transitionDelay'),transformOrigin:_prefixStyle('transformOrigin')});me.hasClass=function(e,c){var re=new RegExp("(^|\\s)"+c+"(\\s|$)");return re.test(e.className)};me.addClass=function(e,c){if(me.hasClass(e,c)){return}
var newclass=e.className.split(' ');newclass.push(c);e.className=newclass.join(' ')};me.removeClass=function(e,c){if(!me.hasClass(e,c)){return}
var re=new RegExp("(^|\\s)"+c+"(\\s|$)",'g');e.className=e.className.replace(re,' ')};me.offset=function(el){var left=-el.offsetLeft,top=-el.offsetTop;while(el=el.offsetParent){left-=el.offsetLeft;top-=el.offsetTop}
return{left:left,top:top}};me.preventDefaultException=function(el,exceptions){for(var i in exceptions){if(exceptions[i].test(el[i])){return!0}}
return!1};me.extend(me.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3});me.extend(me.ease={},{quadratic:{style:'cubic-bezier(0.25, 0.46, 0.45, 0.94)',fn:function(k){return k*(2-k)}},circular:{style:'cubic-bezier(0.1, 0.57, 0.1, 1)',fn:function(k){return Math.sqrt(1-(--k*k))}},back:{style:'cubic-bezier(0.175, 0.885, 0.32, 1.275)',fn:function(k){var b=4;return(k=k-1)*k*((b+1)*k+b)+1}},bounce:{style:'',fn:function(k){if((k/=1)<(1/2.75)){return 7.5625*k*k}else if(k<(2/2.75)){return 7.5625*(k-=(1.5/2.75))*k+0.75}else if(k<(2.5/2.75)){return 7.5625*(k-=(2.25/2.75))*k+0.9375}else{return 7.5625*(k-=(2.625/2.75))*k+0.984375}}},elastic:{style:'',fn:function(k){var f=0.22,e=0.4;if(k===0){return 0}
if(k==1){return 1}
return(e*Math.pow(2,-10*k)*Math.sin((k-f/4)*(2*Math.PI)/f)+1)}}});me.tap=function(e,eventName){var ev=document.createEvent('Event');ev.initEvent(eventName,!0,!0);ev.pageX=e.pageX;ev.pageY=e.pageY;e.target.dispatchEvent(ev)};me.click=function(e){var target=e.target,ev;if(!(/(SELECT|INPUT|TEXTAREA)/i).test(target.tagName)){ev=document.createEvent('MouseEvents');ev.initMouseEvent('click',!0,!0,e.view,1,target.screenX,target.screenY,target.clientX,target.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null);ev._constructed=!0;target.dispatchEvent(ev)}};return me})();function IScroll(el,options){this.wrapper=typeof el=='string'?document.querySelector(el):el;this.scroller=this.wrapper.children[0];this.scrollerStyle=this.scroller.style;this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:0.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:'',preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var i in options){this.options[i]=options[i]}
this.translateZ=this.options.HWCompositing&&utils.hasPerspective?' translateZ(0)':'';this.options.useTransition=utils.hasTransition&&this.options.useTransition;this.options.useTransform=utils.hasTransform&&this.options.useTransform;this.options.eventPassthrough=this.options.eventPassthrough===!0?'vertical':this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;this.options.scrollY=this.options.eventPassthrough=='vertical'?!1:this.options.scrollY;this.options.scrollX=this.options.eventPassthrough=='horizontal'?!1:this.options.scrollX;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing=typeof this.options.bounceEasing=='string'?utils.ease[this.options.bounceEasing]||utils.ease.circular:this.options.bounceEasing;this.options.resizePolling=this.options.resizePolling===undefined?60:this.options.resizePolling;if(this.options.tap===!0){this.options.tap='tap'}
if(this.options.shrinkScrollbars=='scale'){this.options.useTransition=!1}
this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1;this.x=0;this.y=0;this.directionX=0;this.directionY=0;this._events={};this._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);this.enable()}
IScroll.prototype={version:'5.1.2',_init:function(){this._initEvents();if(this.options.scrollbars||this.options.indicators){this._initIndicators()}
if(this.options.mouseWheel){this._initWheel()}
if(this.options.snap){this._initSnap()}
if(this.options.keyBindings){this._initKeys()}},destroy:function(){this._initEvents(!0);this._execEvent('destroy')},_transitionEnd:function(e){if(e.target!=this.scroller||!this.isInTransition){return}
this._transitionTime();if(!this.resetPosition(this.options.bounceTime)){this.isInTransition=!1;this._execEvent('scrollEnd',e)}},_start:function(e){if(utils.eventType[e.type]!=1){if(e.button!==0){return}}
if(!this.enabled||(this.initiated&&utils.eventType[e.type]!==this.initiated)){return}
if(this.options.preventDefault&&!utils.isBadAndroid&&!utils.preventDefaultException(e.target,this.options.preventDefaultException)){}
e.stopPropagation();var point=e.touches?e.touches[0]:e,pos;this.initiated=utils.eventType[e.type];this.moved=!1;this.distX=0;this.distY=0;this.directionX=0;this.directionY=0;this.directionLocked=0;this._transitionTime();this.startTime=utils.getTime();if(this.options.useTransition&&this.isInTransition){this.isInTransition=!1;pos=this.getComputedPosition();this._translate(Math.round(pos.x),Math.round(pos.y));this._execEvent('scrollEnd',e)}else if(!this.options.useTransition&&this.isAnimating){this.isAnimating=!1;this._execEvent('scrollEnd',e)}
this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=point.pageX;this.pointY=point.pageY;this._execEvent('beforeScrollStart')},_move:function(e){if(!this.enabled||utils.eventType[e.type]!==this.initiated){return}
if(this.options.preventDefault){e.preventDefault()}
var point=e.touches?e.touches[0]:e,deltaX=point.pageX-this.pointX,deltaY=point.pageY-this.pointY,timestamp=utils.getTime(),newX,newY,absDistX,absDistY;this.pointX=point.pageX;this.pointY=point.pageY;this.distX+=deltaX;this.distY+=deltaY;absDistX=Math.abs(this.distX);absDistY=Math.abs(this.distY);if(timestamp-this.endTime>300&&(absDistX<10&&absDistY<10)){return}
if(!this.directionLocked&&!this.options.freeScroll){if(absDistX>absDistY+this.options.directionLockThreshold){this.directionLocked='h'}else if(absDistY>=absDistX+this.options.directionLockThreshold){this.directionLocked='v'}else{this.directionLocked='n'}}
if(this.directionLocked=='h'){if(this.options.eventPassthrough=='vertical'){e.preventDefault()}else if(this.options.eventPassthrough=='horizontal'){this.initiated=!1;return}
deltaY=0}else if(this.directionLocked=='v'){if(this.options.eventPassthrough=='horizontal'){e.preventDefault()}else if(this.options.eventPassthrough=='vertical'){this.initiated=!1;return}
deltaX=0}
deltaX=this.hasHorizontalScroll?deltaX:0;deltaY=this.hasVerticalScroll?deltaY:0;newX=this.x+deltaX;newY=this.y+deltaY;if(newX>0||newX<this.maxScrollX){newX=this.options.bounce?this.x+deltaX/3:newX>0?0:this.maxScrollX}
if(newY>0||newY<this.maxScrollY){newY=this.options.bounce?this.y+deltaY/3:newY>0?0:this.maxScrollY}
this.directionX=deltaX>0?-1:deltaX<0?1:0;this.directionY=deltaY>0?-1:deltaY<0?1:0;if(!this.moved){this._execEvent('scrollStart')}
if(newX!=this.x||newY!=this.y){this._execEvent('moveStart',e)}else{this._execEvent('moveStop',e)}
this.moved=!0;this._translate(newX,newY);if(timestamp-this.startTime>300){this.startTime=timestamp;this.startX=this.x;this.startY=this.y}},_end:function(e){if(!this.enabled||utils.eventType[e.type]!==this.initiated){return}
if(this.options.preventDefault&&!utils.preventDefaultException(e.target,this.options.preventDefaultException)){}
var point=e.changedTouches?e.changedTouches[0]:e,momentumX,momentumY,duration=utils.getTime()-this.startTime,newX=Math.round(this.x),newY=Math.round(this.y),distanceX=Math.abs(newX-this.startX),distanceY=Math.abs(newY-this.startY),time=0,easing='';this.isInTransition=0;this.initiated=0;this.endTime=utils.getTime();if(this.resetPosition(this.options.bounceTime)){return}
this.scrollTo(newX,newY);if(!this.moved){if(this.options.tap){utils.tap(e,this.options.tap)}
if(this.options.click){utils.click(e)}
this._execEvent('scrollCancel');return}
if(this._events.flick&&duration<200&&distanceX<100&&distanceY<100){this._execEvent('flick');return}
if(this.options.momentum&&duration<300){momentumX=this.hasHorizontalScroll?utils.momentum(this.x,this.startX,duration,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:newX,duration:0};momentumY=this.hasVerticalScroll?utils.momentum(this.y,this.startY,duration,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:newY,duration:0};newX=momentumX.destination;newY=momentumY.destination;time=Math.max(momentumX.duration,momentumY.duration);this.isInTransition=1}
if(this.options.snap){var snap=this._nearestSnap(newX,newY);this.currentPage=snap;time=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(newX-snap.x),1000),Math.min(Math.abs(newY-snap.y),1000)),300);newX=snap.x;newY=snap.y;this.directionX=0;this.directionY=0;easing=this.options.bounceEasing}
if(newX!=this.x||newY!=this.y){if(newX>0||newX<this.maxScrollX||newY>0||newY<this.maxScrollY){easing=utils.ease.quadratic}
this.scrollTo(newX,newY,time,easing);return}
this._execEvent('scrollEnd',e)},_resize:function(){var that=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){that.refresh()},this.options.resizePolling)},resetPosition:function(time){var x=this.x,y=this.y;time=time||0;if(!this.hasHorizontalScroll||this.x>0){x=0}else if(this.x<this.maxScrollX){x=this.maxScrollX}
if(!this.hasVerticalScroll||this.y>0){y=0}else if(this.y<this.maxScrollY){y=this.maxScrollY}
if(x==this.x&&y==this.y){return!1}
this.scrollTo(x,y,time,this.options.bounceEasing);return!0},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){var rf=this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;this.scrollerWidth=this.scroller.offsetWidth;this.scrollerHeight=this.scroller.offsetHeight;this.maxScrollX=this.wrapperWidth-this.scrollerWidth;this.maxScrollY=this.wrapperHeight-this.scrollerHeight;this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0;this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0;if(!this.hasHorizontalScroll){this.maxScrollX=0;this.scrollerWidth=this.wrapperWidth}
if(!this.hasVerticalScroll){this.maxScrollY=0;this.scrollerHeight=this.wrapperHeight}
this.endTime=0;this.directionX=0;this.directionY=0;this.wrapperOffset=utils.offset(this.wrapper);this._execEvent('refresh');this.resetPosition()},on:function(type,fn){if(!this._events[type]){this._events[type]=[]}
this._events[type].push(fn)},off:function(type,fn){if(!this._events[type]){return}
var index=this._events[type].indexOf(fn);if(index>-1){this._events[type].splice(index,1)}},_execEvent:function(type){if(!this._events[type]){return}
var i=0,l=this._events[type].length;if(!l){return}
for(;i<l;i++){this._events[type][i].apply(this,[].slice.call(arguments,1))}},scrollBy:function(x,y,time,easing){x=this.x+x;y=this.y+y;time=time||0;this.scrollTo(x,y,time,easing)},scrollTo:function(x,y,time,easing){easing=easing||utils.ease.circular;this.isInTransition=this.options.useTransition&&time>0;if(!time||(this.options.useTransition&&easing.style)){this._transitionTimingFunction(easing.style);this._transitionTime(time);this._translate(x,y)}else{this._animate(x,y,time,easing.fn)}},scrollToElement:function(el,time,offsetX,offsetY,easing){el=el.nodeType?el:this.scroller.querySelector(el);if(!el){return}
var pos=utils.offset(el);pos.left-=this.wrapperOffset.left;pos.top-=this.wrapperOffset.top;if(offsetX===!0){offsetX=Math.round(el.offsetWidth/2-this.wrapper.offsetWidth/2)}
if(offsetY===!0){offsetY=Math.round(el.offsetHeight/2-this.wrapper.offsetHeight/2)}
pos.left-=offsetX||0;pos.top-=offsetY||0;pos.left=pos.left>0?0:pos.left<this.maxScrollX?this.maxScrollX:pos.left;pos.top=pos.top>0?0:pos.top<this.maxScrollY?this.maxScrollY:pos.top;time=time===undefined||time===null||time==='auto'?Math.max(Math.abs(this.x-pos.left),Math.abs(this.y-pos.top)):time;this.scrollTo(pos.left,pos.top,time,easing)},_transitionTime:function(time){time=time||0;this.scrollerStyle[utils.style.transitionDuration]=time+'ms';if(!time&&utils.isBadAndroid){this.scrollerStyle[utils.style.transitionDuration]='0.001s'}
if(this.indicators){for(var i=this.indicators.length;i--;){this.indicators[i].transitionTime(time)}}},_transitionTimingFunction:function(easing){this.scrollerStyle[utils.style.transitionTimingFunction]=easing;if(this.indicators){for(var i=this.indicators.length;i--;){this.indicators[i].transitionTimingFunction(easing)}}},_translate:function(x,y){if(this.options.useTransform){this.scrollerStyle[utils.style.transform]='translate('+x+'px,'+y+'px)'+this.translateZ}else{x=Math.round(x);y=Math.round(y);this.scrollerStyle.left=x+'px';this.scrollerStyle.top=y+'px'}
this.x=x;this.y=y;if(this.indicators){for(var i=this.indicators.length;i--;){this.indicators[i].updatePosition()}}},_initEvents:function(remove){var eventType=remove?utils.removeEvent:utils.addEvent,target=this.options.bindToWrapper?this.wrapper:window;eventType(window,'orientationchange',this);eventType(window,'resize',this);if(this.options.click){eventType(this.wrapper,'click',this,!0)}
if(!this.options.disableMouse){eventType(this.wrapper,'mousedown',this);eventType(target,'mousemove',this);eventType(target,'mousecancel',this);eventType(target,'mouseup',this)}
if(utils.hasPointer&&!this.options.disablePointer){eventType(this.wrapper,utils.prefixPointerEvent('pointerdown'),this);eventType(target,utils.prefixPointerEvent('pointermove'),this);eventType(target,utils.prefixPointerEvent('pointercancel'),this);eventType(target,utils.prefixPointerEvent('pointerup'),this)}
if(utils.hasTouch&&!this.options.disableTouch){eventType(this.wrapper,'touchstart',this);eventType(target,'touchmove',this);eventType(target,'touchcancel',this);eventType(target,'touchend',this)}
eventType(this.scroller,'transitionend',this);eventType(this.scroller,'webkitTransitionEnd',this);eventType(this.scroller,'oTransitionEnd',this);eventType(this.scroller,'MSTransitionEnd',this)},getComputedPosition:function(){var matrix=window.getComputedStyle(this.scroller,null),x,y;if(this.options.useTransform){matrix=matrix[utils.style.transform].split(')')[0].split(', ');x=+(matrix[12]||matrix[4]);y=+(matrix[13]||matrix[5])}else{x=+matrix.left.replace(/[^-\d.]/g,'');y=+matrix.top.replace(/[^-\d.]/g,'')}
return{x:x,y:y}},_initIndicators:function(){var interactive=this.options.interactiveScrollbars,customStyle=typeof this.options.scrollbars!='string',indicators=[],indicator;var that=this;this.indicators=[];if(this.options.scrollbars){if(this.options.scrollY){indicator={el:createDefaultScrollbar('v',interactive,this.options.scrollbars),interactive:interactive,defaultScrollbars:!0,customStyle:customStyle,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1};this.wrapper.appendChild(indicator.el);indicators.push(indicator)}
if(this.options.scrollX){indicator={el:createDefaultScrollbar('h',interactive,this.options.scrollbars),interactive:interactive,defaultScrollbars:!0,customStyle:customStyle,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1};this.wrapper.appendChild(indicator.el);indicators.push(indicator)}}
if(this.options.indicators){indicators=indicators.concat(this.options.indicators)}
for(var i=indicators.length;i--;){this.indicators.push(new Indicator(this,indicators[i]))}
function _indicatorsMap(fn){for(var i=that.indicators.length;i--;){fn.call(that.indicators[i])}}
if(this.options.fadeScrollbars){this.on('scrollEnd',function(){_indicatorsMap(function(){this.fade()})});this.on('scrollCancel',function(){_indicatorsMap(function(){this.fade()})});this.on('scrollStart',function(){_indicatorsMap(function(){this.fade(1)})});this.on('beforeScrollStart',function(){_indicatorsMap(function(){this.fade(1,!0)})})}
this.on('refresh',function(){_indicatorsMap(function(){this.refresh()})});this.on('destroy',function(){_indicatorsMap(function(){this.destroy()});delete this.indicators})},_initWheel:function(){utils.addEvent(this.wrapper,'wheel',this);utils.addEvent(this.wrapper,'mousewheel',this);utils.addEvent(this.wrapper,'DOMMouseScroll',this);this.on('destroy',function(){utils.removeEvent(this.wrapper,'wheel',this);utils.removeEvent(this.wrapper,'mousewheel',this);utils.removeEvent(this.wrapper,'DOMMouseScroll',this)})},_wheel:function(e){if(!this.enabled){return}
e.preventDefault();var wheelDeltaX,wheelDeltaY,newX,newY,that=this;if(this.wheelTimeout===undefined){that._execEvent('scrollStart')}
clearTimeout(this.wheelTimeout);this.wheelTimeout=setTimeout(function(){that._execEvent('scrollEnd',e);that.wheelTimeout=undefined},400);if('deltaX' in e){wheelDeltaX=-(e.deltaX?(e.deltaX>0?20:-20):0)/120*this.options.mouseWheelSpeed;wheelDeltaY=-(e.deltaY?(e.deltaY>0?20:-20):0)/120*this.options.mouseWheelSpeed}else if('wheelDeltaX' in e){wheelDeltaX=(e.wheelDeltaX?(e.wheelDeltaX>0?20:-20):0)/120*this.options.mouseWheelSpeed;wheelDeltaY=(e.wheelDeltaY?(e.wheelDeltaY>0?20:-20):0)/120*this.options.mouseWheelSpeed}else if('wheelDelta' in e){wheelDeltaX=wheelDeltaY=e.wheelDelta/120*this.options.mouseWheelSpeed}else if('detail' in e){wheelDeltaX=wheelDeltaY=-e.detail/3*this.options.mouseWheelSpeed}else{return}
wheelDeltaX*=this.options.invertWheelDirection;wheelDeltaY*=this.options.invertWheelDirection;if(!this.hasVerticalScroll){wheelDeltaX=wheelDeltaY;wheelDeltaY=0}
if(this.options.snap){newX=this.currentPage.pageX;newY=this.currentPage.pageY;if(wheelDeltaX>0){newX--}else if(wheelDeltaX<0){newX++}
if(wheelDeltaY>0){newY--}else if(wheelDeltaY<0){newY++}
this.goToPage(newX,newY);return}
newX=this.x+Math.round(this.hasHorizontalScroll?wheelDeltaX:0);newY=this.y+Math.round(this.hasVerticalScroll?wheelDeltaY:0);if(newX>0){newX=0}else if(newX<this.maxScrollX){newX=this.maxScrollX}
if(newY>0){newY=0}else if(newY<this.maxScrollY){newY=this.maxScrollY}
if(newX!=this.x||newY!=this.y){e.stopPropagation()}
this.scrollTo(newX,newY,0)},_initSnap:function(){this.currentPage={};if(typeof this.options.snap=='string'){this.options.snap=this.scroller.querySelectorAll(this.options.snap)}
this.on('refresh',function(){var i=0,l,m=0,n,cx,cy,x=0,y,stepX=this.options.snapStepX||this.wrapperWidth,stepY=this.options.snapStepY||this.wrapperHeight,el;this.pages=[];if(!this.wrapperWidth||!this.wrapperHeight||!this.scrollerWidth||!this.scrollerHeight){return}
if(this.options.snap===!0){cx=Math.round(stepX/2);cy=Math.round(stepY/2);while(x>-this.scrollerWidth){this.pages[i]=[];l=0;y=0;while(y>-this.scrollerHeight){this.pages[i][l]={x:Math.max(x,this.maxScrollX),y:Math.max(y,this.maxScrollY),width:stepX,height:stepY,cx:x-cx,cy:y-cy};y-=stepY;l++}
x-=stepX;i++}}else{el=this.options.snap;l=el.length;n=-1;for(;i<l;i++){if(i===0||el[i].offsetLeft<=el[i-1].offsetLeft){m=0;n++}
if(!this.pages[m]){this.pages[m]=[]}
x=Math.max(-el[i].offsetLeft,this.maxScrollX);y=Math.max(-el[i].offsetTop,this.maxScrollY);cx=x-Math.round(el[i].offsetWidth/2);cy=y-Math.round(el[i].offsetHeight/2);this.pages[m][n]={x:x,y:y,width:el[i].offsetWidth,height:el[i].offsetHeight,cx:cx,cy:cy};if(x>this.maxScrollX){m++}}}
this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0);if(this.options.snapThreshold%1===0){this.snapThresholdX=this.options.snapThreshold;this.snapThresholdY=this.options.snapThreshold}else{this.snapThresholdX=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold);this.snapThresholdY=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold)}});this.on('flick',function(){var time=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.x-this.startX),1000),Math.min(Math.abs(this.y-this.startY),1000)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,time)})},_nearestSnap:function(x,y){if(!this.pages.length){return{x:0,y:0,pageX:0,pageY:0}}
var i=0,l=this.pages.length,m=0;if(Math.abs(x-this.absStartX)<this.snapThresholdX&&Math.abs(y-this.absStartY)<this.snapThresholdY){return this.currentPage}
if(x>0){x=0}else if(x<this.maxScrollX){x=this.maxScrollX}
if(y>0){y=0}else if(y<this.maxScrollY){y=this.maxScrollY}
for(;i<l;i++){if(x>=this.pages[i][0].cx){x=this.pages[i][0].x;break}}
l=this.pages[i].length;for(;m<l;m++){if(y>=this.pages[0][m].cy){y=this.pages[0][m].y;break}}
if(i==this.currentPage.pageX){i+=this.directionX;if(i<0){i=0}else if(i>=this.pages.length){i=this.pages.length-1}
x=this.pages[i][0].x}
if(m==this.currentPage.pageY){m+=this.directionY;if(m<0){m=0}else if(m>=this.pages[0].length){m=this.pages[0].length-1}
y=this.pages[0][m].y}
return{x:x,y:y,pageX:i,pageY:m}},goToPage:function(x,y,time,easing){easing=easing||this.options.bounceEasing;if(x>=this.pages.length){x=this.pages.length-1}else if(x<0){x=0}
if(y>=this.pages[x].length){y=this.pages[x].length-1}else if(y<0){y=0}
var posX=this.pages[x][y].x,posY=this.pages[x][y].y;time=time===undefined?this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(posX-this.x),1000),Math.min(Math.abs(posY-this.y),1000)),300):time;this.currentPage={x:posX,y:posY,pageX:x,pageY:y};this.scrollTo(posX,posY,time,easing)},next:function(time,easing){var x=this.currentPage.pageX,y=this.currentPage.pageY;x++;if(x>=this.pages.length&&this.hasVerticalScroll){x=0;y++}
this.goToPage(x,y,time,easing)},prev:function(time,easing){var x=this.currentPage.pageX,y=this.currentPage.pageY;x--;if(x<0&&this.hasVerticalScroll){x=0;y--}
this.goToPage(x,y,time,easing)},_initKeys:function(e){var keys={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};var i;if(typeof this.options.keyBindings=='object'){for(i in this.options.keyBindings){if(typeof this.options.keyBindings[i]=='string'){this.options.keyBindings[i]=this.options.keyBindings[i].toUpperCase().charCodeAt(0)}}}else{this.options.keyBindings={}}
for(i in keys){this.options.keyBindings[i]=this.options.keyBindings[i]||keys[i]}
utils.addEvent(window,'keydown',this);this.on('destroy',function(){utils.removeEvent(window,'keydown',this)})},_key:function(e){if(!this.enabled){return}
var snap=this.options.snap,newX=snap?this.currentPage.pageX:this.x,newY=snap?this.currentPage.pageY:this.y,now=utils.getTime(),prevTime=this.keyTime||0,acceleration=0.250,pos;if(this.options.useTransition&&this.isInTransition){pos=this.getComputedPosition();this._translate(Math.round(pos.x),Math.round(pos.y));this.isInTransition=!1}
this.keyAcceleration=now-prevTime<200?Math.min(this.keyAcceleration+acceleration,50):0;switch(e.keyCode){case this.options.keyBindings.pageUp:if(this.hasHorizontalScroll&&!this.hasVerticalScroll){newX+=snap?1:this.wrapperWidth}else{newY+=snap?1:this.wrapperHeight}
break;case this.options.keyBindings.pageDown:if(this.hasHorizontalScroll&&!this.hasVerticalScroll){newX-=snap?1:this.wrapperWidth}else{newY-=snap?1:this.wrapperHeight}
break;case this.options.keyBindings.end:newX=snap?this.pages.length-1:this.maxScrollX;newY=snap?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:newX=0;newY=0;break;case this.options.keyBindings.left:newX+=snap?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:newY+=snap?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:newX-=snap?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:newY-=snap?1:5+this.keyAcceleration>>0;break;default:return}
if(snap){this.goToPage(newX,newY);return}
if(newX>0){newX=0;this.keyAcceleration=0}else if(newX<this.maxScrollX){newX=this.maxScrollX;this.keyAcceleration=0}
if(newY>0){newY=0;this.keyAcceleration=0}else if(newY<this.maxScrollY){newY=this.maxScrollY;this.keyAcceleration=0}
this.scrollTo(newX,newY,0);this.keyTime=now},_animate:function(destX,destY,duration,easingFn){var that=this,startX=this.x,startY=this.y,startTime=utils.getTime(),destTime=startTime+duration;function step(){var now=utils.getTime(),newX,newY,easing;if(now>=destTime){that.isAnimating=!1;that._translate(destX,destY);if(!that.resetPosition(that.options.bounceTime)){that._execEvent('scrollEnd',null)}
return}
now=(now-startTime)/duration;easing=easingFn(now);newX=(destX-startX)*easing+startX;newY=(destY-startY)*easing+startY;that._translate(newX,newY);if(that.isAnimating){rAF(step)}}
this.isAnimating=!0;step()},__resized:!1,handleEvent:function(e){if(typeof e.type=='undefined')return;switch(e.type){case 'touchstart':case 'pointerdown':case 'MSPointerDown':case 'mousedown':this._start(e);if(!this.__resized){this._resize();this.__resized=!0}
break;case 'touchmove':case 'pointermove':case 'MSPointerMove':case 'mousemove':this._move(e);break;case 'touchend':case 'pointerup':case 'MSPointerUp':case 'mouseup':case 'touchcancel':case 'pointercancel':case 'MSPointerCancel':case 'mousecancel':this._end(e);break;case 'orientationchange':case 'resize':this._resize();break;case 'transitionend':case 'webkitTransitionEnd':case 'oTransitionEnd':case 'MSTransitionEnd':this._transitionEnd(e);break;case 'wheel':case 'DOMMouseScroll':case 'mousewheel':this._wheel(e);if(!this.__resized){this._resize();this.__resized=!0}
break;case 'keydown':this._key(e);break;case 'click':if(!e._constructed){e.preventDefault();e.stopPropagation()}
break}}};function createDefaultScrollbar(direction,interactive,type){var scrollbar=document.createElement('div'),indicator=document.createElement('div');if(type===!0){scrollbar.style.cssText='position:absolute;z-index:9999';indicator.style.cssText='-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border-radius:3px'}
indicator.className='iScrollIndicator';if(direction=='h'){if(type===!0){scrollbar.style.cssText+=';height:7px;left:2px;right:2px;bottom:0';indicator.style.height='100%'}
scrollbar.className='iScrollHorizontalScrollbar'}else{if(type===!0){scrollbar.style.cssText+=';width:6px;bottom:2px;top:2px;right:1px';scrollbar.style.marginLeft='1px';indicator.style.width='100%'}
scrollbar.className='iScrollVerticalScrollbar'}
scrollbar.style.cssText+=';overflow:hidden';if(!interactive){scrollbar.style.pointerEvents='none'}
scrollbar.appendChild(indicator);return scrollbar}
function Indicator(scroller,options){this.wrapper=typeof options.el=='string'?document.querySelector(options.el):options.el;this.wrapperStyle=this.wrapper.style;this.indicator=this.wrapper.children[0];this.indicatorStyle=this.indicator.style;this.scroller=scroller;this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var i in options){this.options[i]=options[i]}
this.sizeRatioX=1;this.sizeRatioY=1;this.maxPosX=0;this.maxPosY=0;if(this.options.interactive){if(!this.options.disableTouch){utils.addEvent(this.indicator,'touchstart',this);utils.addEvent(window,'touchend',this)}
if(!this.options.disablePointer){utils.addEvent(this.indicator,utils.prefixPointerEvent('pointerdown'),this);utils.addEvent(window,utils.prefixPointerEvent('pointerup'),this)}
if(!this.options.disableMouse){utils.addEvent(this.indicator,'mousedown',this);utils.addEvent(window,'mouseup',this)}}
if(this.options.fade){this.wrapperStyle[utils.style.transform]=this.scroller.translateZ;this.wrapperStyle[utils.style.transitionDuration]=utils.isBadAndroid?'0.001s':'0ms';this.wrapperStyle.opacity='0'}}
Indicator.prototype={handleEvent:function(e){switch(e.type){case 'touchstart':case 'pointerdown':case 'MSPointerDown':case 'mousedown':this._start(e);break;case 'touchmove':case 'pointermove':case 'MSPointerMove':case 'mousemove':this._move(e);break;case 'touchend':case 'pointerup':case 'MSPointerUp':case 'mouseup':case 'touchcancel':case 'pointercancel':case 'MSPointerCancel':case 'mousecancel':this._end(e);break}},destroy:function(){if(this.options.interactive){utils.removeEvent(this.indicator,'touchstart',this);utils.removeEvent(this.indicator,utils.prefixPointerEvent('pointerdown'),this);utils.removeEvent(this.indicator,'mousedown',this);utils.removeEvent(window,'touchmove',this);utils.removeEvent(window,utils.prefixPointerEvent('pointermove'),this);utils.removeEvent(window,'mousemove',this);utils.removeEvent(window,'touchend',this);utils.removeEvent(window,utils.prefixPointerEvent('pointerup'),this);utils.removeEvent(window,'mouseup',this)}
if(this.options.defaultScrollbars){this.wrapper.parentNode.removeChild(this.wrapper)}},_start:function(e){var point=e.touches?e.touches[0]:e;e.preventDefault();e.stopPropagation();this.transitionTime();this.initiated=!0;this.moved=!1;this.lastPointX=point.pageX;this.lastPointY=point.pageY;this.startTime=utils.getTime();if(!this.options.disableTouch){utils.addEvent(window,'touchmove',this)}
if(!this.options.disablePointer){utils.addEvent(window,utils.prefixPointerEvent('pointermove'),this)}
if(!this.options.disableMouse){utils.addEvent(window,'mousemove',this)}
this.scroller._execEvent('beforeScrollStart')},_move:function(e){var point=e.touches?e.touches[0]:e,deltaX,deltaY,newX,newY,timestamp=utils.getTime();if(!this.moved){this.scroller._execEvent('scrollStart')}
this.moved=!0;deltaX=point.pageX-this.lastPointX;this.lastPointX=point.pageX;deltaY=point.pageY-this.lastPointY;this.lastPointY=point.pageY;newX=this.x+deltaX;newY=this.y+deltaY;this._pos(newX,newY);e.preventDefault();e.stopPropagation()},_end:function(e){if(!this.initiated){return}
this.initiated=!1;e.preventDefault();e.stopPropagation();utils.removeEvent(window,'touchmove',this);utils.removeEvent(window,utils.prefixPointerEvent('pointermove'),this);utils.removeEvent(window,'mousemove',this);if(this.scroller.options.snap){var snap=this.scroller._nearestSnap(this.scroller.x,this.scroller.y);var time=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.scroller.x-snap.x),1000),Math.min(Math.abs(this.scroller.y-snap.y),1000)),300);if(this.scroller.x!=snap.x||this.scroller.y!=snap.y){this.scroller.directionX=0;this.scroller.directionY=0;this.scroller.currentPage=snap;this.scroller.scrollTo(snap.x,snap.y,time,this.scroller.options.bounceEasing)}}
if(this.moved){this.scroller._execEvent('scrollEnd',e)}},transitionTime:function(time){time=time||0;this.indicatorStyle[utils.style.transitionDuration]=time+'ms';if(!time&&utils.isBadAndroid){this.indicatorStyle[utils.style.transitionDuration]='0.001s'}},transitionTimingFunction:function(easing){this.indicatorStyle[utils.style.transitionTimingFunction]=easing},refresh:function(){this.transitionTime();if(this.options.listenX&&!this.options.listenY){this.indicatorStyle.display=this.scroller.hasHorizontalScroll?'block':'none'}else if(this.options.listenY&&!this.options.listenX){this.indicatorStyle.display=this.scroller.hasVerticalScroll?'block':'none'}else{this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?'block':'none'}
if(this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll){utils.addClass(this.wrapper,'iScrollBothScrollbars');utils.removeClass(this.wrapper,'iScrollLoneScrollbar');if(this.options.defaultScrollbars&&this.options.customStyle){if(this.options.listenX){this.wrapper.style.right='8px'}else{this.wrapper.style.bottom='8px'}}}else{utils.removeClass(this.wrapper,'iScrollBothScrollbars');utils.addClass(this.wrapper,'iScrollLoneScrollbar');if(this.options.defaultScrollbars&&this.options.customStyle){if(this.options.listenX){this.wrapper.style.right='2px'}else{this.wrapper.style.bottom='2px'}}}
var r=this.wrapper.offsetHeight;if(this.options.listenX){this.wrapperWidth=this.wrapper.clientWidth;if(this.options.resize){this.indicatorWidth=Math.max(Math.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8);this.indicatorStyle.width=this.indicatorWidth+'px'}else{this.indicatorWidth=this.indicator.clientWidth}
this.maxPosX=this.wrapperWidth-this.indicatorWidth;if(this.options.shrink=='clip'){this.minBoundaryX=-this.indicatorWidth+8;this.maxBoundaryX=this.wrapperWidth-8}else{this.minBoundaryX=0;this.maxBoundaryX=this.maxPosX}
this.sizeRatioX=this.options.speedRatioX||(this.scroller.maxScrollX&&(this.maxPosX/this.scroller.maxScrollX))}
if(this.options.listenY){this.wrapperHeight=this.wrapper.clientHeight;if(this.options.resize){this.indicatorHeight=Math.max(Math.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8);this.indicatorStyle.height=this.indicatorHeight+'px'}else{this.indicatorHeight=this.indicator.clientHeight}
this.maxPosY=this.wrapperHeight-this.indicatorHeight;if(this.options.shrink=='clip'){this.minBoundaryY=-this.indicatorHeight+8;this.maxBoundaryY=this.wrapperHeight-8}else{this.minBoundaryY=0;this.maxBoundaryY=this.maxPosY}
this.maxPosY=this.wrapperHeight-this.indicatorHeight;this.sizeRatioY=this.options.speedRatioY||(this.scroller.maxScrollY&&(this.maxPosY/this.scroller.maxScrollY))}
this.updatePosition()},updatePosition:function(){var x=this.options.listenX&&Math.round(this.sizeRatioX*this.scroller.x)||0,y=this.options.listenY&&Math.round(this.sizeRatioY*this.scroller.y)||0;if(!this.options.ignoreBoundaries){if(x<this.minBoundaryX){if(this.options.shrink=='scale'){this.width=Math.max(this.indicatorWidth+x,8);this.indicatorStyle.width=this.width+'px'}
x=this.minBoundaryX}else if(x>this.maxBoundaryX){if(this.options.shrink=='scale'){this.width=Math.max(this.indicatorWidth-(x-this.maxPosX),8);this.indicatorStyle.width=this.width+'px';x=this.maxPosX+this.indicatorWidth-this.width}else{x=this.maxBoundaryX}}else if(this.options.shrink=='scale'&&this.width!=this.indicatorWidth){this.width=this.indicatorWidth;this.indicatorStyle.width=this.width+'px'}
if(y<this.minBoundaryY){if(this.options.shrink=='scale'){this.height=Math.max(this.indicatorHeight+y*3,8);this.indicatorStyle.height=this.height+'px'}
y=this.minBoundaryY}else if(y>this.maxBoundaryY){if(this.options.shrink=='scale'){this.height=Math.max(this.indicatorHeight-(y-this.maxPosY)*3,8);this.indicatorStyle.height=this.height+'px';y=this.maxPosY+this.indicatorHeight-this.height}else{y=this.maxBoundaryY}}else if(this.options.shrink=='scale'&&this.height!=this.indicatorHeight){this.height=this.indicatorHeight;this.indicatorStyle.height=this.height+'px'}}
this.x=x;this.y=y;if(this.scroller.options.useTransform){this.indicatorStyle[utils.style.transform]='translate('+x+'px,'+y+'px)'+this.scroller.translateZ}else{this.indicatorStyle.left=x+'px';this.indicatorStyle.top=y+'px'}},_pos:function(x,y){if(x<0){x=0}else if(x>this.maxPosX){x=this.maxPosX}
if(y<0){y=0}else if(y>this.maxPosY){y=this.maxPosY}
x=this.options.listenX?Math.round(x/this.sizeRatioX):this.scroller.x;y=this.options.listenY?Math.round(y/this.sizeRatioY):this.scroller.y;this.scroller.scrollTo(x,y)},fade:function(val,hold){if(hold&&!this.visible){return}
clearTimeout(this.fadeTimeout);this.fadeTimeout=null;var time=val?250:500,delay=val?0:300;val=val?'1':'0';this.wrapperStyle[utils.style.transitionDuration]=time+'ms';this.fadeTimeout=setTimeout((function(val){this.wrapperStyle.opacity=val;this.visible=+val}).bind(this,val),delay)}};IScroll.utils=utils;if(typeof module!='undefined'&&module.exports){module.exports=IScroll}else{window.IScroll=IScroll}})(window,document,Math);(function($){$.fn.liveFilter=function(inputEl,filterEl,options){var defaults={filterChildSelector:null,filter:function(el,val){return $(el).text().toUpperCase().indexOf(val.toUpperCase())>=0},before:function(){},after:function(){}};var options=$.extend(defaults,options);var self=$(this);var filter=options.filter;$(inputEl).keyup(function(){var el=self.find(filterEl);if(options.filterChildSelector)el=el.find(options.filterChildSelector);var val=$(this).val();var contains=el.filter(function(){return filter(this,val)});var containsNot=el.not(contains);if(options.filterChildSelector){contains=contains.parents(filterEl);containersNot=containsNot.parents(filterEl).addClass('mfilter-hide-by-live-filter')}
options.before.call(this,contains,containsNot);contains.removeClass('mfilter-hide-by-live-filter');containsNot.addClass('mfilter-hide-by-live-filter');if(val===''){contains.removeClass('mfilter-hide-by-live-filter');containsNot.removeClass('mfilter-hide-by-live-filter')}
options.after.call(this,contains,containsNot)})}})(jQuery);(function($){$.fn.addBack=$.fn.addBack||$.fn.andSelf;$.fn.extend({actual:function(method,options){if(!this[method]){throw '$.actual => The jQuery method "'+method+'" you called does not exist'}
var defaults={absolute:!1,clone:!1,includeMargin:!1};var configs=$.extend(defaults,options);var $target=this.eq(0);var fix,restore;if(configs.clone===!0){fix=function(){var style='position: absolute !important; top: -1000 !important; ';$target=$target.clone().attr('style',style).appendTo('body')};restore=function(){$target.remove()}}else{var tmp=[];var style='';var $hidden;fix=function(){$hidden=$target.parents().addBack().filter(':hidden');style+='visibility: hidden !important; display: block !important; ';if(configs.absolute===!0)style+='position: absolute !important; ';$hidden.each(function(){var $this=$(this);var thisStyle=$this.attr('style');tmp.push(thisStyle);$this.attr('style',thisStyle?thisStyle+';'+style:style)})};restore=function(){$hidden.each(function(i){var $this=$(this);var _tmp=tmp[i];if(_tmp===undefined){$this.removeAttr('style')}else{$this.attr('style',_tmp)}})}}
fix();var actual=/(outer)/.test(method)?$target[method](configs.includeMargin):$target[method]();restore();return actual}})})(jQuery);(function($){$.support.touch='ontouchend' in document;if(!$.support.touch){return}
var mouseProto=$.ui.mouse.prototype,_mouseInit=mouseProto._mouseInit,_mouseDestroy=mouseProto._mouseDestroy,touchHandled;function simulateMouseEvent(event,simulatedType){if(event.originalEvent.touches.length>1){return}
event.preventDefault();var touch=event.originalEvent.changedTouches[0],simulatedEvent=document.createEvent('MouseEvents');simulatedEvent.initMouseEvent(simulatedType,!0,!0,window,1,touch.screenX,touch.screenY,touch.clientX,touch.clientY,!1,!1,!1,!1,0,null);event.target.dispatchEvent(simulatedEvent)}
mouseProto._touchStart=function(event){var self=this;if(touchHandled||!self._mouseCapture(event.originalEvent.changedTouches[0])){return}
touchHandled=!0;self._touchMoved=!1;simulateMouseEvent(event,'mouseover');simulateMouseEvent(event,'mousemove');simulateMouseEvent(event,'mousedown')};mouseProto._touchMove=function(event){if(!touchHandled){return}
this._touchMoved=!0;simulateMouseEvent(event,'mousemove')};mouseProto._touchEnd=function(event){if(!touchHandled){return}
simulateMouseEvent(event,'mouseup');simulateMouseEvent(event,'mouseout');if(!this._touchMoved){simulateMouseEvent(event,'click')}
touchHandled=!1};mouseProto._mouseInit=function(){var self=this;self.element.bind({touchstart:$.proxy(self,'_touchStart'),touchmove:$.proxy(self,'_touchMove'),touchend:$.proxy(self,'_touchEnd')});_mouseInit.call(self)};mouseProto._mouseDestroy=function(){var self=this;self.element.unbind({touchstart:$.proxy(self,'_touchStart'),touchmove:$.proxy(self,'_touchMove'),touchend:$.proxy(self,'_touchEnd')});_mouseDestroy.call(self)}})(jQuery);if(typeof Array.prototype.indexOf=='undefined'){Array.prototype.indexOf=function(obj,start){for(var i=(start||0),j=this.length;i<j;i++){if(this[i]===obj){return i}}
return-1}};var MegaFilterINSTANCES=typeof MegaFilterINSTANCES=='undefined'?[]:MegaFilterINSTANCES;var MegaFilter=function(){};MegaFilter.prototype={_box:null,_options:null,_timeoutAjax:null,_timeoutSearchFiled:null,_url:null,_urlSep:null,_params:null,_scrolls:null,_buttonsMore:null,_liveFilters:null,_jqContent:null,_jqLoader:null,_jqLoaderFilter:null,_sliders:null,_contentId:'#content',_busy:!1,_waitingChanges:!1,_lastResponse:'',_refreshPrice:function(){},_inUrl:null,_isInit:!1,_cache:null,_relativeScroll:null,_selectOptions:null,_lastUrl:null,_urlToFilters:null,_instanceIdx:0,_inlineHorizontalUpdate:null,_lastEvent:null,_startUrl:null,_history:1,_changed:!1,_ajaxPagination:null,init:function(box,options){var self=this,i;self._instanceIdx=MegaFilterINSTANCES.length;if(options.routeHome==options.route&&options.homePageAJAX){self._contentId=options.homePageContentSelector}else if(options.contentSelector){self._contentId=options.contentSelector}
self._jqContent=jQuery(self._contentId);self._options=options;if(!self._jqContent.length){self._contentId='#content';self._jqContent=jQuery(self._contentId)}
if(self._startUrl===null){self._startUrl=self.location()}
self._scrolls=[];self._buttonsMore=[];self._liveFilters=[];self._sliders=[];self._inlineHorizontalUpdate=[];self._box=box;self._selectOptions={};self._cache={'lastResponse':{},'mainContent':{}};self.initResponsive();if(self._options.manualInit&&!self._isInit){var items=self._box.find('> .mfilter-content').find('> ul,> div').hide(),$init=jQuery('<a href="#" style="padding: 10px; text-align: center; display: block;">'+self._options.text.init_filter+'</a>').appendTo(self._box.find('> .mfilter-content'));$init.click(function(){$init.text(self._options.text.initializing);setTimeout(function(){items.show();self.boot();$init.remove()},100);return!1})}else{self.boot()}
return self},boot:function(){var self=this,i;self.initUrls();for(i in self._options.params){if(typeof self._options.params[i]=='function')continue;if(typeof self._params[i]=='undefined'){self._params[i]=self._options.params[i]}}
self.initSliders();for(i in self){if(i.indexOf('_init')===0){self[i]()}}
self._isInit=!0},microtime:function(get_as_float){var now=new Date().getTime()/1000;var s=parseInt(now,10);return(get_as_float)?now:(Math.round((now-s)*1000)/1000)+' '+s},keys:function(obj){var keys=[];for(var i in obj){keys.push(i)}
return keys},base64_decode:function(data){var b64='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';var o1,o2,o3,h1,h2,h3,h4,bits,i=0,ac=0,dec='',tmp_arr=[];if(!data){return data}
data+='';do{h1=b64.indexOf(data.charAt(i++));h2=b64.indexOf(data.charAt(i++));h3=b64.indexOf(data.charAt(i++));h4=b64.indexOf(data.charAt(i++));bits=h1<<18|h2<<12|h3<<6|h4;o1=bits>>16&0xff;o2=bits>>8&0xff;o3=bits&0xff;if(h3==64){tmp_arr[ac++]=String.fromCharCode(o1)}else if(h4==64){tmp_arr[ac++]=String.fromCharCode(o1,o2)}else{tmp_arr[ac++]=String.fromCharCode(o1,o2,o3)}}while(i<data.length);dec=tmp_arr.join('');return dec.replace(/\0+$/,'')},sortKeys:function(data){var keys=[],sortData=[],i;for(i in data){sortData.push([i,data[i]])}
sortData.sort(function(a,b){var sa=typeof a[1].sort_order=='undefined'?0:a[1].sort_order,sb=typeof b[1].sort_order=='undefined'?0:b[1].sort_order;if(sa>sb){return 1}else if(sa<sb){return-1}
return 0});for(i=0;i<sortData.length;i++){keys.push(sortData[i][0])}
return keys},initSliders:function(){var self=this,_init=!1;function d(txt){var $i=jQuery('<div>').html(txt),txt2=$i.text();$i.remove();return txt2}
self._box.find('li.mfilter-filter-item.mfilter-slider').each(function(i){var _this=jQuery(this).attr('data-slider-id',i),seo_name=_this.attr('data-seo-name'),data=jQuery.parseJSON(self.base64_decode(_this.find('.mfilter-slider-data').html())),$min=_this.find('.mfilter-opts-slider-min'),$max=_this.find('.mfilter-opts-slider-max'),$slider=_this.find('.mfilter-slider-slider'),update=!1,keys,values,map;function init(data){keys=self.sortKeys(data);if(_init){if(!keys.length){$slider.slider().slider('disable');return}else{$slider.slider().slider('enable')}}
if(keys.length==1){data.copy=data[keys[0]];keys.push('copy')}
var filters=update?self.filters():self.urlToFilters();values=typeof filters[seo_name]!='undefined'?(function(){var d=[];for(var i=0;i<filters[seo_name].length;i++){d[i]=self.decode(decodeURIComponent(filters[seo_name][i]))}
return d})():[data[keys[0]].key,data[keys[keys.length-1]].key];map=(function(){var m=[keys.indexOf(values[0]),keys.indexOf(values[values.length-1])];if(m[0]!=-1&&m[1]!=-1){return typeof filters[seo_name]=='undefined'?[0,keys.length-1]:m}
for(var i=0;i<keys.length;i++){if(m[0]==-1){if(values[0]==d(data[keys[i]].value)){m[0]=i}}else if(m[1]==-1){if(values[values.length-1]==d(data[keys[i]].value)){m[1]=typeof data.copy=='undefined'?i:(typeof filters[seo_name]=='undefined'?1:m[0])}}else{break}}
if(m[0]==-1){m[0]=0}
if(m[1]==-1){m[1]=m[0]}
return m})();$min.attr('data-key',map[0]).attr('data-min',0).val(d(data[keys[map[0]]].name));$max.attr('data-key',map[1]).attr('data-max',keys.length-1).val(d(data[keys[map[1]]].name));$slider.slider({range:!0,min:0,max:keys.length-1,values:map,slide:function(e,ui){if(typeof keys[ui.values[0]]=='undefined'||typeof data[keys[ui.values[0]]]=='undefined')
return;if(typeof keys[ui.values[1]]=='undefined'||typeof data[keys[ui.values[1]]]=='undefined')
return;$min.attr('data-key',ui.values[0]).val(d(data[keys[ui.values[0]]].name));$max.attr('data-key',ui.values[1]).val(d(data[keys[ui.values[1]]].name))},stop:function(e,ui){update=!0;self.runAjax()}});if(_init){$slider.slider('value',$slider.slider('value'))}
_init=!0}
init(data);var s_idx=self._sliders.length;self._sliders.push({data:data,init:function(data,update){init(data,update)},resetValues:function(){data=self._sliders[s_idx].data;keys=self.sortKeys(data);$min.attr('data-key',0).attr('data-min',0).val(d(data[keys[map[0]]].name));$max.attr('data-key',keys.length-1).attr('data-max',keys.length-1).val(d(data[typeof keys[map[1]]!='undefined'?keys[map[1]]:keys[map[0]]].name));$slider.slider('option','min',parseInt($min.attr('data-min')));$slider.slider('option','max',parseInt($max.attr('data-max')));$slider.slider('option','values',[$min.attr('data-min'),$max.attr('data-max')]);$slider.slider('value',$slider.slider('value'));update=!0},setValues:function(){var vals=$slider.slider('values');$min.attr('data-key',vals[0]).val(d(data[keys[vals[0]]].name));$max.attr('data-key',vals[1]).val(d(data[typeof keys[map[1]]!='undefined'?keys[map[1]]:keys[map[0]]].name))},getValues:function(){if($min.attr('data-key')==$min.attr('data-min')&&$max.attr('data-key')==$max.attr('data-max')&&self.keys(data).length==self.keys(self._sliders[s_idx].data).length){return[]}
var min=parseInt($min.attr('data-key')),max=parseInt($max.attr('data-key')),vals=[];for(var i=min;i<=max;i++){var key=keys[i];if(!key)continue;if(typeof data[key]=='undefined'){key=keys[0]}
vals.push(encodeURIComponent(self.encode(d(data[key].value))))}
return vals}})})},initResponsive:function(){var self=this,column=null,moved=!1,hidden=!0;if(self._box.hasClass('mfilter-hide-container')){column=self._box.parent();self._box.removeClass('mfilter-content_top mfilter-modern-horizontal mfilter-hide')}else if(self._box.hasClass('mfilter-column_left')){column=jQuery('#column-left')}else if(self._box.hasClass('mfilter-column_right')){column=jQuery('#column-right')}else{return}
var id='mfilter-free-container-'+jQuery('[id^="mfilter-free-container"]').length,cnt=jQuery('<div class="mfilter-free-container mfilter-direction-'+self._options.direction+'">').prependTo(jQuery('body')),btn=jQuery('<div class="mfilter-free-button">').appendTo(cnt).click(function(){if(hidden){cnt.animate(self._options.direction=='rtl'?{'marginRight':0}:{'marginLeft':0},500,function(){self._relativeScroll.refresh()})}else{cnt.animate(self._options.direction=='rtl'?{'marginRight':-(cnt.outerWidth(!0)<cnt.outerWidth()?cnt.outerWidth():cnt.outerWidth(!0))}:{'marginLeft':-cnt.outerWidth(!0)},500)}
hidden=!hidden}),cnt2=jQuery('<div>').css('overflow','hidden').attr('id',id).appendTo(cnt),cnt3=jQuery('<div>').appendTo(cnt2),src=jQuery('<span class="mfilter-before-box">');self._relativeScroll=new IScroll('#'+id,{bounce:!0,scrollbars:!1,mouseWheel:!0,interactiveScrollbars:!0,mouseWheelSpeed:120});self._box.before(src);if(!column.length)
column=self._box.parent();function isVisible(){var visible=column.is(':visible'),height=jQuery(window).height()-50;if(visible&&moved){cnt.hide();src.after(self._box);if(!hidden)
btn.trigger('click');moved=!1}else if(!visible&&!moved){cnt.show();cnt3.append(self._box);moved=!0}
if(moved){cnt2.css('max-height',height+'px');self._relativeScroll.refresh()}}
jQuery(window).resize(function(){isVisible()});isVisible()},location:function(){var self=this,url=document.location.href.toString();if(self._options.seo.alias!=''){url=url.replace('/'+self._options.seo.alias,'')}
return url},initUrls:function(url){var self=this;if(typeof url=='undefined'){url=self.location().split('#')[0]}
self._urlSep=self._parseSep(url).urlSep;self._url=self._parseSep(url).url;self._params=self._parseUrl(url);self._inUrl=self._parseUrl(url)},_initMfImage:function(){var self=this;self._box.find('.mfilter-image input').change(function(){var s=jQuery(this).is(':checked'),t=jQuery(this).attr('type');if(t=='radio'){jQuery(this).parent().parent().find('.mfilter-image-checked').removeClass('mfilter-image-checked')}
jQuery(this).parent()[s?'addClass':'removeClass']('mfilter-image-checked')});self._box.find('.mfilter-image input:checked').parent().addClass('mfilter-image-checked')},__initTreeCategoryEvents:function(){var self=this,$path=self._box.find('input[name="path"]');self._box.find('li.mfilter-filter-item.mfilter-tree.mfilter-categories')[self._box.find('.mfilter-category-tree > ul > li').length?'show':'hide']();self._box.find('.mfilter-category-tree').each(function(){var _this=jQuery(this),ul=_this.find('> ul'),top_url=ul.attr('data-top-url'),top_path=ul.attr('data-top-path').split('_');_this.find('.mfilter-to-parent a').unbind('click').bind('click',function(){var parts=(jQuery(this).attr('data-path')?jQuery(this).attr('data-path'):$path.val()).split('_');parts.pop();if(top_url!=''&&parts.length<=top_path.length){window.location.href=self.createUrl(top_url)}else{$path.val(parts.join('_'));self.runAjax()}
return!1});_this.find('a[data-parent-id]').click(function(){if(self._busy)return!1;var id=jQuery(this).attr('data-id'),path=$path.val(),parts=path.split('_'),last=parts[parts.length-1].split(',');self._cache['cat_'+id]=jQuery(this).text();if(last.indexOf(id)==-1){if(path!=''){path+='_'}
path+=id;$path.val(path)}
self.runAjax();return!1})})},_initTreeCategory:function(force){var self=this,$path=self._box.find('input[name="path"]');if(self._isInit&&force!==!0){self.__initTreeCategoryEvents();return}
if(!$path.val()&&!self._isInit){if(typeof self._options.params.mfp_path!='undefined'){$path.val(self._options.params.mfp_path)}else if(typeof self._options.params.mfp_org_path!='undefined'){$path.val(self._options.params.mfp_org_path)}else if(typeof self._options.params.path!='undefined'){$path.val(self._options.params.path)}}
self._box.find('.mfilter-category-tree').each(function(){if($path.val().indexOf('_')>-1||($path.val()&&!self._options.params.path)||($path.val()&&self._options.route!=self._options.routeCategory)){jQuery(this).find('ul').prepend(jQuery('<li class="mfilter-to-parent">').append(jQuery('<a>').html((function(){var parts=$path.val().split('_'),cat=parts[parts.length-1];return typeof self._cache['cat_'+cat]!='undefined'?self._cache['cat_'+cat]:self._options.text.go_to_top}))))}});self.__initTreeCategoryEvents()},_initBox:function(){var self=this;if(self._isInit)return;if(self._box.hasClass('mfilter-content_top')){self._box.find('.mfilter-content > ul > li').each(function(i){if(i&&i%4==0){jQuery(this).before('<li style="clear:both; display:block;"></li>')}})}},_initTextFields:function(){var self=this;self._box.find('.mfilter-filter-item.mfilter-text').each(function(){var _this=jQuery(this),name=_this.attr('data-seo-name'),input=_this.find('input[type=text]');function clear(){if(self._cache['txt_field_'+name]){clearTimeout(self._cache['txt_field_'+name])}
self._cache['txt_field_'+name]=null}
input.bind('keydown',function(e){if(e.keyCode==13){clear();self.ajax();return!1}}).bind('keyup.mf_shv',function(){input[input.val()?'addClass':'removeClass']('mfilter-text-has-value')}).bind('keyup',function(e){clear();if(self._options.refreshResults!='using_button'){self._cache['txt_field_'+name]=setTimeout(function(){self.ajax();self._cache['txt_field_'+name]=null},1000)}}).trigger('keyup.mf_shv')})},_initSearchFiled:function(){var self=this,searchField=self._box.find('input[id="mfilter-opts-search"]'),searchButton=self._box.find('[id="mfilter-opts-search_button"]');if(!searchField.length)
return;var refreshDelay=parseInt(searchField.unbind('keyup keydown click').attr('data-refresh-delay').toString().replace(/[^0-9\-]+/,'')),lastValue=searchField.val();function clearInt(){if(self._timeoutSearchFiled)
clearTimeout(self._timeoutSearchFiled);self._timeoutSearchFiled=null}
if(refreshDelay!='-1'){searchField.bind('keyup',function(e){if(jQuery(this).val()==lastValue)
return;if(!refreshDelay){self.ajax()}else if(e.keyCode!=13){clearInt();self._timeoutSearchFiled=setTimeout(function(){self.ajax();self._timeoutSearchFiled=null},refreshDelay)}
lastValue=searchField.val()})}
searchField.bind('keydown',function(e){if(e.keyCode==13){clearInt();self.ajax();return!1}}).bind('keyup.mf_shv',function(){jQuery(this)[jQuery(this).val()?'addClass':'removeClass']('mfilter-search-has-value')}).trigger('keyup.mf_shv');searchButton.bind('click',function(){clearInt();self.ajax();return!1})},encode:function(string){string=string.replace(/,/g,'LA==');string=string.replace(/\[/g,'Ww==');string=string.replace(/\]/g,'XQ==');string=string.replace(/"/g,'Ig==');string=string.replace(/'/g,'Jw==');return string},decode:function(string){string=string.replace(/LA==/g,',');string=string.replace(/Ww==/g,'[');string=string.replace(/XQ==/g,']');string=string.replace(/Ig==/g,'"');string=string.replace(/Jw==/g,"'");return string},_parseSep:function(url){var self=this,urlSep=null;if(typeof url=='undefined')
url=self._url;if(!self._options.smp.isInstalled||self._options.smp.disableConvertUrls){url=self.parse_url(url);url=url.scheme+'://'+url.host+(url.port?':'+url.port:'')+url.path;url=url.split('&')[0]}else{url=url.indexOf('?')>-1?url.split('?')[0]:url.split(';')[0]}
urlSep={'f':'?','n':'&'};return{url:url,urlSep:urlSep}},_initContent:function(){var self=this;self._jqContent.css('position','relative')},parse_url:function(str,component){var query,key=['source','scheme','authority','userInfo','user','pass','host','port','relative','path','directory','file','query','fragment'],ini=(this.php_js&&this.php_js.ini)||{},mode=(ini['phpjs.parse_url.mode']&&ini['phpjs.parse_url.mode'].local_value)||'php',parser={php:/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/\/?)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/};var m=parser[mode].exec(str),uri={},i=14;while(i--){if(m[i]){uri[key[i]]=m[i]}}
if(component){return uri[component.replace('PHP_URL_','').toLowerCase()]}
if(mode!=='php'){var name=(ini['phpjs.parse_url.queryKey']&&ini['phpjs.parse_url.queryKey'].local_value)||'queryKey';parser=/(?:^|&)([^&=]*)=?([^&]*)/g;uri[name]={};query=uri[key[12]]||'';query.replace(parser,function($0,$1,$2){if($1){uri[name][$1]=$2}})}
delete uri.source;return uri},baseTypes:function(skip){var self=this,types=[];function find(self){self._box.find('[data-base-type]').each(function(){var baseType=jQuery(this).attr('data-base-type'),type=jQuery(this).attr('data-type');if(baseType=='categories'){baseType+=':'+type}
if(types.indexOf(baseType)>-1)return;if(typeof skip!='undefined'&&skip.indexOf(baseType)>-1)return;if(type=='text')return;types.push(baseType)})}
find(self);for(var i=0;i<MegaFilterINSTANCES.length;i++){if(i==self._instanceIdx)continue;find(MegaFilterINSTANCES[i])}
return types},_ajaxUrl:function(url){url=url.replace(/\/mfp,([a-z0-9\-_]+\[[^\]]*\],?)+/g,'');var self=this,params=url.indexOf('?')>-1?url.split('?')[1]:'',parts=(url.indexOf('?')>-1?url.split('?')[0]:url).split('/');for(i=0;i<parts.length;i++){if(/page-[0-9]+/.test(parts[i])){delete parts[i]}}
url=parts.join('/');url=url.replace('://','###URL###');url=url.replace(/\/+/g,'/');url=url.replace('###URL###','://');if(params!=''){url+='?'+params}
if(self._options.mijoshop){return url+(url.indexOf('?')>-1?'&':'?')+'option=com_mijoshop&format=raw'}
if(self._options.joo_cart!=!1){function parse(u){u=u.replace('index.php','');u=u.replace(/\/$/,'');return u+'/'}
var site_url=parse(self._options.joo_cart.site_url),main_url=parse(self._options.joo_cart.main_url),route=url.indexOf('index.php')>-1?self._parseUrl(url,{}).route:url.replace(main_url,''),query=self.parse_url(url).query;if(typeof route=='undefined'){route=''}
if(typeof query=='undefined'){query=''}
if(route.indexOf('?')>-1){route=route.split('?')[0]}
if(route=='extension/module/mega_filter/ajaxinfo'){return site_url+'index.php?route='+route+(query?'&'+query:'')+'&option=com_opencart&format=raw'}}
return url},_initCountInfo:function(){var self=this;if(!self._options.calculateNumberOfProducts||self._isInit)
return;jQuery.ajax({'url':self._ajaxUrl(self.createUrl(self._options.ajaxInfoUrl,jQuery.extend({},self._params),!0)),'type':'GET','data':{'mfilterIdx':self._options.idx,'mfilterRoute':self._options.route,'mfilterBTypes':self.baseTypes(['categories:tree','categories:cat_checkbox']).join(',')},'success':function(response){self._parseInfo(response)},'error':function(){}});self._parseInfo('{"stock_status":[],"manufacturers":[],"rating":[],"attributes":[],"options":[],"filters":[]}',!0)},_parseInfo:function(data,first){var self=this,filters=self.filters(),json=jQuery.parseJSON(data);for(var i in json){switch(i){case 'categories:tree':{self._box.find('.mfilter-category-tree > ul > li').remove();for(var j=0;j<json[i].length;j++){if(self._options.hideInactiveValues&&json[i][j].cnt=='0')continue;self._box.find('.mfilter-category-tree > ul').append(jQuery('<li class="mfilter-tb-as-tr">').append(jQuery('<div class="mfilter-tb-as-td">').append(jQuery('<a>').attr('data-id',json[i][j].id).attr('data-parent-id',json[i][j].pid).html(json[i][j].name))).append('<div class="mfilter-tb-as-td mfilter-col-count"><span class="mfilter-counter">'+json[i][j].cnt+'</span></div>'))}
self._initTreeCategory(!0);break}
case 'categories:cat_checkbox':{var cnt={};for(var j in json[i]){cnt[json[i][j].id]=json[i][j].cnt}
self._box.find('.mfilter-filter-item.mfilter-cat_checkbox').each(function(){var $self=jQuery(this),cx=0,idx=0;$self.find('input[value]').each(function(i){var $self2=$(this),$parent=$self2.parent().parent(),$cnt=$parent.find('.mfilter-counter'),checked=$self2.is(':checked'),id=$self2.val(),c=typeof cnt[id]=='undefined'?0:parseInt(cnt[id]),ct=c;if(typeof filters.path!='undefined'){if(filters.path.indexOf(encodeURIComponent(id))==-1){ct='+'+ct}}
$cnt.text(ct)[checked?'addClass':'removeClass']('mfilter-close');if(c){cx++;$parent.removeClass('mfilter-hide mfilter-first-child')}
if(checked||c){$self2.removeAttr('disabled');$parent.removeClass('mfilter-disabled')}else{$self2.attr('disabled',!0);$parent.addClass('mfilter-disabled')}
if(!$parent.hasClass('mfilter-hide')){if(i>0&&idx==0){$parent.addClass('mfilter-first-child')}
idx++}});if(cx){$self.removeClass('mfilter-hide')}});break}
case 'price':{var priceRange=self.getPriceRange();if(priceRange.min==self._options.priceMin&&priceRange.max==self._options.priceMax){self._box.find('[id="mfilter-opts-price-min"]').val(json[i].min);self._box.find('[id="mfilter-opts-price-max"]').val(json[i].max)}
self._options.priceMin=json[i].min;self._options.priceMax=json[i].max;self._refreshPrice();break}
case 'model':case 'sku':case 'upc':case 'ean':case 'jan':case 'isbn':case 'mpn':case 'location':case 'length':case 'width':case 'height':case 'rating':case 'attributes':case 'filters':case 'options':case 'manufacturers':case 'stock_status':{self._box.find('.mfilter-filter-item.mfilter-'+i).each(function(){var $item=jQuery(this),seo=$item.attr('data-seo-name'),id=$item.attr('data-id'),$items=$item.find('.mfilter-options .mfilter-option'),hidden=0;$items.each(function(){var $self=jQuery(this),$input=$self.find('input[type=checkbox],input[type=radio],select'),val=$input.val(),$counter=jQuery(this).find('.mfilter-counter'),text='',cnt=json[i];if(id&&typeof cnt[id]!='undefined'){cnt=cnt[id]}
if($self.hasClass('mfilter-select')){var $options=$input.find('option'),hOptions=0,val=$input.val(),idx=$input.prop('selectedIndex');if(typeof self._selectOptions[seo]=='undefined'){self._selectOptions[seo]=[];$options.each(function(){self._selectOptions[seo].push({'name':jQuery(this).attr('data-name'),'id':jQuery(this).attr('id'),'value':jQuery(this).attr('value'),'text':jQuery(this).html()})})}
$options.remove();(function(){function add($option){$input.append($option);if(val==$option.val()){idx=$input.find('option').length-1}}
for(var i=0;i<self._selectOptions[seo].length;i++){var $option=jQuery('<option>').attr('value',self._selectOptions[seo][i].value);if(self._selectOptions[seo][i].name){$option.attr('data-name',self._selectOptions[seo][i].name)}
if(self._selectOptions[seo][i].id){$option.attr('id',self._selectOptions[seo][i].id)}
if(self._selectOptions[seo][i].id){var idd=self._selectOptions[seo][i].id.split('-').pop();if(first||typeof cnt[idd]!='undefined'){$option.html((!first&&self._options.showNumberOfProducts?'('+cnt[idd]+') ':'')+self._selectOptions[seo][i].name);add($option)}else{$option.attr('disabled',!0).html((self._options.showNumberOfProducts?'(0)':'')+self._selectOptions[seo][i].name);if(!self._options.hideInactiveValues){add($option)}
hOptions++}}else{$option.html(self._selectOptions[seo][i].text);add($option)}}})();if(idx>=0){$input.prop('selectedIndex',idx)}
if(hOptions==self._selectOptions[seo].length){hidden++}}else if($self.hasClass('mfilter-slider')){self._box.find('[data-id="'+id+'"][data-slider-id]').each(function(){var slider_id=jQuery(this).attr('data-slider-id'),data={};for(var i in self._sliders[slider_id].data){if(typeof cnt!='undefined'&&typeof cnt[i]!='undefined'&&parseInt(cnt[i])>0){data[i]=self._sliders[slider_id].data[i]}}
self._sliders[slider_id].init(data,!0)});}else if($self.hasClass('mfilter-text')){$input=$self.find('input[type=text]');if(typeof filters[seo]!='undefined'){}else{}}else{var idd=$input.attr('id').split('-').pop();if(typeof filters[seo]!='undefined'){if(filters[seo].indexOf(encodeURIComponent(self.encode(val)))>-1){$counter.addClass('mfilter-close')}else{if(!$item.hasClass('mfilter-radio')&&!$item.hasClass('mfilter-image_list_radio'))
text+='+';$counter.removeClass('mfilter-close')}}else{$counter.removeClass('mfilter-close')}
$self.removeClass('mfilter-first-child mfilter-last-child mfilter-disabled mfilter-hide mfilter-visible');$self.parent().removeClass('mfilter-hide');if(typeof cnt[idd]!='undefined'&&parseInt(cnt[idd])>0){text+=cnt[idd];$self.addClass('mfilter-visible');$input.attr('disabled',!1)}else{text='0';hidden++;$self.addClass('mfilter-disabled');$input.attr('disabled',!0);if(first!==!0&&self._options.hideInactiveValues){$self.addClass('mfilter-hide');if(self._box.hasClass('mfilter-content_top')){$self.parent().addClass('mfilter-hide')}}}
$counter.text(text)}});if(first!==!0&&self._options.hideInactiveValues){$item[hidden==$items.length?'addClass':'removeClass']('mfilter-hide');$item.find('.mfilter-option').not('.mfilter-hide,.mfilter-hide-by-live-filter').first().addClass('mfilter-first-child');$item.find('.mfilter-option').not('.mfilter-hide,.mfilter-hide-by-live-filter').last().addClass('mfilter-last-child')}});break}}}
if(first!==!0&&(self._options.hideInactiveValues||self._box.find('[data-display-live-filter!="0"]').length)){for(var s=0;s<self._scrolls.length;s++){self._scrolls[s].refresh()}
for(var b=0;b<self._buttonsMore.length;b++){self._buttonsMore[b].refresh()}
for(var f=0;f<self._liveFilters.length;f++){self._liveFilters[f].refresh()}
if(self._relativeScroll!=null){self._relativeScroll.refresh()}}
self._updateInlineHorizontal()},_initAlwaysSearch:function(){var self=this;function search(){self._jqContent.find('[name^=filter_],[name=search],[name=category_id],[name=sub_category],[name=description]').each(function(){var name=jQuery(this).attr('name'),value=jQuery(this).val(),type=jQuery(this).attr('type');if(['checkbox','radio'].indexOf(type)>-1&&!jQuery(this).is(':checked'))
value='';if(name){self._inUrl[name]=value;self._params[name]=value}});self.ajax()}
jQuery('#button-search').unbind('click').click(function(e){e.preventDefault();search()});self._jqContent.find('input[name=filter_name],input[name=search]').unbind('keydown').unbind('keyup').bind('keydown',function(e){if(e.keyCode==13){e.preventDefault();search()}})},_initAlwaysAjaxPagination:function(){var self=this;if(!self._options.ajaxPagination)return;self._jqContent.find('.pagination a').click(function(){var url=jQuery(this).attr('href'),params=self._parseUrl(url);if(typeof params.page!='undefined'){self._ajaxPagination=params.page;self.ajax(url);return!1}})},__initLoader:function(){this._jqLoader=jQuery('<span class="mfilter-ajax-loader-container" style="cursor: wait; z-index: 100; margin: 0; padding: 0; position: absolute; text-align: center; background-color: rgba(255,255,255,0.7);"></span>').prependTo(this._jqContent).html('<img src="/catalog/view/theme/default/stylesheet/mf/images/ajax-loader.gif" alt="" />').hide()},__initLoaderFilter:function(){this._jqLoaderFilter=jQuery('<span style="cursor: wait; z-index: 10000; margin: 0; padding: 0; position: absolute; background-color: rgba(255,255,255,0.7);"></span>').prependTo(this._box).hide()},_initDisplayItems:function(){var self=this,params=self.urlToFilters();self._box.find('.mfilter-filter-item').each(function(i){var _level0=jQuery(this),type=_level0.attr('data-type'),seo_name=_level0.attr('data-seo-name'),displayLiveFilter=parseInt(_level0.attr('data-display-live-filter')),displayListOfItems=_level0.attr('data-display-list-of-items');if(!displayListOfItems){displayListOfItems=self._options.displayListOfItems.type}
if(type=='price'||type=='rating')return;self._sortFilterOptions(_level0.context.dataset.id);var wrapper=_level0.find('.mfilter-content-wrapper'),content=_level0.find('> .mfilter-content-opts'),heading=_level0.find('> .mfilter-heading'),idx=null;if(!self._box.hasClass('mfilter-content_top')&&heading.hasClass('mfilter-collapsed')){if(typeof params[seo_name]=='undefined'){content.show()}}
if(displayListOfItems=='scroll'){if((wrapper.actual?wrapper.actual('outerHeight',{includeMargin:!0}):wrapper.outerHeight(!0))>self._options.displayListOfItems.maxHeight){if(jQuery.browser&&jQuery.browser.msie&&jQuery.browser.version<9){wrapper.css({'max-height':self._options.displayListOfItems.maxHeight+'px','overflow-y':'scroll'})}else{wrapper.attr('id','mfilter-content-opts-'+self._instanceIdx+'-'+i).addClass('mfilter-iscroll').css('max-height',self._options.displayListOfItems.maxHeight+'px');(function(){var iscroll=new IScroll('#mfilter-content-opts-'+self._instanceIdx+'-'+i,{bounce:!1,scrollbars:!0,mouseWheel:!0,interactiveScrollbars:!0,mouseWheelSpeed:120}),start=!1;iscroll.on('moveStart',function(e){if(!start)return;self._relativeScroll._end(e);start=!1});iscroll.on('moveStop',function(e){if(start)return;self._relativeScroll._start(e);start=!0});iscroll.on('scrollEnd',function(e){if(e==null)return;self._relativeScroll._end(e);start=!1});idx=self._scrolls.length;self._scrolls.push({refresh:function(){iscroll.refresh()}})})()}}}else if(displayListOfItems=='button_more'&&!self._box.hasClass('mfilter-content_top')&&type!='image'&&type!='image_radio'){self._buttonsMore.push((function(_level0){function init(first){var lessHeight=0,moreHeight=0,show=!1,count=0,idx=0;_level0.find('.mfilter-option.mfilter-tb-as-tr').each(function(i){var _this=jQuery(this);if(_this.hasClass('mfilter-hide')||_this.hasClass('mfilter-hide-by-live-filter'))return;var h=_this.actual?_this.actual('outerHeight',{includeMargin:!0}):_this.outerHeight(!0);moreHeight+=h;var selected=self._getNumberOfSelectedFilterOptions(_level0.context.dataset.id);var limit_of_items=selected>self._options.displayListOfItems.limit_of_items?selected:self._options.displayListOfItems.limit_of_items;if(idx>=limit_of_items){lessHeight+=h;count++}
idx++});lessHeight=moreHeight-lessHeight;if(count){wrapper.css('overflow','hidden').css('height',lessHeight+'px');function sh(show,force){if(force){wrapper.height(moreHeight)}else{wrapper.animate({'height':!show?moreHeight:lessHeight},500,function(){if(self._relativeScroll!=null)
self._relativeScroll.refresh()})}
_level0.find('a.mfilter-button-more').text(show?self._options.displayListOfItems.textMore.replace('%s',count):self._options.displayListOfItems.textLess)}
_level0.find('.mfilter-content-opts').append(jQuery('<div>').addClass('mfilter-button-more').append(jQuery('<a>').attr('href','#').addClass('mfilter-button-more').text(self._options.displayListOfItems.textMore.replace('%s',count)).append(jQuery('<i></i>').addClass('fa-chevron-down').addClass('fa')).bind('click',function(){sh(show);show=!show;wrapper[show?'addClass':'removeClass']('mfilter-slide-down');return!1})));if(wrapper.hasClass('mfilter-slide-down')){sh(!1,!0);show=!0}}}
init(!0);idx=self._buttonsMore.length;return{refresh:function(){_level0.find('.mfilter-content-wrapper').removeAttr('style');_level0.find('.mfilter-button-more').remove();init()}}})(_level0))}
if(type=='cat_checkbox'){(function(){var cnt=0;content.find('.mfilter-category .mfilter-option').each(function(i){if(jQuery(this).find('.mfilter-counter').text()!='0'){if(i&&!cnt){jQuery(this).addClass('mfilter-first-child')}
cnt++}else{jQuery(this).addClass('mfilter-hide')}});if(!cnt){_level0.addClass('mfilter-hide')}})()}(function(){if(self._box.hasClass('mfilter-content_top')){return}
if(displayLiveFilter<1||content.find('.mfilter-option').length<displayLiveFilter||type=='image'||type=='image_radio'){displayLiveFilter=0;return}
content.prepend(jQuery('<div class="mfilter-live-filter">').append(jQuery('<input type="text" class="form-control" id="mfilter-live-filter-input-'+self._instanceIdx+'-'+i+'" />')));wrapper.find('> .mfilter-options > div').attr('id','mfilter-live-filter-list-'+self._instanceIdx+'-'+i);_level0.addClass('mfilter-live-filter-init');jQuery('#mfilter-live-filter-list-'+self._instanceIdx+'-'+i).liveFilter('#mfilter-live-filter-input-'+self._instanceIdx+'-'+i,'.mfilter-visible,.mfilter-should-visible,.mfilter-disabled,.mfilter-option:not(.mfilter-filter-item)',{'filterChildSelector':'label','after':function(contains,containsNot){var list=jQuery('#mfilter-live-filter-list-'+self._instanceIdx+'-'+i);contains.removeClass('mfilter-should-visible').addClass('mfilter-visible');containsNot.removeClass('mfilter-visible').addClass('mfilter-should-visible');list.find('> .mfilter-option').removeClass('mfilter-first-child mfilter-last-child');list.find('> .mfilter-option:not(.mfilter-hide):not(.mfilter-hide-by-live-filter):first').addClass('mfilter-first-child');list.find('> .mfilter-option:not(.mfilter-hide):not(.mfilter-hide-by-live-filter):last').addClass('mfilter-last-child');if(idx!==null){if(displayListOfItems=='scroll'){self._scrolls[idx].refresh()}else if(displayListOfItems=='button_more'){self._buttonsMore[idx].refresh()}}
if(self._relativeScroll!=null){self._relativeScroll.refresh()}}});_level0.addClass('mfilter-live-filter-init');self._liveFilters.push({refresh:function(){content.find('.mfilter-live-filter')[content.find('.mfilter-option:not(.mfilter-hide)').length<=displayLiveFilter?'hide':'show']()},check:function(){jQuery('#mfilter-live-filter-input-'+self._instanceIdx+'-'+i).trigger('keyup')}});self._liveFilters[self._liveFilters.length-1].refresh()})();if(!self._box.hasClass('mfilter-content_top')&&heading.hasClass('mfilter-collapsed')){if(typeof params[seo_name]=='undefined'){content.hide()}}})},_initHeading:function(){var self=this;if(self._box.hasClass('mfilter-content_top'))
return;self._box.find('.mfilter-heading').click(function(){var opts=jQuery(this).parent().find('> .mfilter-content-opts');if(jQuery(this).hasClass('mfilter-collapsed')){opts.slideDown('normal',function(){if(self._relativeScroll!=null)
self._relativeScroll.refresh()});jQuery(this).removeClass('mfilter-collapsed')}else{opts.slideUp('normal',function(){if(self._relativeScroll!=null)
self._relativeScroll.refresh()});jQuery(this).addClass('mfilter-collapsed')}})},_updateInlineHorizontal:function(){for(var i=0;i<this._inlineHorizontalUpdate.length;i++){this._inlineHorizontalUpdate[i]()}},_initInlineHorizontal:function(){var self=this;if(!self._box.hasClass('mfilter-content_top')){return}
self._box.find('li[data-inline-horizontal="1"][data-type="checkbox"],li[data-inline-horizontal="1"][data-type="radio"]').each(function(){var $container=jQuery(this).addClass('mfilter-inline-horizontal').find('.mfilter-opts-container'),$wrapper=$container.find('> .mfilter-content-wrapper'),$options=$wrapper.find('> .mfilter-options'),$optionsCnt=$options.find('> .mfilter-options-container'),$tb=$optionsCnt.find('> .mfilter-tb'),left=0;function width(){var w=0,b=!1;left=0;$tb.find('> .mfilter-tb').each(function(){var ww=jQuery(this).outerWidth(!0);if(self._lastEvent){var $el=jQuery(this).find('[id="'+self._lastEvent+'"]');if($el.length){b=!0}else if(!b){left+=ww}}
w+=ww});return w}
self._inlineHorizontalUpdate[self._inlineHorizontalUpdate.length]=function(){$optionsCnt.removeAttr('style');$tb.removeAttr('style').css('margin-left',$tb.attr('data-mgr')+'px');o1=w1;o2=w2;w1=$optionsCnt.width();w2=width();$optionsCnt.css('width',w1);$tb.css('width',w2+fix);if(w2>w1){$right.addClass('mf-active');if(x>=w2-w1&&$left.hasClass('mf-active')){t=0;$right.trigger('click')}else if(self._lastEvent){var $el=$tb.find('[id="'+self._lastEvent+'"]');if($el.length){var w=$el.parent().parent().parent().outerWidth(!0);if(x>left){t=0;x=left-w+w1;$left.trigger('click')}else if(x+w1<left+w){t=0;x=x+(w*2)-w1;$right.trigger('click')}}}}else{t=x=0;$left.addClass('mf-active').trigger('click');$right.removeClass('mf-active')}};var $left=jQuery('<a href="#"></a>'),$right=jQuery('<a href="#"></a>');$wrapper.prepend(jQuery('<div class="mfilter-scroll-left"></div>').append($left));$wrapper.append(jQuery('<div class="mfilter-scroll-right"></div>').append($right));var w1=$optionsCnt.width(),w2=width(),o1=-1,o2=-1,x=0,fix=50,t='normal';if(w2>w1){$right.addClass('mf-active')}
$optionsCnt.css('width',w1);$tb.css('width',w2+fix).attr('data-mgr','0');$left.click(function(){var $self=jQuery(this);if(!$self.hasClass('mf-active'))return!1;x-=w1;if(x<=0){x=0;$self.removeClass('mf-active')}
$tb.attr('data-mgr',-x).stop().animate({'marginLeft':-x},t);t='normal';$right.addClass('mf-active');return!1});$right.click(function(){var $self=jQuery(this);if(!$self.hasClass('mf-active'))return!1;x+=w1;if(x>=w2-w1){x=w2-w1;$self.removeClass('mf-active')}
$tb.attr('data-mgr',-x).stop().animate({'marginLeft':-x},t);t='normal';$left.addClass('mf-active');return!1})})},_initCategoryRelated:function(){var self=this;self._box.find('.mfilter-filter-item.mfilter-related').each(function(){var $li=jQuery(this),seoName=$li.attr('data-seo-name'),autoLevels=$li.attr('data-auto-levels'),fields=$li.find('select[data-type="category-related"]');fields.each(function(i){if(!autoLevels&&i==fields.length-1){jQuery(this).change(function(){if(self._options.refreshResults!='using_button'){self.runAjax()}})}else{function eChange($self,id){var $this=$self.parent().attr('data-id',id),labels=$this.parent().attr('data-labels').split('#|#');$self.change(function(){var cat_id=$self.val();$next=$this.next().find('select');$parent=$next.parent();label=typeof labels[id+1]=='undefined'?$parent.attr('data-next-label'):labels[id+1];if(cat_id){$next.html('<option value="">'+self._options.text.loading+'</option>');$next.prop('selectedIndex',0);jQuery.post(self._ajaxUrl(self._options.ajaxCategoryUrl),{'cat_id':cat_id},function(response){var data=jQuery.parseJSON(response);if(data.length&&autoLevels){var $li=jQuery('<li>');$this.after($li);$next=jQuery('<select>').appendTo($li);if(!label)
label=MegaFilterLang.text_select;eChange($next,id+1)}
$next.html('<option value="">'+label+'</option>');$next.prop('selectedIndex',0);for(var i=0;i<data.length;i++){$next.append('<option value="'+data[i].id+'">'+data[i].name+'</option>')}
if(autoLevels){if(!data.length){if(self._options.refreshResults!='using_button'){self.runAjax()}}}else if(!data.length){if(self._options.refreshResults!='using_button'){self.runAjax()}}})}
var $p=$parent;while($p.length){if(autoLevels){var $t=$p;$p=$p.next();$t.remove()}else{$p.find('select').prop('selectedIndex',0).find('option[value!=""]').remove();$p=$p.next()}}
if(!cat_id){var beforeVal=self.urlToFilters()[seoName],afterVal=self.filters()[seoName];if(typeof beforeVal=='undefined')
beforeVal=[-1];if(typeof afterVal=='undefined')
afterVal=[-1];if(beforeVal.toString()!=afterVal.toString())
self.runAjax()}})}
eChange(jQuery(this),i)}})})},_getNumberOfSelectedFilterOptions:function(filter_id){return jQuery('li[data-id="'+filter_id+'"]').find('input:checked').length},_sortFilterOptions:function(filter_id){if(jQuery('.mfilter-column_left').length>0){var select=[];var no_select=[];var sort;var filter=jQuery('li[data-id="'+filter_id+'"]');filter.find('.mfilter-option').each(function(i){var txt=jQuery(this).find('label').text().toLowerCase();if(jQuery(this).find('input').prop("checked")){select.push([txt,i]);sort="sort"+i}else{no_select.push([txt,'no'+i]);sort="sort"+"no"+i}
jQuery(this).attr("rel",sort)});var container=filter.find('.mfilter-tb');jQuery([select,no_select]).each(function(i,options){options.sort(function(a,b){var intValA=parseFloat(a);var intValB=parseFloat(b);if(!isNaN(parseFloat(a))&&!isNaN(parseFloat(b))){if(intValA>intValB)return 1;else if(intValA<intValB)return-1;return 0}
if(!isNaN(parseFloat(a))&&isNaN(parseFloat(b)))return 1;if(isNaN(parseFloat(a))&&!isNaN(parseFloat(b)))return-1;if(a>b)return 1;if(a<b)return-1;return 0});jQuery(options).each(function(ii,el){var option=container.find(".mfilter-option[rel='sort"+el[1]+"']");i==0&&ii==0?option.addClass('mfilter-first-child'):option.removeClass('mfilter-first-child');container.append(option)})})}},_initEvents:function(){var self=this;function val($input){var val=$input.val(),parent=$input.parent().parent();if($input.attr('type')=='checkbox'||$input.attr('type')=='radio'){val=$input.is(':checked');if(!self._options.calculateNumberOfProducts){if(self._isInit&&$input.attr('type')=='radio'){parent.parent().find('.mfilter-counter').removeClass('mfilter-close')}
parent.find('.mfilter-counter')[val?'addClass':'removeClass']('mfilter-close')}
if($input.attr('type')=='radio'){parent.parent().parent().parent().parent().parent().parent().find('.mfilter-input-active').removeClass('mfilter-input-active')}}
parent[val?'addClass':'removeClass']('mfilter-input-active')}
self._box.find('input[type=checkbox],input[type=radio],select:not([data-type="category-related"])').change(function(){self._lastEvent=jQuery(this).attr('id');if(self._options.refreshResults!='using_button'){self.runAjax()}
val(jQuery(this))});self._box.find('.mfilter-options .mfilter-option').each(function(){var input=jQuery(this).find('input[type=checkbox],input[type=radio]');if(!input.length)return;jQuery(this).find('.mfilter-counter').bind('click',function(){if(!jQuery(this).hasClass('mfilter-close'))return;input.prop('checked',!1).trigger('change')});if(input.is(':checked')){val(input)}});self._box.find('.mfilter-button a').bind('click',function(){self._lastEvent=null;if(jQuery(this).hasClass('mfilter-button-reset')){self.eachInstances(function(self){self.resetFilters()})}
self.ajax();return!1})},runAjax:function(){var self=this;switch(self._options.refreshResults){case 'using_button':case 'immediately':{self.ajax();break}
case 'with_delay':{if(self._timeoutAjax)
clearTimeout(self._timeoutAjax);self._timeoutAjax=setTimeout(function(){self.ajax();self._timeoutAjax=null},self._options.refreshDelay);break}}},getPriceRange:function(){var self=this,minInput=self._box.find('[id="mfilter-opts-price-min"]'),maxInput=self._box.find('[id="mfilter-opts-price-max"]'),min=minInput.val(),max=maxInput.val();if(!/^[0-9]+$/.test(min)||min<self._options.priceMin)
min=self._options.priceMin;if(!/^[0-9]+$/.test(max)||max>self._options.priceMax)
max=self._options.priceMax;return{min:parseInt(min),max:parseInt(max)}},_initPrice:function(){var self=this,priceRange=self.getPriceRange(),filters=self.urlToFilters(),minInput=self._box.find('[id="mfilter-opts-price-min"]').unbind('change').bind('change',function(){changePrice()}).val(filters.price?filters.price[0]:priceRange.min),maxInput=self._box.find('[id="mfilter-opts-price-max"]').unbind('change').bind('change',function(){changePrice()}).val(filters.price?filters.price[1]:priceRange.max),slider=self._box.find('[id="mfilter-price-slider"]');self._refreshPrice=function(minMax){var priceRange=self.getPriceRange();if(priceRange.min<self._options.priceMin){priceRange.min=self._options.priceMin}
if(priceRange.max>self._options.priceMax){priceRange.max=self._options.priceMax}
if(priceRange.min>priceRange.max){priceRange.min=priceRange.max}
if(priceRange.min.toString()!=minInput.val()){minInput.val(priceRange.min)}
if(priceRange.max.toString()!=maxInput.val()){maxInput.val(priceRange.max)}
slider.slider('option','values',[priceRange.min,priceRange.max]);if(minMax!==!1){slider.slider('option','min',self._options.priceMin);slider.slider('option','max',self._options.priceMax);slider.slider('value',slider.slider('value'))}};function changePrice(){self._refreshPrice(!1);if(self._options.refreshResults!='using_button'){self.runAjax()}}
slider.slider({range:!0,min:self._options.priceMin,max:self._options.priceMax,values:[priceRange.min,priceRange.max],slide:function(e,ui){minInput.val(ui.values[0]);maxInput.val(ui.values[1])},stop:function(e,ui){if(self._options.refreshResults!='using_button')
self.runAjax()}})},_initWindowOnPopState:function(){var self=this;if(self._isInit)return;function update(){self.eachInstances(function(self){self._urlToFilters=null;self.initUrls();self.setFiltersByUrl()})}
function setFilters(url){var params=self._parseUrl(url);if(typeof params.mfp!='undefined'){self.setFiltersByUrl(self.__urlToFilters(decodeURIComponent(params.mfp)))}else{self.resetFilters()}}
window.onpopstate=function(e){if(e.state){update();self._render(e.state.html,e.state.json,!0);setFilters(e.state.url)}else if(typeof self._cache.mainContent[self.location()]!='undefined'&&self._history>0){update();self._render(self._cache.mainContent[self.location()].html,self._cache.mainContent[self.location()].json,!0);setFilters(self.location())}else if(self._changed&&self._history>0){setFilters(self._startUrl.toString());self.ajax(null,!0)}
self._history--}},count:function(obj){var c=0;for(var i in obj){c++}
return c},setFiltersByUrl:function(params){var self=this;if(typeof params=='undefined'){params=self.urlToFilters()}
self.resetFilters();self._box.find('li[data-type]').each(function(){var _this=jQuery(this),type=_this.attr('data-type'),seoName=_this.attr('data-seo-name'),value=params[seoName];if(typeof value=='undefined'||typeof value[0]=='undefined')
return;switch(type){case 'rating':case 'stock_status':case 'manufacturers':case 'image':case 'image_radio':case 'radio':case 'image_list_radio':case 'image_list_checkbox':case 'checkbox':{for(var i in value){if(typeof value[i]=='function')continue;if(type=='image_radio'||type=='radio'||type=='image_list_radio'){_this.find('.mfilter-image-checked').removeClass('mfilter-image-checked')}
var $p1=_this.find('input[value="'+self.decode(decodeURIComponent(value[i])).replace(/"/g,'&quot;')+'"]').prop('checked',!0).parent();$p1.parent().addClass('mfilter-input-active').find('.mfilter-counter').addClass('mfilter-close');if($p1.hasClass('mfilter-image')){$p1.addClass('mfilter-image-checked')}}
break}
case 'select':{_this.find('select option[value="'+self.decode(decodeURIComponent(value[0])).replace(/"/g,'&quot;')+'"]').attr('selected',!0);break}
case 'price':{if(typeof value[0]!='undefined'&&typeof value[1]!='undefined'){_this.find('input[id="mfilter-opts-price-min"]').val(value[0]);_this.find('input[id="mfilter-opts-price-max"]').val(value[1]);_this.find('[id="mfilter-price-slider"]').each(function(){jQuery(this).slider('option','values',[value[0],value[1]]);jQuery(this).slider('value',jQuery(this).slider('value'))})}
break}
case 'text':case 'search':{_this.find('input').val(self.decode(decodeURIComponent(value[0])));break}}});for(var i=0;i<self._sliders.length;i++){self._sliders[i].setValues()}},_showLoader:function(){var self=this;if(self._jqLoader==null&&self._options.showLoaderOverResults){self.__initLoader()}
if(self._jqLoaderFilter==null&&self._options.showLoaderOverFilter){self.__initLoaderFilter()}
if(self._options.showLoaderOverResults){(function(){var w=self._jqContent.outerWidth(),h=self._jqContent.outerHeight(),j=self._jqContent.find('.product-list'),k=j.length?j:self._jqContent.find('.product-grid'),l=k.length?k:self._jqContent,t=k.length?k.offset().top-150:l.offset().top;self._jqLoader.css('width',w+'px').css('height',h+'px').fadeTo('normal',1).find('img').css('margin-top',t+'px')})()}
if(self._options.showLoaderOverFilter){(function(){var w=self._box.outerWidth(),h=self._box.outerHeight();self._jqLoaderFilter.css('width',w+'px').css('height',h+'px').fadeTo('normal',1)})()}
if(self._options.autoScroll){jQuery('html,body').stop().animate({scrollTop:self._jqContent.offset().top+self._options.addPixelsFromTop},'low',function(){self._busy=!1;self.render()})}else{self._busy=!1;self.render()}},_hideLoader:function(){var self=this;if(self._jqLoader!==null){self._jqLoader.remove();self._jqLoader=null}
if(self._jqLoaderFilter!==null){self._jqLoaderFilter.remove();self._jqLoaderFilter=null}},render:function(history){var self=this;if(self._lastResponse===''||self._busy){return}
self._hideLoader();self._lastResponse=self._lastResponse.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'');var tmp=jQuery('<tmp>').html(self._lastResponse),content=tmp.find(self._contentId),json=tmp.find('#mfilter-json');if(!content.length&&self._contentId!='#content'){content=tmp.find('#content')}
if(content.length){var styles=self._jqContent.html().match(/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi);if(styles!=null&&styles.length){for(var i=0;i<styles.length;i++){jQuery('head:first').append(styles[i])}}
self._render(content.html(),json&&json.length?self.base64_decode(json.html()):null,history);self._lastResponse=''}else{}},_render:function(html,json,history){var self=this;if(history!==!0){self._lastUrl=self.createUrl();if(self._ajaxPagination!==null){self._lastUrl+=self._lastUrl.indexOf('?')>-1?'&':'?';self._lastUrl+='page='+self._ajaxPagination;self._ajaxPagination=null}
self._urlToFilters=null;if(self._options.seo.enabled){var u=self.parse_url(self._lastUrl);self._lastUrl='';self._lastUrl+=u.scheme+'://';self._lastUrl+=u.host;self._lastUrl+=decodeURIComponent(u.path).replace(/\/mfp,([a-z0-9\-_]+\[[^\]]*\],?)+/g,'');if(typeof u.query!='undefined'&&u.query){var mfp=u.query.match(/mfp=([^&]+)/);self._lastUrl=self._lastUrl.replace(/\/$/,'');if(mfp){self._lastUrl+='/mfp,'+mfp[1];u.query=u.query.replace('mfp='+mfp[1],'');u.query=u.query.replace(/^(\?|&)|&$/g,'')}
if(u.query!=''){self._lastUrl+='?'+u.query}}}
try{window.history.pushState({'html':html,'json':json,'url':self._lastUrl},'',self._lastUrl);self._history++}catch(e){}}
if(json){self.eachInstances(function(self){self._parseInfo(json)})}
self.beforeRender(self._lastResponse,html,json);self._jqContent.html(html);if(typeof jQuery.totalStorage=='function'&&jQuery.totalStorage('display')){display_MFP(jQuery.totalStorage('display'))}else if(typeof jQuery.cookie=='function'&&jQuery.cookie('display')){display_MFP(jQuery.cookie('display'))}else{display_MFP('list')}
for(var i in self){if(i.indexOf('_initAlways')===0&&typeof self[i]=='function'){self[i]()}}
for(var f=0;f<self._liveFilters.length;f++){self._liveFilters[f].check()}
if(typeof pq_initExt=='function'){pq_initExt()}
if(self._options.routeHome==self._options.route&&self._options.homePageAJAX){self._jqContent.find('.pagination > li > a').unbind('click').bind('click',function(){self.ajax(jQuery(this).attr('href'));return!1})}
self.afterRender(self._lastResponse,html,json)},beforeRequest:function(){},beforeRender:function(){},afterRender:function(){},eachInstances:function(fn,skipCurrent){for(var i=0;i<MegaFilterINSTANCES.length;i++){if(skipCurrent===!0&&i==this._instanceIdx)continue;fn(MegaFilterINSTANCES[i])}},ajax:function(url,history){var self=this;if(self._busy){self._waitingChanges=!0;return}(function(){var filters=self.filters(!0);self.eachInstances(function(self){var params=$.extend(self.filters(),filters);self.setFiltersByUrl(params)},!0)})();if(typeof url=='undefined'||url===null){url=[self._options.routeProduct,self._options.routeHome,self._options.routeInformation,self._options.routeManufacturerList].indexOf(self._options.route)>-1?self.createUrl(self._options.ajaxResultsUrl):self.createUrl()}
var cname=url+self._options.idx;if((!self._options.homePageAJAX&&self._options.routeHome==self._options.route)||[self._options.routeProduct,self._options.routeInformation,self._options.routeManufacturerList].indexOf(self._options.route)>-1){window.location.href=url;return}
self.eachInstances(function(self){self._busy=!0;self._lastResponse=''});self._showLoader();if(typeof self._params.page!='undefined'){delete self._params.page}
if(typeof self._cache.lastResponse[cname]!='undefined'){self.eachInstances(function(self2){self2._lastResponse=self._cache.lastResponse[cname]});setTimeout(function(){self.eachInstances(function(self){self._busy=!1});self.render(history);self._sortFilterOptions(jQuery('#'+self._lastEvent).closest('.mfilter-filter-item').data('id'))},100);return}
self.beforeRequest();self._changed=!0;jQuery.ajax({'type':'GET','url':self._ajaxUrl(url),'timeout':60*1000,'cache':!1,'data':{'mfilterAjax':'1','mfilterIdx':self._options.idx,'mfilterBTypes':self.baseTypes().join(','),'mfilterPath':typeof self._options.params.mfp_org_path!='undefined'?self._options.params.mfp_org_path:self._options.params.path},'success':function(response){self.eachInstances(function(self){self._busy=!1});if(response){self.eachInstances(function(self){self._lastResponse=response;self._cache.lastResponse[cname]=response});self.render(history);if(self._waitingChanges){self._waitingChanges=!1;self.ajax()}}else{}
self._sortFilterOptions(jQuery('#'+self._lastEvent).closest('.mfilter-filter-item').data('id'))},'error':function(){}})},createUrl:function(url,attribs,force){var self=this,params=self.paramsToUrl(url,attribs),filters=self.filtersToUrl(),urlSep=self._urlSep;if(typeof url=='undefined'){url=self._url}else{urlSep=self._parseSep(url.split('#')[0]).urlSep;url=self._parseSep(url.split('#')[0]).url}
url=decodeURIComponent(url).replace(/\/mfp,([a-z0-9\-_]+\[[^]]*\],?)+/,'');if(params||filters){url+=urlSep.f;if(params){url+=params}
if(filters){if(params){url+=urlSep.n}
url+='mfp'+(urlSep.n=='&'?'=':urlSep.n)+filters}else if(force){var mfp=self.filtersToUrl(self.urlToFilters());if(mfp){url+=urlSep.n;url+='mfp'+(urlSep.n=='&'?'=':urlSep.n)+mfp}}}
return url},_validPrice:function(min,max){var self=this;min=parseInt(min);max=parseInt(max);if(min<self._options.priceMin)
return!1;if(max>self._options.priceMax)
return!1;if(min>max)
return!1;if(min==max&&min==self._options.priceMin&&max==self._options.priceMax)
return!1;return!0},urlToFilters:function(){if(this._urlToFilters!==null){return this._urlToFilters}
var self=this;self._urlToFilters={};if(!self._params.mfp)
return self._urlToFilters;self._params.mfp=decodeURIComponent(self._params.mfp);self._urlToFilters=self.__urlToFilters(self._params.mfp);return self._urlToFilters},__urlToFilters:function(mfp){var self=this,obj={},matches=mfp.match(/[a-z0-9\-_]+\[[^\]]+\]/g);if(!matches){return obj}
for(var i=0;i<matches.length;i++){var key=matches[i].match(/([a-z0-9\-_]+)\[[^\]]+\]/)[1],val=matches[i].match(/[a-z0-9\-_]+\[([^\]]+)\]/)[1].split(',');switch(key){case 'price':{if(typeof val[0]!='undefined'&&val[1]!='undefined'){if(self._validPrice(val[0],val[1]))
obj[key]=val}
break}
default:{obj[key]=val}}}
return obj},resetFilters:function(){var self=this;self._box.find('li[data-type]').each(function(){var _this=jQuery(this),type=_this.attr('data-type'),baseType=_this.attr('data-base-type'),defaultVal=null;_this.find('.mfilter-input-active').removeClass('mfilter-input-active');if(baseType=='stock_status'&&self._options.inStockDefaultSelected){defaultVal=self._options.inStockStatus}
switch(type){case 'image_radio':case 'image':{_this.find('input[type=checkbox]:checked,input[type=radio]:checked').prop('checked',!1).parent().removeClass('mfilter-image-checked');break}
case 'cat_checkbox':{_this.find('input[type=checkbox]:checked').prop('checked',!1);_this.find('.mfilter-counter').removeClass('mfilter-close');break}
case 'tree':{_this.find('input[name=path]').val(typeof self._options.params.path=='undefined'?'':self._options.params.path);break}
case 'rating':case 'stock_status':case 'manufacturers':case 'checkbox':case 'image_list_checkbox':case 'image_list_radio':case 'radio':{_this.find('input[type=checkbox]:checked,input[type=radio]:checked').prop('checked',!1);_this.find('.mfilter-counter').removeClass('mfilter-close');if(defaultVal!==null){_this.find('input[value="'+defaultVal.replace(/"/g,'&quot;')+'"]').prop('checked',!0).parent().parent().find('.mfilter-counter').addClass('mfilter-close')}
break}
case 'search_oc':case 'search':{_this.find('input[id="mfilter-opts-search"]').val('');break}
case 'text':{_this.find('input[type=text]').val('');break}
case 'slider':{break}
case 'price':{_this.find('input[id="mfilter-opts-price-min"]').val(self._options.priceMin);_this.find('input[id="mfilter-opts-price-max"]').val(self._options.priceMax);_this.find('[id="mfilter-price-slider"]').each(function(){jQuery(this).slider('option','min',self._options.priceMin);jQuery(this).slider('option','max',self._options.priceMax);jQuery(this).slider('option','values',[self._options.priceMin,self._options.priceMax]);jQuery(this).slider('value',jQuery(this).slider('value'))});break}
case 'related':case 'select':{_this.find('select option').removeAttr('selected');if(defaultVal!==null){_this.find('select option').each(function(i){if(jQuery(this).val()==defaultVal){jQuery(this).attr('selected',!0);_this.find('select').prop('selectedIndex',i);return!1}})}else{_this.find('select option:first').attr('selected',!0);_this.find('select').prop('selectedIndex',0)}
if(type=='related'){_this.find('select').each(function(i){if(i){if(_this.attr('data-auto-levels')){jQuery(this).parent().remove()}else{jQuery(this).find('option[value!=""]').remove()}}})}
break}}});for(var i=0;i<self._sliders.length;i++){self._sliders[i].resetValues()}},filters:function(alsoEmpty){var self=this,params={},stockStatusExist=self._box.find('li[data-base-type="stock_status"]').length?!0:!1;self._box.find('li[data-type]').each(function(){var _this=jQuery(this),type=_this.attr('data-type'),seoName=_this.attr('data-seo-name');if(alsoEmpty===!0){if(typeof params[seoName]=='undefined'){params[seoName]=[]}}
switch(type){case 'cat_checkbox':case 'rating':case 'stock_status':case 'manufacturers':case 'image_list_checkbox':case 'image':case 'checkbox':{_this.find('input[type=checkbox]:checked').each(function(){if(typeof params[seoName]=='undefined'){params[seoName]=[]}
params[seoName].push(encodeURIComponent(self.encode(jQuery(this).val())))});break}
case 'image_radio':case 'image_list_radio':case 'radio':{_this.find('input[type=radio]:checked').each(function(){params[seoName]=[encodeURIComponent(self.encode(jQuery(this).val()))]});break}
case 'slider':{var slider_id=_this.attr('data-slider-id'),slider_vals=self._sliders[slider_id].getValues();if(slider_vals.length){params[seoName]=slider_vals}
break}
case 'price':{var priceRange=self.getPriceRange();if(priceRange.min!=self._options.priceMin||priceRange.max!=self._options.priceMax){if(self._validPrice(priceRange.min,priceRange.max))
params[seoName]=[priceRange.min,priceRange.max]}
break}
case 'search_oc':case 'search':{_this.find('input[id="mfilter-opts-search"]').each(function(){if(jQuery(this).val()!==''){params[seoName]=[encodeURIComponent(self.encode(jQuery(this).val()))]}});break}
case 'text':{_this.find('input[type=text]').each(function(){if(jQuery(this).val()!=''){params[seoName]=[encodeURIComponent(self.encode(jQuery(this).val()))]}});break}
case 'select':{_this.find('select').each(function(){if(jQuery(this).val())
params[seoName]=[encodeURIComponent(self.encode(jQuery(this).val()))]});break}
case 'related':{_this.find('select').each(function(){var val=jQuery(this).val();if(val){if(typeof params[seoName]=='undefined')
params[seoName]=[];params[seoName].push(val)}})}
case 'tree':{_this.find('input').each(function(){var val=jQuery(this).val(),path=typeof self._options.params.mfp_org_path=='undefined'?self._options.params.path:self._options.params.mfp_org_path;if(val&&val!=path){params.path=[val]}});break}}});if(self._options.inStockDefaultSelected&&typeof params.stock_status=='undefined'){params.stock_status=stockStatusExist?[]:[self._options.inStockStatus]}
return params},filtersToUrl:function(params){var self=this,url='';if(typeof params=='undefined'){params=self.filters();self.eachInstances(function(self){params=$.extend(self.filters(),params)},!0)}
for(var i in params){url+=url?',':'';url+=''+i+'['+params[i].join(',')+']'}
return url},paramsToUrl:function(url,attribs){var self=this,params=typeof url=='undefined'?self._params:self._parseUrl(url,attribs),urlSep=typeof url=='undefined'?self._urlSep:self._parseSep(url).urlSep;return self._paramsToUrl(params,{'skip':['mfilter-ajax','mfp','page'],'sep':urlSep.n,'sep2':urlSep.n=='&'?'=':urlSep.n,'fn':function(i){return typeof url=='undefined'&&typeof self._inUrl[i]=='undefined'}})},_paramsToUrl:function(params,o){var url='';o=jQuery.extend({'skip':[],'sep':'&','sep2':'=','fn':function(){}},typeof o=='object'?o:{});for(var i in params){if(o.skip.indexOf(i)>-1)continue;if(o.fn(i,params[i]))continue;url+=url?o.sep:'';url+=i+o.sep2+params[i]}
return url},_parseUrl:function(url,attribs){if(typeof attribs!='object')
attribs={'mfilter-ajax':'1'};if(typeof url=='undefined')
return attribs;var self=this,params,i,name,value,param,mfp;url=url.split('#')[0];mfp=url.match(/\/mfp,([a-z0-9\-_]+\[[^\]]*\],?)+/g);if(mfp){attribs.mfp=mfp[0].replace(/^\/mfp,/,'')}
if(url.indexOf('?')>-1||url.indexOf('&')>-1){params=typeof self.parse_url(url).query!='undefined'?self.parse_url(url).query.split('&'):url.split('&');for(i=0;i<params.length;i++){if(params[i].indexOf('=')<0)continue;param=params[i].split('=');name=param[0];value=param[1];if(!name)continue;attribs[name]=value}}else{params=url.split(';');name=null;for(i=1;i<params.length;i++){if(name===null)
name=params[i];else{attribs[name]=params[i];name=null}}}
return attribs},reload:function(){var self=this;window.location.href=self.createUrl()}};var MegaFilterLang={};function display_MFP(view){jQuery('#list-view').click(function(){jQuery('#content .product-layout > .clearfix').remove();jQuery('#content .product-layout').attr('class','product-layout product-list col-xs-12');localStorage.setItem('display','list')});jQuery('#grid-view').click(function(){jQuery('#content .product-layout > .clearfix').remove();cols=jQuery('#column-right, #column-left').length;if(cols==2){jQuery('#content .product-layout').attr('class','product-layout product-grid col-lg-6 col-md-6 col-sm-12 col-xs-12');jQuery('#content .product-layout:nth-child(2)').after('<div class="clearfix visible-md visible-sm"></div>')}else if(cols==1){jQuery('#content .product-layout').attr('class','product-layout product-grid col-lg-4 col-md-4 col-sm-6 col-xs-12');jQuery('#content .product-layout:nth-child(3)').after('<div class="clearfix visible-lg"></div>')}else{jQuery('#content .product-layout').attr('class','product-layout product-grid col-lg-3 col-md-3 col-sm-6 col-xs-12');jQuery('#content .product-layout:nth-child(4)').after('<div class="clearfix"></div>')}
localStorage.setItem('display','grid')});if(localStorage.getItem('display')=='list'){jQuery('#list-view').trigger('click')}else{jQuery('#grid-view').trigger('click')}};window.dataLayer=window.dataLayer||[];ecommerce={};ecommerce.yandex={product_view:function(products){console.log('view');dataLayer.push({"ecommerce":{"detail":{"products":products}}})},add:function(products){console.log('add');dataLayer.push({"ecommerce":{"add":{"products":products}}})},remove:function(products){console.log('rm');dataLayer.push({"ecommerce":{"remove":{"products":products}}})},purchase:function(products,order_id){console.log('pursh');dataLayer.push({"ecommerce":{"purchase":{"actionField":{"id":order_id},"products":products}}})},send:function(products){console.log('send');jQuery.each(products,function(i,product){var type=product.action;delete product.action;ecommerce.yandex[type]([product])})}};!function(a){"use strict";a.ThreeSixty=function(b,c){var d,e=this,f=[];e.$el=a(b),e.el=b,e.$el.data("ThreeSixty",e),e.init=function(){d=a.extend({},a.ThreeSixty.defaultOptions,c),d.disableSpin&&(d.currentFrame=1,d.endFrame=1),e.initProgress(),e.loadImages()},e.resize=function(){},e.initProgress=function(){e.$el.css({width:d.width+"px",height:d.height+"px","background-image":"none !important"}),d.styles&&e.$el.css(d.styles),e.responsive(),e.$el.find(d.progress).css({marginTop:d.height/2-15+"px"}),e.$el.find(d.progress).fadeIn("slow"),e.$el.find(d.imgList).hide()},e.loadImages=function(){var b,c,g,h;b=document.createElement("li"),h=d.zeroBased?0:1,c=d.imgArray?d.imgArray[d.loadedImages]:d.domain+d.imagePath+d.filePrefix+e.zeroPad(d.loadedImages+h)+d.ext+(e.browser.isIE()?"?"+(new Date).getTime():""),g=a("<img>").attr("src",c).addClass("previous-image").appendTo(b),f.push(g),e.$el.find(d.imgList).append(b),a(g).load(function(){e.imageLoaded()})},e.imageLoaded=function(){d.loadedImages+=1,a(d.progress+" span").text(Math.floor(d.loadedImages/d.totalFrames*100)+"%"),d.loadedImages>=d.totalFrames?(d.disableSpin&&f[0].removeClass("previous-image").addClass("current-image"),a(d.progress).fadeOut("slow",function(){a(this).hide(),e.showImages(),e.showNavigation()})):e.loadImages()},e.showImages=function(){e.$el.find(".txtC").fadeIn(),e.$el.find(d.imgList).fadeIn(),e.ready=!0,d.ready=!0,d.drag&&e.initEvents(),e.refresh(),e.initPlugins(),d.onReady(),setTimeout(function(){e.responsive()},50)},e.initPlugins=function(){a.each(d.plugins,function(b,c){if("function"!=typeof a[c])throw new Error(c+" not available.");a[c].call(e,e.$el,d)})},e.showNavigation=function(){if(d.navigation&&!d.navigation_init){var b,c,f,g;b=a("<div/>").attr("class","nav_bar"),c=a("<a/>").attr({href:"#","class":"nav_bar_next"}).html("next"),f=a("<a/>").attr({href:"#","class":"nav_bar_previous"}).html("previous"),g=a("<a/>").attr({href:"#","class":"nav_bar_play"}).html("play"),b.append(f),b.append(g),b.append(c),e.$el.prepend(b),c.bind("mousedown touchstart",e.next),f.bind("mousedown touchstart",e.previous),g.bind("mousedown touchstart",e.play_stop),d.navigation_init=!0}},e.play_stop=function(b){b.preventDefault(),d.autoplay?(d.autoplay=!1,a(b.currentTarget).removeClass("nav_bar_stop").addClass("nav_bar_play"),clearInterval(d.play),d.play=null):(d.autoplay=!0,d.play=setInterval(e.moveToNextFrame,d.playSpeed),a(b.currentTarget).removeClass("nav_bar_play").addClass("nav_bar_stop"))},e.next=function(a){a&&a.preventDefault(),d.endFrame-=5,e.refresh()},e.previous=function(a){a&&a.preventDefault(),d.endFrame+=5,e.refresh()},e.play=function(a,b){var c=a||d.playSpeed,f=b||d.autoplayDirection;d.autoplayDirection=f,d.autoplay||(d.autoplay=!0,d.play=setInterval(e.moveToNextFrame,c))},e.stop=function(){d.autoplay&&(d.autoplay=!1,clearInterval(d.play),d.play=null)},e.moveToNextFrame=function(){1===d.autoplayDirection?d.endFrame-=1:d.endFrame+=1,e.refresh()},e.gotoAndPlay=function(a){if(d.disableWrap)d.endFrame=a,e.refresh();else{var b=Math.ceil(d.endFrame/d.totalFrames);0===b&&(b=1);var c=b>1?d.endFrame-(b-1)*d.totalFrames:d.endFrame,f=d.totalFrames-c,g=0;g=a-c>0?a-c<c+(d.totalFrames-a)?d.endFrame+(a-c):d.endFrame-(c+(d.totalFrames-a)):f+a>c-a?d.endFrame-(c-a):d.endFrame+(f+a),c!==a&&(d.endFrame=g,e.refresh())}},e.initEvents=function(){e.$el.bind("mousedown touchstart touchmove touchend mousemove click",function(a){a.preventDefault(),"mousedown"===a.type&&1===a.which||"touchstart"===a.type?(d.pointerStartPosX=e.getPointerEvent(a).pageX,d.dragging=!0,d.onDragStart(d.currentFrame)):"touchmove"===a.type?e.trackPointer(a):"touchend"===a.type&&(d.dragging=!1,d.onDragStop(d.endFrame))}),a(document).bind("mouseup",function(b){d.dragging=!1,d.onDragStop(d.endFrame),a(this).css("cursor","none")}),a(window).bind("resize",function(a){e.responsive()}),a(document).bind("mousemove",function(a){d.dragging?(a.preventDefault(),!e.browser.isIE&&d.showCursor&&e.$el.css("cursor","url(assets/images/hand_closed.png), auto")):!e.browser.isIE&&d.showCursor&&e.$el.css("cursor","url(assets/images/hand_open.png), auto"),e.trackPointer(a)}),a(window).resize(function(){e.resize()})},e.getPointerEvent=function(a){return a.originalEvent.targetTouches?a.originalEvent.targetTouches[0]:a},e.trackPointer=function(a){d.ready&&d.dragging&&(d.pointerEndPosX=e.getPointerEvent(a).pageX,d.monitorStartTime<(new Date).getTime()-d.monitorInt&&(d.pointerDistance=d.pointerEndPosX-d.pointerStartPosX,d.pointerDistance>0?d.endFrame=d.currentFrame+Math.ceil((d.totalFrames-1)*d.speedMultiplier*(d.pointerDistance/e.$el.width())):d.endFrame=d.currentFrame+Math.floor((d.totalFrames-1)*d.speedMultiplier*(d.pointerDistance/e.$el.width())),d.disableWrap&&(d.endFrame=Math.min(d.totalFrames-(d.zeroBased?1:0),d.endFrame),d.endFrame=Math.max(d.zeroBased?0:1,d.endFrame)),e.refresh(),d.monitorStartTime=(new Date).getTime(),d.pointerStartPosX=e.getPointerEvent(a).pageX))},e.refresh=function(){0===d.ticker&&(d.ticker=setInterval(e.render,Math.round(1e3/d.framerate)))},e.render=function(){var a;d.currentFrame!==d.endFrame?(a=d.endFrame<d.currentFrame?Math.floor(.1*(d.endFrame-d.currentFrame)):Math.ceil(.1*(d.endFrame-d.currentFrame)),e.hidePreviousFrame(),d.currentFrame+=a,e.showCurrentFrame(),e.$el.trigger("frameIndexChanged",[e.getNormalizedCurrentFrame(),d.totalFrames])):(window.clearInterval(d.ticker),d.ticker=0)},e.hidePreviousFrame=function(){f[e.getNormalizedCurrentFrame()].removeClass("current-image").addClass("previous-image")},e.showCurrentFrame=function(){f[e.getNormalizedCurrentFrame()].removeClass("previous-image").addClass("current-image")},e.getNormalizedCurrentFrame=function(){var a,b;return d.disableWrap?(a=Math.min(d.currentFrame,d.totalFrames-(d.zeroBased?1:0)),b=Math.min(d.endFrame,d.totalFrames-(d.zeroBased?1:0)),a=Math.max(a,d.zeroBased?0:1),b=Math.max(b,d.zeroBased?0:1),d.currentFrame=a,d.endFrame=b):(a=Math.ceil(d.currentFrame%d.totalFrames),0>a&&(a+=d.totalFrames-(d.zeroBased?1:0))),a},e.getCurrentFrame=function(){return d.currentFrame},e.responsive=function(){d.responsive&&e.$el.css({height:e.$el.find(".current-image").first().css("height"),width:"100%"})},e.zeroPad=function(a){function b(a,b){var c=a.toString();if(d.zeroPadding)for(;c.length<b;)c="0"+c;return c}var c=Math.log(d.totalFrames)/Math.LN10,e=1e3,f=Math.round(c*e)/e,g=Math.floor(f)+1;return b(a,g)},e.browser={},e.browser.isIE=function(){var a=-1;if("Microsoft Internet Explorer"===navigator.appName){var b=navigator.userAgent,c=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})");null!==c.exec(b)&&(a=parseFloat(RegExp.$1))}return-1!==a},e.getConfig=function(){return d},a.ThreeSixty.defaultOptions={dragging:!1,ready:!1,pointerStartPosX:0,pointerEndPosX:0,pointerDistance:0,monitorStartTime:0,monitorInt:10,ticker:0,speedMultiplier:7,totalFrames:180,currentFrame:0,endFrame:0,loadedImages:0,framerate:60,domains:null,domain:"",parallel:!1,queueAmount:8,idle:0,filePrefix:"",ext:"png",height:300,width:300,styles:{},navigation:!1,autoplay:!1,autoplayDirection:1,disableSpin:!1,disableWrap:!1,responsive:!1,zeroPadding:!1,zeroBased:!1,plugins:[],showCursor:!1,drag:!0,onReady:function(){},onDragStart:function(){},onDragStop:function(){},imgList:".threesixty_images",imgArray:null,playSpeed:100},e.init()},a.fn.ThreeSixty=function(b){return Object.create(new a.ThreeSixty(this,b))}}(jQuery),"function"!=typeof Object.create&&(Object.create=function(a){"use strict";function b(){}return b.prototype=a,new b});!function(a,b,c,d){function e(b,c){this.settings=null,this.options=a.extend({},e.Defaults,c),this.$element=a(b),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},a.each(["onResize","onThrottledResize"],a.proxy(function(b,c){this._handlers[c]=a.proxy(this[c],this)},this)),a.each(e.Plugins,a.proxy(function(a,b){this._plugins[a.charAt(0).toLowerCase()+a.slice(1)]=new b(this)},this)),a.each(e.Workers,a.proxy(function(b,c){this._pipe.push({filter:c.filter,run:a.proxy(c.run,this)})},this)),this.setup(),this.initialize()}e.Defaults={items:3,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:b,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},e.Width={Default:"default",Inner:"inner",Outer:"outer"},e.Type={Event:"event",State:"state"},e.Plugins={},e.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(a){a.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(a){var b=this.settings.margin||"",c=!this.settings.autoWidth,d=this.settings.rtl,e={width:"auto","margin-left":d?b:"","margin-right":d?"":b};!c&&this.$stage.children().css(e),a.css=e}},{filter:["width","items","settings"],run:function(a){var b=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,c=null,d=this._items.length,e=!this.settings.autoWidth,f=[];for(a.items={merge:!1,width:b};d--;)c=this._mergers[d],c=this.settings.mergeFit&&Math.min(c,this.settings.items)||c,a.items.merge=c>1||a.items.merge,f[d]=e?b*c:this._items[d].width();this._widths=f}},{filter:["items","settings"],run:function(){var b=[],c=this._items,d=this.settings,e=Math.max(2*d.items,4),f=2*Math.ceil(c.length/2),g=d.loop&&c.length?d.rewind?e:Math.max(e,f):0,h="",i="";for(g/=2;g--;)b.push(this.normalize(b.length/2,!0)),h+=c[b[b.length-1]][0].outerHTML,b.push(this.normalize(c.length-1-(b.length-1)/2,!0)),i=c[b[b.length-1]][0].outerHTML+i;this._clones=b,a(h).addClass("cloned").appendTo(this.$stage),a(i).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var a=this.settings.rtl?1:-1,b=this._clones.length+this._items.length,c=-1,d=0,e=0,f=[];++c<b;)d=f[c-1]||0,e=this._widths[this.relative(c)]+this.settings.margin,f.push(d+e*a);this._coordinates=f}},{filter:["width","items","settings"],run:function(){var a=this.settings.stagePadding,b=this._coordinates,c={width:Math.ceil(Math.abs(b[b.length-1]))+2*a,"padding-left":a||"","padding-right":a||""};this.$stage.css(c)}},{filter:["width","items","settings"],run:function(a){var b=this._coordinates.length,c=!this.settings.autoWidth,d=this.$stage.children();if(c&&a.items.merge)for(;b--;)a.css.width=this._widths[this.relative(b)],d.eq(b).css(a.css);else c&&(a.css.width=a.items.width,d.css(a.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(a){a.current=a.current?this.$stage.children().index(a.current):0,a.current=Math.max(this.minimum(),Math.min(this.maximum(),a.current)),this.reset(a.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var a,b,c,d,e=this.settings.rtl?1:-1,f=2*this.settings.stagePadding,g=this.coordinates(this.current())+f,h=g+this.width()*e,i=[];for(c=0,d=this._coordinates.length;c<d;c++)a=this._coordinates[c-1]||0,b=Math.abs(this._coordinates[c])+f*e,(this.op(a,"<=",g)&&this.op(a,">",h)||this.op(b,"<",g)&&this.op(b,">",h))&&i.push(c);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+i.join("), :eq(")+")").addClass("active"),this.settings.center&&(this.$stage.children(".center").removeClass("center"),this.$stage.children().eq(this.current()).addClass("center"))}}],e.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var b,c,e;b=this.$element.find("img"),c=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:d,e=this.$element.children(c).width(),b.length&&e<=0&&this.preloadAutoWidthImages(b)}this.$element.addClass(this.options.loadingClass),this.$stage=a("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},e.prototype.setup=function(){var b=this.viewport(),c=this.options.responsive,d=-1,e=null;c?(a.each(c,function(a){a<=b&&a>d&&(d=Number(a))}),e=a.extend({},this.options,c[d]),"function"==typeof e.stagePadding&&(e.stagePadding=e.stagePadding()),delete e.responsive,e.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+d))):e=a.extend({},this.options),this.trigger("change",{property:{name:"settings",value:e}}),this._breakpoint=d,this.settings=e,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},e.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},e.prototype.prepare=function(b){var c=this.trigger("prepare",{content:b});return c.data||(c.data=a("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(b)),this.trigger("prepared",{content:c.data}),c.data},e.prototype.update=function(){for(var b=0,c=this._pipe.length,d=a.proxy(function(a){return this[a]},this._invalidated),e={};b<c;)(this._invalidated.all||a.grep(this._pipe[b].filter,d).length>0)&&this._pipe[b].run(e),b++;this._invalidated={},!this.is("valid")&&this.enter("valid")},e.prototype.width=function(a){switch(a=a||e.Width.Default){case e.Width.Inner:case e.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},e.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},e.prototype.onThrottledResize=function(){b.clearTimeout(this.resizeTimer),this.resizeTimer=b.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},e.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.$element.is(":visible")&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))))},e.prototype.registerEventHandlers=function(){a.support.transition&&this.$stage.on(a.support.transition.end+".owl.core",a.proxy(this.onTransitionEnd,this)),this.settings.responsive!==!1&&this.on(b,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",a.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",a.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",a.proxy(this.onDragEnd,this)))},e.prototype.onDragStart=function(b){var d=null;3!==b.which&&(a.support.transform?(d=this.$stage.css("transform").replace(/.*\(|\)|/g,"").split(","),d={x:d[16===d.length?12:4],y:d[16===d.length?13:5]}):(d=this.$stage.position(),d={x:this.settings.rtl?d.left+this.$stage.width()-this.width()+this.settings.margin:d.left,y:d.top}),this.is("animating")&&(a.support.transform?this.animate(d.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===b.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=a(b.target),this._drag.stage.start=d,this._drag.stage.current=d,this._drag.pointer=this.pointer(b),a(c).on("mouseup.owl.core touchend.owl.core",a.proxy(this.onDragEnd,this)),a(c).one("mousemove.owl.core touchmove.owl.core",a.proxy(function(b){var d=this.difference(this._drag.pointer,this.pointer(b));a(c).on("mousemove.owl.core touchmove.owl.core",a.proxy(this.onDragMove,this)),Math.abs(d.x)<Math.abs(d.y)&&this.is("valid")||(b.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},e.prototype.onDragMove=function(a){var b=null,c=null,d=null,e=this.difference(this._drag.pointer,this.pointer(a)),f=this.difference(this._drag.stage.start,e);this.is("dragging")&&(a.preventDefault(),this.settings.loop?(b=this.coordinates(this.minimum()),c=this.coordinates(this.maximum()+1)-b,f.x=((f.x-b)%c+c)%c+b):(b=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),c=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),d=this.settings.pullDrag?-1*e.x/5:0,f.x=Math.max(Math.min(f.x,b+d),c+d)),this._drag.stage.current=f,this.animate(f.x))},e.prototype.onDragEnd=function(b){var d=this.difference(this._drag.pointer,this.pointer(b)),e=this._drag.stage.current,f=d.x>0^this.settings.rtl?"left":"right";a(c).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==d.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(e.x,0!==d.x?f:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=f,(Math.abs(d.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},e.prototype.closest=function(b,c){var d=-1,e=30,f=this.width(),g=this.coordinates();return this.settings.freeDrag||a.each(g,a.proxy(function(a,h){return"left"===c&&b>h-e&&b<h+e?d=a:"right"===c&&b>h-f-e&&b<h-f+e?d=a+1:this.op(b,"<",h)&&this.op(b,">",g[a+1]||h-f)&&(d="left"===c?a+1:a),d===-1},this)),this.settings.loop||(this.op(b,">",g[this.minimum()])?d=b=this.minimum():this.op(b,"<",g[this.maximum()])&&(d=b=this.maximum())),d},e.prototype.animate=function(b){var c=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),c&&(this.enter("animating"),this.trigger("translate")),a.support.transform3d&&a.support.transition?this.$stage.css({transform:"translate3d("+b+"px,0px,0px)",transition:this.speed()/1e3+"s"}):c?this.$stage.animate({left:b+"px"},this.speed(),this.settings.fallbackEasing,a.proxy(this.onTransitionEnd,this)):this.$stage.css({left:b+"px"})},e.prototype.is=function(a){return this._states.current[a]&&this._states.current[a]>0},e.prototype.current=function(a){if(a===d)return this._current;if(0===this._items.length)return d;if(a=this.normalize(a),this._current!==a){var b=this.trigger("change",{property:{name:"position",value:a}});b.data!==d&&(a=this.normalize(b.data)),this._current=a,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},e.prototype.invalidate=function(b){return"string"===a.type(b)&&(this._invalidated[b]=!0,this.is("valid")&&this.leave("valid")),a.map(this._invalidated,function(a,b){return b})},e.prototype.reset=function(a){a=this.normalize(a),a!==d&&(this._speed=0,this._current=a,this.suppress(["translate","translated"]),this.animate(this.coordinates(a)),this.release(["translate","translated"]))},e.prototype.normalize=function(a,b){var c=this._items.length,e=b?0:this._clones.length;return!this.isNumeric(a)||c<1?a=d:(a<0||a>=c+e)&&(a=((a-e/2)%c+c)%c+e/2),a},e.prototype.relative=function(a){return a-=this._clones.length/2,this.normalize(a,!0)},e.prototype.maximum=function(a){var b,c,d,e=this.settings,f=this._coordinates.length;if(e.loop)f=this._clones.length/2+this._items.length-1;else if(e.autoWidth||e.merge){for(b=this._items.length,c=this._items[--b].width(),d=this.$element.width();b--&&(c+=this._items[b].width()+this.settings.margin,!(c>d)););f=b+1}else f=e.center?this._items.length-1:this._items.length-e.items;return a&&(f-=this._clones.length/2),Math.max(f,0)},e.prototype.minimum=function(a){return a?0:this._clones.length/2},e.prototype.items=function(a){return a===d?this._items.slice():(a=this.normalize(a,!0),this._items[a])},e.prototype.mergers=function(a){return a===d?this._mergers.slice():(a=this.normalize(a,!0),this._mergers[a])},e.prototype.clones=function(b){var c=this._clones.length/2,e=c+this._items.length,f=function(a){return a%2===0?e+a/2:c-(a+1)/2};return b===d?a.map(this._clones,function(a,b){return f(b)}):a.map(this._clones,function(a,c){return a===b?f(c):null})},e.prototype.speed=function(a){return a!==d&&(this._speed=a),this._speed},e.prototype.coordinates=function(b){var c,e=1,f=b-1;return b===d?a.map(this._coordinates,a.proxy(function(a,b){return this.coordinates(b)},this)):(this.settings.center?(this.settings.rtl&&(e=-1,f=b+1),c=this._coordinates[b],c+=(this.width()-c+(this._coordinates[f]||0))/2*e):c=this._coordinates[f]||0,c=Math.ceil(c))},e.prototype.duration=function(a,b,c){return 0===c?0:Math.min(Math.max(Math.abs(b-a),1),6)*Math.abs(c||this.settings.smartSpeed)},e.prototype.to=function(a,b){var c=this.current(),d=null,e=a-this.relative(c),f=(e>0)-(e<0),g=this._items.length,h=this.minimum(),i=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(e)>g/2&&(e+=f*-1*g),a=c+e,d=((a-h)%g+g)%g+h,d!==a&&d-e<=i&&d-e>0&&(c=d-e,a=d,this.reset(c))):this.settings.rewind?(i+=1,a=(a%i+i)%i):a=Math.max(h,Math.min(i,a)),this.speed(this.duration(c,a,b)),this.current(a),this.$element.is(":visible")&&this.update()},e.prototype.next=function(a){a=a||!1,this.to(this.relative(this.current())+1,a)},e.prototype.prev=function(a){a=a||!1,this.to(this.relative(this.current())-1,a)},e.prototype.onTransitionEnd=function(a){if(a!==d&&(a.stopPropagation(),(a.target||a.srcElement||a.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},e.prototype.viewport=function(){var d;return this.options.responsiveBaseElement!==b?d=a(this.options.responsiveBaseElement).width():b.innerWidth?d=b.innerWidth:c.documentElement&&c.documentElement.clientWidth?d=c.documentElement.clientWidth:console.warn("Can not detect viewport width."),d},e.prototype.replace=function(b){this.$stage.empty(),this._items=[],b&&(b=b instanceof jQuery?b:a(b)),this.settings.nestedItemSelector&&(b=b.find("."+this.settings.nestedItemSelector)),b.filter(function(){return 1===this.nodeType}).each(a.proxy(function(a,b){b=this.prepare(b),this.$stage.append(b),this._items.push(b),this._mergers.push(1*b.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},e.prototype.add=function(b,c){var e=this.relative(this._current);c=c===d?this._items.length:this.normalize(c,!0),b=b instanceof jQuery?b:a(b),this.trigger("add",{content:b,position:c}),b=this.prepare(b),0===this._items.length||c===this._items.length?(0===this._items.length&&this.$stage.append(b),0!==this._items.length&&this._items[c-1].after(b),this._items.push(b),this._mergers.push(1*b.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[c].before(b),this._items.splice(c,0,b),this._mergers.splice(c,0,1*b.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[e]&&this.reset(this._items[e].index()),this.invalidate("items"),this.trigger("added",{content:b,position:c})},e.prototype.remove=function(a){a=this.normalize(a,!0),a!==d&&(this.trigger("remove",{content:this._items[a],position:a}),this._items[a].remove(),this._items.splice(a,1),this._mergers.splice(a,1),this.invalidate("items"),this.trigger("removed",{content:null,position:a}))},e.prototype.preloadAutoWidthImages=function(b){b.each(a.proxy(function(b,c){this.enter("pre-loading"),c=a(c),a(new Image).one("load",a.proxy(function(a){c.attr("src",a.target.src),c.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",c.attr("src")||c.attr("data-src")||c.attr("data-src-retina"))},this))},e.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),a(c).off(".owl.core"),this.settings.responsive!==!1&&(b.clearTimeout(this.resizeTimer),this.off(b,"resize",this._handlers.onThrottledResize));for(var d in this._plugins)this._plugins[d].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},e.prototype.op=function(a,b,c){var d=this.settings.rtl;switch(b){case"<":return d?a>c:a<c;case">":return d?a<c:a>c;case">=":return d?a<=c:a>=c;case"<=":return d?a>=c:a<=c}},e.prototype.on=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent("on"+b,c)},e.prototype.off=function(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent&&a.detachEvent("on"+b,c)},e.prototype.trigger=function(b,c,d,f,g){var h={item:{count:this._items.length,index:this.current()}},i=a.camelCase(a.grep(["on",b,d],function(a){return a}).join("-").toLowerCase()),j=a.Event([b,"owl",d||"carousel"].join(".").toLowerCase(),a.extend({relatedTarget:this},h,c));return this._supress[b]||(a.each(this._plugins,function(a,b){b.onTrigger&&b.onTrigger(j)}),this.register({type:e.Type.Event,name:b}),this.$element.trigger(j),this.settings&&"function"==typeof this.settings[i]&&this.settings[i].call(this,j)),j},e.prototype.enter=function(b){a.each([b].concat(this._states.tags[b]||[]),a.proxy(function(a,b){this._states.current[b]===d&&(this._states.current[b]=0),this._states.current[b]++},this))},e.prototype.leave=function(b){a.each([b].concat(this._states.tags[b]||[]),a.proxy(function(a,b){this._states.current[b]--},this))},e.prototype.register=function(b){if(b.type===e.Type.Event){if(a.event.special[b.name]||(a.event.special[b.name]={}),!a.event.special[b.name].owl){var c=a.event.special[b.name]._default;a.event.special[b.name]._default=function(a){return!c||!c.apply||a.namespace&&a.namespace.indexOf("owl")!==-1?a.namespace&&a.namespace.indexOf("owl")>-1:c.apply(this,arguments)},a.event.special[b.name].owl=!0}}else b.type===e.Type.State&&(this._states.tags[b.name]?this._states.tags[b.name]=this._states.tags[b.name].concat(b.tags):this._states.tags[b.name]=b.tags,this._states.tags[b.name]=a.grep(this._states.tags[b.name],a.proxy(function(c,d){return a.inArray(c,this._states.tags[b.name])===d},this)))},e.prototype.suppress=function(b){a.each(b,a.proxy(function(a,b){this._supress[b]=!0},this))},e.prototype.release=function(b){a.each(b,a.proxy(function(a,b){delete this._supress[b]},this))},e.prototype.pointer=function(a){var c={x:null,y:null};return a=a.originalEvent||a||b.event,a=a.touches&&a.touches.length?a.touches[0]:a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:a,a.pageX?(c.x=a.pageX,c.y=a.pageY):(c.x=a.clientX,c.y=a.clientY),c},e.prototype.isNumeric=function(a){return!isNaN(parseFloat(a))},e.prototype.difference=function(a,b){return{x:a.x-b.x,y:a.y-b.y}},a.fn.owlCarousel=function(b){var c=Array.prototype.slice.call(arguments,1);return this.each(function(){var d=a(this),f=d.data("owl.carousel");f||(f=new e(this,"object"==typeof b&&b),d.data("owl.carousel",f),a.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(b,c){f.register({type:e.Type.Event,name:c}),f.$element.on(c+".owl.carousel.core",a.proxy(function(a){a.namespace&&a.relatedTarget!==this&&(this.suppress([c]),f[c].apply(this,[].slice.call(arguments,1)),this.release([c]))},f))})),"string"==typeof b&&"_"!==b.charAt(0)&&f[b].apply(f,c)})},a.fn.owlCarousel.Constructor=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={autoRefresh:!0,autoRefreshInterval:500},e.prototype.watch=function(){this._interval||(this._visible=this._core.$element.is(":visible"),this._interval=b.setInterval(a.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},e.prototype.refresh=function(){this._core.$element.is(":visible")!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},e.prototype.destroy=function(){var a,c;b.clearInterval(this._interval);for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(c in Object.getOwnPropertyNames(this))"function"!=typeof this[c]&&(this[c]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoRefresh=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":a.proxy(function(b){if(b.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(b.property&&"position"==b.property.name||"initialized"==b.type))for(var c=this._core.settings,e=c.center&&Math.ceil(c.items/2)||c.items,f=c.center&&e*-1||0,g=(b.property&&b.property.value!==d?b.property.value:this._core.current())+f,h=this._core.clones().length,i=a.proxy(function(a,b){this.load(b)},this);f++<e;)this.load(h/2+this._core.relative(g)),h&&a.each(this._core.clones(this._core.relative(g)),i),g++},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={lazyLoad:!1},e.prototype.load=function(c){var d=this._core.$stage.children().eq(c),e=d&&d.find(".owl-lazy");!e||a.inArray(d.get(0),this._loaded)>-1||(e.each(a.proxy(function(c,d){var e,f=a(d),g=b.devicePixelRatio>1&&f.attr("data-src-retina")||f.attr("data-src");this._core.trigger("load",{element:f,url:g},"lazy"),f.is("img")?f.one("load.owl.lazy",a.proxy(function(){f.css("opacity",1),this._core.trigger("loaded",{element:f,url:g},"lazy")},this)).attr("src",g):(e=new Image,e.onload=a.proxy(function(){f.css({"background-image":'url("'+g+'")',opacity:"1"}),this._core.trigger("loaded",{element:f,url:g},"lazy")},this),e.src=g)},this)),this._loaded.push(d.get(0)))},e.prototype.destroy=function(){var a,b;for(a in this.handlers)this._core.$element.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Lazy=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&"position"==a.property.name&&this.update()},this),"loaded.owl.lazy":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&a.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},e.prototype.update=function(){var b=this._core._current,c=b+this._core.settings.items,d=this._core.$stage.children().toArray().slice(b,c),e=[],f=0;a.each(d,function(b,c){e.push(a(c).height())}),f=Math.max.apply(null,e),this._core.$stage.parent().height(f).addClass(this._core.settings.autoHeightClass)},e.prototype.destroy=function(){var a,b;for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoHeight=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":a.proxy(function(a){a.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.video&&this.isInFullScreen()&&a.preventDefault()},this),"refreshed.owl.carousel":a.proxy(function(a){a.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":a.proxy(function(a){a.namespace&&"position"===a.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":a.proxy(function(b){if(b.namespace){var c=a(b.content).find(".owl-video");c.length&&(c.css("display","none"),this.fetch(c,a(b.content)))}},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",a.proxy(function(a){this.play(a)},this))};e.Defaults={video:!1,videoHeight:!1,videoWidth:!1},e.prototype.fetch=function(a,b){var c=function(){return a.attr("data-vimeo-id")?"vimeo":a.attr("data-vzaar-id")?"vzaar":"youtube"}(),d=a.attr("data-vimeo-id")||a.attr("data-youtube-id")||a.attr("data-vzaar-id"),e=a.attr("data-width")||this._core.settings.videoWidth,f=a.attr("data-height")||this._core.settings.videoHeight,g=a.attr("href");if(!g)throw new Error("Missing video URL.");if(d=g.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),d[3].indexOf("youtu")>-1)c="youtube";else if(d[3].indexOf("vimeo")>-1)c="vimeo";else{if(!(d[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");c="vzaar"}d=d[6],this._videos[g]={type:c,id:d,width:e,height:f},b.attr("data-video",g),this.thumbnail(a,this._videos[g])},e.prototype.thumbnail=function(b,c){var d,e,f,g=c.width&&c.height?'style="width:'+c.width+"px;height:"+c.height+'px;"':"",h=b.find("img"),i="src",j="",k=this._core.settings,l=function(a){e='<div class="owl-video-play-icon"></div>',d=k.lazyLoad?'<div class="owl-video-tn '+j+'" '+i+'="'+a+'"></div>':'<div class="owl-video-tn" style="opacity:.7;background-image:url('+a+')"></div>',b.after(d),b.after(e)};if(b.wrap('<div class="owl-video-wrapper"'+g+"></div>"),this._core.settings.lazyLoad&&(i="data-src",j="owl-lazy"),h.length)return l(h.attr(i)),h.remove(),!1;"youtube"===c.type?(f="//img.youtube.com/vi/"+c.id+"/hqdefault.jpg",l(f)):"vimeo"===c.type?a.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+c.id+".json",jsonp:"callback",dataType:"jsonp",success:function(a){f=a[0].thumbnail_large,l(f)}}):"vzaar"===c.type&&a.ajax({type:"GET",url:"//vzaar.com/api/videos/"+c.id+".json",jsonp:"callback",dataType:"jsonp",success:function(a){f=a.framegrab_url,l(f)}})},e.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},e.prototype.play=function(b){var c,d=a(b.target),e=d.closest("."+this._core.settings.itemClass),f=this._videos[e.attr("data-video")],g=f.width||"100%",h=f.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),e=this._core.items(this._core.relative(e.index())),this._core.reset(e.index()),"youtube"===f.type?c='<iframe width="'+g+'" height="'+h+'" src="//www.youtube.com/embed/'+f.id+"?autoplay=1&rel=0&v="+f.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===f.type?c='<iframe src="//player.vimeo.com/video/'+f.id+'?autoplay=1" width="'+g+'" height="'+h+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>':"vzaar"===f.type&&(c='<iframe frameborder="0"height="'+h+'"width="'+g+'" allowfullscreen mozallowfullscreen webkitAllowFullScreen src="//view.vzaar.com/'+f.id+'/player?autoplay=true"></iframe>'),a('<div class="owl-video-frame">'+c+"</div>").insertAfter(e.find(".owl-video")),this._playing=e.addClass("owl-video-playing"))},e.prototype.isInFullScreen=function(){var b=c.fullscreenElement||c.mozFullScreenElement||c.webkitFullscreenElement;return b&&a(b).parent().hasClass("owl-video-frame")},e.prototype.destroy=function(){var a,b;this._core.$element.off("click.owl.video");for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Video=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this.core=b,this.core.options=a.extend({},e.Defaults,this.core.options),this.swapping=!0,this.previous=d,this.next=d,this.handlers={"change.owl.carousel":a.proxy(function(a){a.namespace&&"position"==a.property.name&&(this.previous=this.core.current(),this.next=a.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":a.proxy(function(a){a.namespace&&(this.swapping="translated"==a.type)},this),"translate.owl.carousel":a.proxy(function(a){a.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};e.Defaults={animateOut:!1,animateIn:!1},e.prototype.swap=function(){if(1===this.core.settings.items&&a.support.animation&&a.support.transition){this.core.speed(0);var b,c=a.proxy(this.clear,this),d=this.core.$stage.children().eq(this.previous),e=this.core.$stage.children().eq(this.next),f=this.core.settings.animateIn,g=this.core.settings.animateOut;this.core.current()!==this.previous&&(g&&(b=this.core.coordinates(this.previous)-this.core.coordinates(this.next),d.one(a.support.animation.end,c).css({left:b+"px"}).addClass("animated owl-animated-out").addClass(g)),f&&e.one(a.support.animation.end,c).addClass("animated owl-animated-in").addClass(f))}},e.prototype.clear=function(b){a(b.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},e.prototype.destroy=function(){var a,b;for(a in this.handlers)this.core.$element.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Animate=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._timeout=null,this._paused=!1,this._handlers={"changed.owl.carousel":a.proxy(function(a){a.namespace&&"settings"===a.property.name?this._core.settings.autoplay?this.play():this.stop():a.namespace&&"position"===a.property.name&&this._core.settings.autoplay&&this._setAutoPlayInterval()},this),"initialized.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":a.proxy(function(a,b,c){a.namespace&&this.play(b,c)},this),"stop.owl.autoplay":a.proxy(function(a){a.namespace&&this.stop()},this),"mouseover.owl.autoplay":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":a.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=a.extend({},e.Defaults,this._core.options)};e.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},e.prototype.play=function(a,b){this._paused=!1,this._core.is("rotating")||(this._core.enter("rotating"),this._setAutoPlayInterval())},e.prototype._getNextTimeout=function(d,e){return this._timeout&&b.clearTimeout(this._timeout),b.setTimeout(a.proxy(function(){this._paused||this._core.is("busy")||this._core.is("interacting")||c.hidden||this._core.next(e||this._core.settings.autoplaySpeed)},this),d||this._core.settings.autoplayTimeout)},e.prototype._setAutoPlayInterval=function(){this._timeout=this._getNextTimeout()},e.prototype.stop=function(){this._core.is("rotating")&&(b.clearTimeout(this._timeout),this._core.leave("rotating"))},e.prototype.pause=function(){this._core.is("rotating")&&(this._paused=!0)},e.prototype.destroy=function(){var a,b;this.stop();for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.autoplay=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){"use strict";var e=function(b){this._core=b,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":a.proxy(function(b){b.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+a(b.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.dotsData&&this._templates.splice(a.position,0,this._templates.pop())},this),"remove.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.dotsData&&this._templates.splice(a.position,1)},this),"changed.owl.carousel":a.proxy(function(a){a.namespace&&"position"==a.property.name&&this.draw()},this),"initialized.owl.carousel":a.proxy(function(a){a.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":a.proxy(function(a){a.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers)};e.Defaults={nav:!1,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},e.prototype.initialize=function(){var b,c=this._core.settings;this._controls.$relative=(c.navContainer?a(c.navContainer):a("<div>").addClass(c.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=a("<"+c.navElement+">").addClass(c.navClass[0]).html(c.navText[0]).prependTo(this._controls.$relative).on("click",a.proxy(function(a){this.prev(c.navSpeed)},this)),this._controls.$next=a("<"+c.navElement+">").addClass(c.navClass[1]).html(c.navText[1]).appendTo(this._controls.$relative).on("click",a.proxy(function(a){this.next(c.navSpeed)},this)),c.dotsData||(this._templates=[a("<div>").addClass(c.dotClass).append(a("<span>")).prop("outerHTML")]),this._controls.$absolute=(c.dotsContainer?a(c.dotsContainer):a("<div>").addClass(c.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","div",a.proxy(function(b){var d=a(b.target).parent().is(this._controls.$absolute)?a(b.target).index():a(b.target).parent().index();b.preventDefault(),this.to(d,c.dotsSpeed)},this));for(b in this._overrides)this._core[b]=a.proxy(this[b],this)},e.prototype.destroy=function(){var a,b,c,d;for(a in this._handlers)this.$element.off(a,this._handlers[a]);for(b in this._controls)this._controls[b].remove();for(d in this.overides)this._core[d]=this._overrides[d];for(c in Object.getOwnPropertyNames(this))"function"!=typeof this[c]&&(this[c]=null)},e.prototype.update=function(){var a,b,c,d=this._core.clones().length/2,e=d+this._core.items().length,f=this._core.maximum(!0),g=this._core.settings,h=g.center||g.autoWidth||g.dotsData?1:g.dotsEach||g.items;if("page"!==g.slideBy&&(g.slideBy=Math.min(g.slideBy,g.items)),g.dots||"page"==g.slideBy)for(this._pages=[],a=d,b=0,c=0;a<e;a++){if(b>=h||0===b){if(this._pages.push({start:Math.min(f,a-d),end:a-d+h-1}),Math.min(f,a-d)===f)break;b=0,++c}b+=this._core.mergers(this._core.relative(a))}},e.prototype.draw=function(){var b,c=this._core.settings,d=this._core.items().length<=c.items,e=this._core.relative(this._core.current()),f=c.loop||c.rewind;this._controls.$relative.toggleClass("disabled",!c.nav||(d&&!c.loop)),c.nav&&(this._controls.$previous.toggleClass("disabled",!f&&e<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!f&&e>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!c.dots||d),c.dots&&(b=this._pages.length-this._controls.$absolute.children().length,c.dotsData&&0!==b?this._controls.$absolute.html(this._templates.join("")):b>0?this._controls.$absolute.append(new Array(b+1).join(this._templates[0])):b<0&&this._controls.$absolute.children().slice(b).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(a.inArray(this.current(),this._pages)).addClass("active"))},e.prototype.onTrigger=function(b){var c=this._core.settings;b.page={index:a.inArray(this.current(),this._pages),count:this._pages.length,size:c&&(c.center||c.autoWidth||c.dotsData?1:c.dotsEach||c.items)}},e.prototype.current=function(){var b=this._core.relative(this._core.current());return a.grep(this._pages,a.proxy(function(a,c){return a.start<=b&&a.end>=b},this)).pop()},e.prototype.getPosition=function(b){var c,d,e=this._core.settings;return"page"==e.slideBy?(c=a.inArray(this.current(),this._pages),d=this._pages.length,b?++c:--c,c=this._pages[(c%d+d)%d].start):(c=this._core.relative(this._core.current()),d=this._core.items().length,b?c+=e.slideBy:c-=e.slideBy),c},e.prototype.next=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!0),b)},e.prototype.prev=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!1),b)},e.prototype.to=function(b,c,d){var e;!d&&this._pages.length?(e=this._pages.length,a.proxy(this._overrides.to,this._core)(this._pages[(b%e+e)%e].start,c)):a.proxy(this._overrides.to,this._core)(b,c)},a.fn.owlCarousel.Constructor.Plugins.Navigation=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){"use strict";var e=function(c){this._core=c,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":a.proxy(function(c){c.namespace&&"URLHash"===this._core.settings.startPosition&&a(b).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":a.proxy(function(b){if(b.namespace){var c=a(b.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!c)return;this._hashes[c]=b.content}},this),"changed.owl.carousel":a.proxy(function(c){if(c.namespace&&"position"===c.property.name){var d=this._core.items(this._core.relative(this._core.current())),e=a.map(this._hashes,function(a,b){return a===d?b:null}).join();if(!e||b.location.hash.slice(1)===e)return;b.location.hash=e}},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers),a(b).on("hashchange.owl.navigation",a.proxy(function(a){var c=b.location.hash.substring(1),e=this._core.$stage.children(),f=this._hashes[c]&&e.index(this._hashes[c]);f!==d&&f!==this._core.current()&&this._core.to(this._core.relative(f),!1,!0)},this))};e.Defaults={URLhashListener:!1},e.prototype.destroy=function(){var c,d;a(b).off("hashchange.owl.navigation");for(c in this._handlers)this._core.$element.off(c,this._handlers[c]);for(d in Object.getOwnPropertyNames(this))"function"!=typeof this[d]&&(this[d]=null)},a.fn.owlCarousel.Constructor.Plugins.Hash=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){function e(b,c){var e=!1,f=b.charAt(0).toUpperCase()+b.slice(1);return a.each((b+" "+h.join(f+" ")+f).split(" "),function(a,b){if(g[b]!==d)return e=!c||b,!1}),e}function f(a){return e(a,!0)}var g=a("<support>").get(0).style,h="Webkit Moz O ms".split(" "),i={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},j={csstransforms:function(){return!!e("transform")},csstransforms3d:function(){return!!e("perspective")},csstransitions:function(){return!!e("transition")},cssanimations:function(){return!!e("animation")}};j.csstransitions()&&(a.support.transition=new String(f("transition")),a.support.transition.end=i.transition.end[a.support.transition]),j.cssanimations()&&(a.support.animation=new String(f("animation")),a.support.animation.end=i.animation.end[a.support.animation]),j.csstransforms()&&(a.support.transform=new String(f("transform")),a.support.transform3d=j.csstransforms3d())}(window.Zepto||window.jQuery,window,document);jQuery(window).load(function(){alignment_product_name(['.class_scroll'],'.caption a')});function regParseInt(str){return str?parseInt(/^(-)?\d{1,}/i.exec(str)):0}
function showhide(button,id){var scroll=jQuery('#'+id);var no_scroll=jQuery('#no-'+id);if(jQuery(button).hasClass('scroll-close')){jQuery(button).find('span').html('Скрыть');scroll.hide();if(no_scroll.html()==''){var item=scroll.find('.item');var count=4;var col_md=12/count;item.clone().appendTo(no_scroll);no_scroll.find('.name').css('height','auto');no_scroll.height((item.height+regParseInt(item.css('margin-bottom')))*Math.ceil(item.length/count))}
no_scroll.show();alignment_product_name(['#'+no_scroll.attr('id')],'.name')}else{jQuery(button).find('span').html('Показать все');scroll.show();no_scroll.hide()}
jQuery(button).toggleClass('scroll-close')};!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,s){return void 0===s&&(s="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(s),s}:e(jQuery)}(function(e){"use strict";var t=e(document),s=e(window),l=["a","e","i","o","u","n","c","y"],i=[/[\xE0-\xE5]/g,/[\xE8-\xEB]/g,/[\xEC-\xEF]/g,/[\xF2-\xF6]/g,/[\xF9-\xFC]/g,/[\xF1]/g,/[\xE7]/g,/[\xFD-\xFF]/g],n=function(t,s){var l=this;l.element=t,l.$element=e(t),l.state={multiple:!!l.$element.attr("multiple"),enabled:!1,opened:!1,currValue:-1,selectedIdx:-1,highlightedIdx:-1},l.eventTriggers={open:l.open,close:l.close,destroy:l.destroy,refresh:l.refresh,init:l.init},l.init(s)};n.prototype={utils:{isMobile:function(){return/android|ip(hone|od|ad)/i.test(navigator.userAgent)},escapeRegExp:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},replaceDiacritics:function(e){for(var t=i.length;t--;)e=e.toLowerCase().replace(i[t],l[t]);return e},format:function(e){var t=arguments;return(""+e).replace(/\{(?:(\d+)|(\w+))\}/g,function(e,s,l){return l&&t[1]?t[1][l]:t[s]})},nextEnabledItem:function(e,t){for(;e[t=(t+1)%e.length].disabled;);return t},previousEnabledItem:function(e,t){for(;e[t=(t>0?t:e.length)-1].disabled;);return t},toDash:function(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()},triggerCallback:function(t,s){var l=s.element,i=s.options["on"+t],n=[l].concat([].slice.call(arguments).slice(1));e.isFunction(i)&&i.apply(l,n),e(l).trigger("selectric-"+this.toDash(t),n)},arrayToClassname:function(t){var s=e.grep(t,function(e){return!!e});return e.trim(s.join(" "))}},init:function(t){var s=this;if(s.options=e.extend(!0,{},e.fn.selectric.defaults,s.options,t),s.utils.triggerCallback("BeforeInit",s),s.destroy(!0),s.options.disableOnMobile&&s.utils.isMobile())return void(s.disableOnMobile=!0);s.classes=s.getClassNames();var l=e("<input/>",{class:s.classes.input,readonly:s.utils.isMobile()}),i=e("<div/>",{class:s.classes.items,tabindex:-1}),n=e("<div/>",{class:s.classes.scroll}),a=e("<div/>",{class:s.classes.prefix,html:s.options.arrowButtonMarkup}),o=e("<span/>",{class:"label"}),r=s.$element.wrap("<div/>").parent().append(a.prepend(o),i,l),u=e("<div/>",{class:s.classes.hideselect});s.elements={input:l,items:i,itemsScroll:n,wrapper:a,label:o,outerWrapper:r},s.options.nativeOnMobile&&s.utils.isMobile()&&(s.elements.input=void 0,u.addClass(s.classes.prefix+"-is-native"),s.$element.on("change",function(){s.refresh()})),s.$element.on(s.eventTriggers).wrap(u),s.originalTabindex=s.$element.prop("tabindex"),s.$element.prop("tabindex",-1),s.populate(),s.activate(),s.utils.triggerCallback("Init",s)},activate:function(){var e=this,t=e.elements.items.closest(":visible").children(":hidden").addClass(e.classes.tempshow),s=e.$element.width();t.removeClass(e.classes.tempshow),e.utils.triggerCallback("BeforeActivate",e),e.elements.outerWrapper.prop("class",e.utils.arrayToClassname([e.classes.wrapper,e.$element.prop("class").replace(/\S+/g,e.classes.prefix+"-$&"),e.options.responsive?e.classes.responsive:""])),e.options.inheritOriginalWidth&&s>0&&e.elements.outerWrapper.width(s),e.unbindEvents(),e.$element.prop("disabled")?(e.elements.outerWrapper.addClass(e.classes.disabled),e.elements.input&&e.elements.input.prop("disabled",!0)):(e.state.enabled=!0,e.elements.outerWrapper.removeClass(e.classes.disabled),e.$li=e.elements.items.removeAttr("style").find("li"),e.bindEvents()),e.utils.triggerCallback("Activate",e)},getClassNames:function(){var t=this,s=t.options.customClass,l={};return e.each("Input Items Open Disabled TempShow HideSelect Wrapper Focus Hover Responsive Above Below Scroll Group GroupLabel".split(" "),function(e,i){var n=s.prefix+i;l[i.toLowerCase()]=s.camelCase?n:t.utils.toDash(n)}),l.prefix=s.prefix,l},setLabel:function(){var t=this,s=t.options.labelBuilder;if(t.state.multiple){var l=e.isArray(t.state.currValue)?t.state.currValue:[t.state.currValue];l=0===l.length?[0]:l;var i=e.map(l,function(s){return e.grep(t.lookupItems,function(e){return e.index===s})[0]});i=e.grep(i,function(t){return i.length>1||0===i.length?""!==e.trim(t.value):t}),i=e.map(i,function(l){return e.isFunction(s)?s(l):t.utils.format(s,l)}),t.options.multiple.maxLabelEntries&&(i.length>=t.options.multiple.maxLabelEntries+1?(i=i.slice(0,t.options.multiple.maxLabelEntries),i.push(e.isFunction(s)?s({text:"..."}):t.utils.format(s,{text:"..."}))):i.slice(i.length-1)),t.elements.label.html(i.join(t.options.multiple.separator))}else{var n=t.lookupItems[t.state.currValue];t.elements.label.html(e.isFunction(s)?s(n):t.utils.format(s,n))}},populate:function(){var t=this,s=t.$element.children(),l=t.$element.find("option"),i=l.filter(":selected"),n=l.index(i),a=0,o=t.state.multiple?[]:0;i.length>1&&t.state.multiple&&(n=[],i.each(function(){n.push(e(this).index())})),t.state.currValue=~n?n:o,t.state.selectedIdx=t.state.currValue,t.state.highlightedIdx=t.state.currValue,t.items=[],t.lookupItems=[],s.length&&(s.each(function(s){var l=e(this);if(l.is("optgroup")){var i={element:l,label:l.prop("label"),groupDisabled:l.prop("disabled"),items:[]};l.children().each(function(s){var l=e(this);i.items[s]=t.getItemData(a,l,i.groupDisabled||l.prop("disabled")),t.lookupItems[a]=i.items[s],a++}),t.items[s]=i}else t.items[s]=t.getItemData(a,l,l.prop("disabled")),t.lookupItems[a]=t.items[s],a++}),t.setLabel(),t.elements.items.append(t.elements.itemsScroll.html(t.getItemsMarkup(t.items))))},getItemData:function(t,s,l){var i=this;return{index:t,element:s,value:s.val(),className:s.prop("class"),text:s.html(),slug:e.trim(i.utils.replaceDiacritics(s.html())),alt:s.attr("data-alt"),selected:s.prop("selected"),disabled:l}},getItemsMarkup:function(t){var s=this,l="<ul>";return e.isFunction(s.options.listBuilder)&&s.options.listBuilder&&(t=s.options.listBuilder(t)),e.each(t,function(t,i){void 0!==i.label?(l+=s.utils.format('<ul class="{1}"><li class="{2}">{3}</li>',s.utils.arrayToClassname([s.classes.group,i.groupDisabled?"disabled":"",i.element.prop("class")]),s.classes.grouplabel,i.element.prop("label")),e.each(i.items,function(e,t){l+=s.getItemMarkup(t.index,t)}),l+="</ul>"):l+=s.getItemMarkup(i.index,i)}),l+"</ul>"},getItemMarkup:function(t,s){var l=this,i=l.options.optionsItemBuilder,n={value:s.value,text:s.text,slug:s.slug,index:s.index};return l.utils.format('<li data-index="{1}" class="{2}">{3}</li>',t,l.utils.arrayToClassname([s.className,t===l.items.length-1?"last":"",s.disabled?"disabled":"",s.selected?"selected":""]),e.isFunction(i)?l.utils.format(i(s,this.$element,t),s):l.utils.format(i,n))},unbindEvents:function(){var e=this;e.elements.wrapper.add(e.$element).add(e.elements.outerWrapper).add(e.elements.input).off(".sl")},bindEvents:function(){var t=this;t.elements.outerWrapper.on("mouseenter.sl mouseleave.sl",function(s){e(this).toggleClass(t.classes.hover,"mouseenter"===s.type),t.options.openOnHover&&(clearTimeout(t.closeTimer),"mouseleave"===s.type?t.closeTimer=setTimeout(e.proxy(t.close,t),t.options.hoverIntentTimeout):t.open())}),t.elements.wrapper.on("click.sl",function(e){t.state.opened?t.close():t.open(e)}),t.options.nativeOnMobile&&t.utils.isMobile()||(t.$element.on("focus.sl",function(){t.elements.input.focus()}),t.elements.input.prop({tabindex:t.originalTabindex,disabled:!1}).on("keydown.sl",e.proxy(t.handleKeys,t)).on("focusin.sl",function(e){t.elements.outerWrapper.addClass(t.classes.focus),t.elements.input.one("blur",function(){t.elements.input.blur()}),t.options.openOnFocus&&!t.state.opened&&t.open(e)}).on("focusout.sl",function(){t.elements.outerWrapper.removeClass(t.classes.focus)}).on("input propertychange",function(){var s=t.elements.input.val(),l=new RegExp("^"+t.utils.escapeRegExp(s),"i");clearTimeout(t.resetStr),t.resetStr=setTimeout(function(){t.elements.input.val("")},t.options.keySearchTimeout),s.length&&e.each(t.items,function(e,s){if(!s.disabled){if(l.test(s.text)||l.test(s.slug))return void t.highlight(e);if(s.alt)for(var i=s.alt.split("|"),n=0;n<i.length&&i[n];n++)if(l.test(i[n].trim()))return void t.highlight(e)}})})),t.$li.on({mousedown:function(e){e.preventDefault(),e.stopPropagation()},click:function(){return t.select(e(this).data("index")),!1}})},handleKeys:function(t){var s=this,l=t.which,i=s.options.keys,n=e.inArray(l,i.previous)>-1,a=e.inArray(l,i.next)>-1,o=e.inArray(l,i.select)>-1,r=e.inArray(l,i.open)>-1,u=s.state.highlightedIdx,p=n&&0===u||a&&u+1===s.items.length,c=0;if(13!==l&&32!==l||t.preventDefault(),n||a){if(!s.options.allowWrap&&p)return;n&&(c=s.utils.previousEnabledItem(s.lookupItems,u)),a&&(c=s.utils.nextEnabledItem(s.lookupItems,u)),s.highlight(c)}if(o&&s.state.opened)return s.select(u),void(s.state.multiple&&s.options.multiple.keepMenuOpen||s.close());r&&!s.state.opened&&s.open()},refresh:function(){var e=this;e.populate(),e.activate(),e.utils.triggerCallback("Refresh",e)},setOptionsDimensions:function(){var e=this,t=e.elements.items.closest(":visible").children(":hidden").addClass(e.classes.tempshow),s=e.options.maxHeight,l=e.elements.items.outerWidth(),i=e.elements.wrapper.outerWidth()-(l-e.elements.items.width());!e.options.expandToItemText||i>l?e.finalWidth=i:(e.elements.items.css("overflow","scroll"),e.elements.outerWrapper.width(9e4),e.finalWidth=e.elements.items.width(),e.elements.items.css("overflow",""),e.elements.outerWrapper.width("")),e.elements.items.width(e.finalWidth).height()>s&&e.elements.items.height(s),t.removeClass(e.classes.tempshow)},isInViewport:function(){var e=this;if(!0===e.options.forceRenderAbove)e.elements.outerWrapper.addClass(e.classes.above);else if(!0===e.options.forceRenderBelow)e.elements.outerWrapper.addClass(e.classes.below);else{var t=s.scrollTop(),l=s.height(),i=e.elements.outerWrapper.offset().top,n=e.elements.outerWrapper.outerHeight(),a=i+n+e.itemsHeight<=t+l,o=i-e.itemsHeight>t,r=!a&&o,u=!r;e.elements.outerWrapper.toggleClass(e.classes.above,r),e.elements.outerWrapper.toggleClass(e.classes.below,u)}},detectItemVisibility:function(t){var s=this,l=s.$li.filter("[data-index]");s.state.multiple&&(t=e.isArray(t)&&0===t.length?0:t,t=e.isArray(t)?Math.min.apply(Math,t):t);var i=l.eq(t).outerHeight(),n=l[t].offsetTop,a=s.elements.itemsScroll.scrollTop(),o=n+2*i;s.elements.itemsScroll.scrollTop(o>a+s.itemsHeight?o-s.itemsHeight:n-i<a?n-i:a)},open:function(s){var l=this;if(l.options.nativeOnMobile&&l.utils.isMobile())return!1;l.utils.triggerCallback("BeforeOpen",l),s&&(s.preventDefault(),l.options.stopPropagation&&s.stopPropagation()),l.state.enabled&&(l.setOptionsDimensions(),e("."+l.classes.hideselect,"."+l.classes.open).children().selectric("close"),l.state.opened=!0,l.itemsHeight=l.elements.items.outerHeight(),l.itemsInnerHeight=l.elements.items.height(),l.elements.outerWrapper.addClass(l.classes.open),l.elements.input.val(""),s&&"focusin"!==s.type&&l.elements.input.focus(),setTimeout(function(){t.on("click.sl",e.proxy(l.close,l)).on("scroll.sl",e.proxy(l.isInViewport,l))},1),l.isInViewport(),l.options.preventWindowScroll&&t.on("mousewheel.sl DOMMouseScroll.sl","."+l.classes.scroll,function(t){var s=t.originalEvent,i=e(this).scrollTop(),n=0;"detail"in s&&(n=-1*s.detail),"wheelDelta"in s&&(n=s.wheelDelta),"wheelDeltaY"in s&&(n=s.wheelDeltaY),"deltaY"in s&&(n=-1*s.deltaY),(i===this.scrollHeight-l.itemsInnerHeight&&n<0||0===i&&n>0)&&t.preventDefault()}),l.detectItemVisibility(l.state.selectedIdx),l.highlight(l.state.multiple?-1:l.state.selectedIdx),l.utils.triggerCallback("Open",l))},close:function(){var e=this;e.utils.triggerCallback("BeforeClose",e),t.off(".sl"),e.elements.outerWrapper.removeClass(e.classes.open),e.state.opened=!1,e.utils.triggerCallback("Close",e)},change:function(){var t=this;t.utils.triggerCallback("BeforeChange",t),t.state.multiple?(e.each(t.lookupItems,function(e){t.lookupItems[e].selected=!1,t.$element.find("option").prop("selected",!1)}),e.each(t.state.selectedIdx,function(e,s){t.lookupItems[s].selected=!0,t.$element.find("option").eq(s).prop("selected",!0)}),t.state.currValue=t.state.selectedIdx,t.setLabel(),t.utils.triggerCallback("Change",t)):t.state.currValue!==t.state.selectedIdx&&(t.$element.prop("selectedIndex",t.state.currValue=t.state.selectedIdx).data("value",t.lookupItems[t.state.selectedIdx].text),t.setLabel(),t.utils.triggerCallback("Change",t))},highlight:function(e){var t=this,s=t.$li.filter("[data-index]").removeClass("highlighted");t.utils.triggerCallback("BeforeHighlight",t),void 0===e||-1===e||t.lookupItems[e].disabled||(s.eq(t.state.highlightedIdx=e).addClass("highlighted"),t.detectItemVisibility(e),t.utils.triggerCallback("Highlight",t))},select:function(t){var s=this,l=s.$li.filter("[data-index]");if(s.utils.triggerCallback("BeforeSelect",s,t),void 0!==t&&-1!==t&&!s.lookupItems[t].disabled){if(s.state.multiple){s.state.selectedIdx=e.isArray(s.state.selectedIdx)?s.state.selectedIdx:[s.state.selectedIdx];var i=e.inArray(t,s.state.selectedIdx);-1!==i?s.state.selectedIdx.splice(i,1):s.state.selectedIdx.push(t),l.removeClass("selected").filter(function(t){return-1!==e.inArray(t,s.state.selectedIdx)}).addClass("selected")}else l.removeClass("selected").eq(s.state.selectedIdx=t).addClass("selected");s.state.multiple&&s.options.multiple.keepMenuOpen||s.close(),s.change(),s.utils.triggerCallback("Select",s,t)}},destroy:function(e){var t=this;t.state&&t.state.enabled&&(t.elements.items.add(t.elements.wrapper).add(t.elements.input).remove(),e||t.$element.removeData("selectric").removeData("value"),t.$element.prop("tabindex",t.originalTabindex).off(".sl").off(t.eventTriggers).unwrap().unwrap(),t.state.enabled=!1)}},e.fn.selectric=function(t){return this.each(function(){var s=e.data(this,"selectric");s&&!s.disableOnMobile?"string"==typeof t&&s[t]?s[t]():s.init(t):e.data(this,"selectric",new n(this,t))})},e.fn.selectric.defaults={onChange:function(t){e(t).change()},maxHeight:300,keySearchTimeout:500,arrowButtonMarkup:'<b class="button"></b>',disableOnMobile:!1,nativeOnMobile:!0,openOnFocus:!0,openOnHover:!1,hoverIntentTimeout:500,expandToItemText:!1,responsive:!1,preventWindowScroll:!0,inheritOriginalWidth:!1,allowWrap:!0,forceRenderAbove:!1,forceRenderBelow:!1,stopPropagation:!0,optionsItemBuilder:"{text}",labelBuilder:"{text}",listBuilder:!1,keys:{previous:[37,38],next:[39,40],select:[9,13,27],open:[13,32,37,38,39,40],close:[9,27]},customClass:{prefix:"selectric",camelCase:!1},multiple:{separator:", ",keepMenuOpen:!0,maxLabelEntries:!1}}});if(typeof Object.create!=='function'){Object.create=function(obj){function F(){}
F.prototype=obj;return new F()}}(function($,window,document,undefined){var EZP={init:function(options,elem){var self=this;self.elem=elem;self.$elem=$(elem);self.options=$.extend({},$.fn.ezPlus.options,self.responsiveConfig(options||{}));self.imageSrc=self.$elem.data(self.options.attrImageZoomSrc)?self.$elem.data(self.options.attrImageZoomSrc):self.$elem.attr('src');if(!self.options.enabled){return}
if(self.options.tint){self.options.lensColour='transparent';self.options.lensOpacity='1'}
if(self.options.zoomType==='inner'){self.options.showLens=!1}
if(self.options.zoomType==='lens'){self.options.zoomWindowWidth=0}
if(self.options.zoomId===-1){self.options.zoomId=generateUUID()}
self.$elem.parent().removeAttr('title').removeAttr('alt');self.zoomImage=self.imageSrc;self.refresh(1);var galleryEvent=self.options.galleryEvent+'.ezpspace';galleryEvent+=self.options.touchEnabled?' touchend.ezpspace':'';self.$galleries=$(self.options.gallery?('#'+self.options.gallery):self.options.gallerySelector);self.$galleries.on(galleryEvent,self.options.galleryItem,function(e){if(self.options.galleryActiveClass){$(self.options.galleryItem,self.$galleries).removeClass(self.options.galleryActiveClass);$(this).addClass(self.options.galleryActiveClass)}
if(this.tagName==='A'){e.preventDefault()}
if($(this).data(self.options.attrImageZoomSrc)){self.zoomImagePre=$(this).data(self.options.attrImageZoomSrc)}
else{self.zoomImagePre=$(this).data('image')}
self.swaptheimage($(this).data('image'),self.zoomImagePre);if(this.tagName==='A'){return!1}});function generateUUID(){var d=new Date().getTime();var uuid='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=(d+Math.random()*16)%16|0;d=Math.floor(d/16);return(c==='x'?r:(r&0x3|0x8)).toString(16)});return uuid}},refresh:function(length){var self=this;setTimeout(function(){self.fetch(self.imageSrc,self.$elem,self.options.minZoomLevel)},length||self.options.refresh)},fetch:function(imgsrc,element,minZoom){var self=this;var newImg=new Image();newImg.onload=function(){if(newImg.width/element.width()<=minZoom){self.largeWidth=element.width()*minZoom}else{self.largeWidth=newImg.width}
if(newImg.height/element.height()<=minZoom){self.largeHeight=element.height()*minZoom}else{self.largeHeight=newImg.height}
self.startZoom();self.currentImage=self.imageSrc;self.options.onZoomedImageLoaded(self.$elem)};self.setImageSource(newImg,imgsrc);return},setImageSource:function(image,src){image.src=src},startZoom:function(){var self=this;self.nzWidth=self.$elem.width();self.nzHeight=self.$elem.height();self.isWindowActive=!1;self.isLensActive=!1;self.isTintActive=!1;self.overWindow=!1;if(self.options.imageCrossfade){var elementZoomWrapper=$('<div class="zoomWrapper"/>').css({height:self.nzHeight,width:self.nzWidth});self.zoomWrap=self.$elem.wrap(elementZoomWrapper);self.$elem.css({position:'absolute'})}
self.zoomLock=1;self.scrollingLock=!1;self.changeBgSize=!1;self.currentZoomLevel=self.options.zoomLevel;self.updateOffset(self);self.widthRatio=(self.largeWidth/self.currentZoomLevel)/self.nzWidth;self.heightRatio=(self.largeHeight/self.currentZoomLevel)/self.nzHeight;function getWindowZoomStyle(){return{display:'none',position:'absolute',height:self.options.zoomWindowHeight,width:self.options.zoomWindowWidth,border:''+self.options.borderSize+'px solid '+self.options.borderColour,backgroundSize:''+(self.largeWidth/self.currentZoomLevel)+'px '+(self.largeHeight/self.currentZoomLevel)+'px',backgroundPosition:'0px 0px',backgroundRepeat:'no-repeat',backgroundColor:''+self.options.zoomWindowBgColour,overflow:'hidden',zIndex:100}}
if(self.options.zoomType==='window'){self.zoomWindowStyle=getWindowZoomStyle()}
function getInnerZoomStyle(){var borderWidth=self.$elem.css('border-left-width');return{display:'none',position:'absolute',height:self.nzHeight,width:self.nzWidth,marginTop:borderWidth,marginLeft:borderWidth,border:''+self.options.borderSize+'px solid '+self.options.borderColour,backgroundPosition:'0px 0px',backgroundRepeat:'no-repeat',cursor:self.options.cursor,overflow:'hidden',zIndex:self.options.zIndex}}
if(self.options.zoomType==='inner'){self.zoomWindowStyle=getInnerZoomStyle()}
function getWindowLensStyle(){if(self.nzHeight<self.options.zoomWindowHeight/self.heightRatio){self.lensHeight=self.nzHeight}
else{self.lensHeight=self.options.zoomWindowHeight/self.heightRatio}
if(self.largeWidth<self.options.zoomWindowWidth){self.lensWidth=self.nzWidth}
else{self.lensWidth=self.options.zoomWindowWidth/self.widthRatio}
return{display:'none',position:'absolute',height:self.lensHeight,width:self.lensWidth,border:''+self.options.lensBorderSize+'px'+' solid '+self.options.lensBorderColour,backgroundPosition:'0px 0px',backgroundRepeat:'no-repeat',backgroundColor:self.options.lensColour,opacity:self.options.lensOpacity,cursor:self.options.cursor,zIndex:1,overflow:'hidden'}}
if(self.options.zoomType==='window'){self.lensStyle=getWindowLensStyle()}
self.tintStyle={display:'block',position:'absolute',height:self.nzHeight,width:self.nzWidth,backgroundColor:self.options.tintColour,opacity:0};self.lensRound={};if(self.options.zoomType==='lens'){self.lensStyle={display:'none',position:'absolute',float:'left',height:self.options.lensSize,width:self.options.lensSize,border:''+self.options.borderSize+'px solid '+self.options.borderColour,backgroundPosition:'0px 0px',backgroundRepeat:'no-repeat',backgroundColor:self.options.lensColour,cursor:self.options.cursor}}
if(self.options.lensShape==='round'){self.lensRound={borderRadius:self.options.lensSize/2+self.options.borderSize}}
self.zoomContainer=$('<div class="zoomContainer" '+'uuid="'+self.options.zoomId+'"/>');self.zoomContainer.css({position:'absolute',top:self.nzOffset.top,left:self.nzOffset.left,height:self.nzHeight,width:self.nzWidth,zIndex:self.options.zIndex});if(self.$elem.attr('id')){self.zoomContainer.attr('id',self.$elem.attr('id')+'-zoomContainer')}
$(self.options.zoomContainerAppendTo).append(self.zoomContainer);if(self.options.containLensZoom&&self.options.zoomType==='lens'){self.zoomContainer.css('overflow','hidden')}
if(self.options.zoomType!=='inner'){self.zoomLens=$('<div class="zoomLens"/>').css($.extend({},self.lensStyle,self.lensRound)).appendTo(self.zoomContainer).click(function(){self.$elem.trigger('click')});if(self.options.tint){self.tintContainer=$('<div class="tintContainer"/>');self.zoomTint=$('<div class="zoomTint"/>').css(self.tintStyle);self.zoomLens.wrap(self.tintContainer);self.zoomTintcss=self.zoomLens.after(self.zoomTint);self.zoomTintImage=$('<img src="'+self.$elem.attr('src')+'">').css({position:'absolute',top:0,left:0,height:self.nzHeight,width:self.nzWidth,maxWidth:'none'}).appendTo(self.zoomLens).click(function(){self.$elem.trigger('click')})}}
var targetZoomContainer=isNaN(self.options.zoomWindowPosition)?'body':self.zoomContainer;self.zoomWindow=$('<div class="zoomWindow"/>').css($.extend({zIndex:1,top:self.windowOffsetTop,left:self.windowOffsetLeft,},self.zoomWindowStyle)).appendTo(targetZoomContainer).click(function(){self.$elem.trigger('click')});self.zoomWindowContainer=$('<div class="zoomWindowContainer" />').css({width:self.options.zoomWindowWidth});self.zoomWindow.wrap(self.zoomWindowContainer);if(self.options.zoomType==='lens'){self.zoomLens.css({backgroundImage:'url("'+self.imageSrc+'")'})}
if(self.options.zoomType==='window'){self.zoomWindow.css({backgroundImage:'url("'+self.imageSrc+'")'})}
if(self.options.zoomType==='inner'){self.zoomWindow.css({backgroundImage:'url("'+self.imageSrc+'")'})}
if(self.options.touchEnabled){self.$elem.on('touchmove.ezpspace',function(e){e.preventDefault();var touch=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];self.setPosition(touch)});self.zoomContainer.on('touchmove.ezpspace',function(e){self.setElements('show');e.preventDefault();var touch=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];self.setPosition(touch)});self.zoomContainer.on('touchend.ezpspace',function(e){self.showHideWindow('hide');if(self.options.showLens){self.showHideLens('hide')}
if(self.options.tint&&self.options.zoomType!=='inner'){self.showHideTint('hide')}});self.$elem.on('touchend.ezpspace',function(e){self.showHideWindow('hide');if(self.options.showLens){self.showHideLens('hide')}
if(self.options.tint&&self.options.zoomType!=='inner'){self.showHideTint('hide')}});if(self.options.showLens){self.zoomLens.on('touchmove.ezpspace',function(e){e.preventDefault();var touch=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];self.setPosition(touch)});self.zoomLens.on('touchend.ezpspace',function(e){self.showHideWindow('hide');if(self.options.showLens){self.showHideLens('hide')}
if(self.options.tint&&self.options.zoomType!=='inner'){self.showHideTint('hide')}})}}
self.$elem.on('mousemove.ezpspace',function(e){if(self.overWindow===!1){self.setElements('show')}
if(self.lastX!==e.clientX||self.lastY!==e.clientY){self.setPosition(e);self.currentLoc=e}
self.lastX=e.clientX;self.lastY=e.clientY});self.zoomContainer.on('click.ezpspace touchstart.ezpspace',self.options.onImageClick);self.zoomContainer.on('mousemove.ezpspace',function(e){if(self.overWindow===!1){self.setElements('show')}
mouseMoveZoomHandler(e)});function mouseMoveZoomHandler(e){if(self.lastX!==e.clientX||self.lastY!==e.clientY){self.setPosition(e);self.currentLoc=e}
self.lastX=e.clientX;self.lastY=e.clientY}
var elementToTrack=null;if(self.options.zoomType!=='inner'){elementToTrack=self.zoomLens}
if(self.options.tint&&self.options.zoomType!=='inner'){elementToTrack=self.zoomTint}
if(self.options.zoomType==='inner'){elementToTrack=self.zoomWindow}
if(elementToTrack){elementToTrack.on('mousemove.ezpspace',mouseMoveZoomHandler)}
self.zoomContainer.add(self.$elem).mouseenter(function(){if(self.overWindow===!1){self.setElements('show')}}).mouseleave(function(){if(!self.scrollLock){self.setElements('hide');self.options.onDestroy(self.$elem)}});if(self.options.zoomType!=='inner'){self.zoomWindow.mouseenter(function(){self.overWindow=!0;self.setElements('hide')}).mouseleave(function(){self.overWindow=!1})}
if(self.options.minZoomLevel){self.minZoomLevel=self.options.minZoomLevel}
else{self.minZoomLevel=self.options.scrollZoomIncrement*2}
if(self.options.scrollZoom){self.zoomContainer.add(self.$elem).on('wheel DOMMouseScroll MozMousePixelScroll',function(e){self.scrollLock=!0;clearTimeout($.data(this,'timer'));$.data(this,'timer',setTimeout(function(){self.scrollLock=!1},250));var theEvent=e.originalEvent.deltaY||e.originalEvent.detail*-1;e.stopImmediatePropagation();e.stopPropagation();e.preventDefault();if(theEvent===0){return!1}
var nextZoomLevel;if(theEvent/120>0){nextZoomLevel=parseFloat(self.currentZoomLevel)-self.options.scrollZoomIncrement;if(nextZoomLevel>=parseFloat(self.minZoomLevel)){self.changeZoomLevel(nextZoomLevel)}}
else{if((!self.fullheight&&!self.fullwidth)||!self.options.mantainZoomAspectRatio){nextZoomLevel=parseFloat(self.currentZoomLevel)+self.options.scrollZoomIncrement;if(self.options.maxZoomLevel){if(nextZoomLevel<=self.options.maxZoomLevel){self.changeZoomLevel(nextZoomLevel)}}
else{self.changeZoomLevel(nextZoomLevel)}}}
return!1})}},destroy:function(){var self=this;self.$elem.off('.ezpspace');self.$galleries.off('.ezpspace');$(self.zoomContainer).remove();if(self.options.loadingIcon&&!!self.spinner&&!!self.spinner.length){self.spinner.remove();delete self.spinner}},getIdentifier:function(){var self=this;return self.options.zoomId},setElements:function(type){var self=this;if(!self.options.zoomEnabled){return!1}
if(type==='show'){if(self.isWindowSet){if(self.options.zoomType==='inner'){self.showHideWindow('show')}
if(self.options.zoomType==='window'){self.showHideWindow('show')}
if(self.options.showLens){self.showHideLens('show')}
if(self.options.tint&&self.options.zoomType!=='inner'){self.showHideTint('show')}}}
if(type==='hide'){if(self.options.zoomType==='window'){self.showHideWindow('hide')}
if(!self.options.tint){self.showHideWindow('hide')}
if(self.options.showLens){self.showHideLens('hide')}
if(self.options.tint){self.showHideTint('hide')}}},setPosition:function(e){var self=this;if(!self.options.zoomEnabled){return!1}
self.nzHeight=self.$elem.height();self.nzWidth=self.$elem.width();self.updateOffset(self);if(self.options.tint&&self.options.zoomType!=='inner'){self.zoomTint.css({top:0,left:0})}
if(self.options.responsive&&!self.options.scrollZoom){if(self.options.showLens){var lensHeight,lensWidth;if(self.nzHeight<self.options.zoomWindowWidth/self.widthRatio){self.lensHeight=self.nzHeight}
else{self.lensHeight=self.options.zoomWindowHeight/self.heightRatio}
if(self.largeWidth<self.options.zoomWindowWidth){self.lensWidth=self.nzWidth}
else{self.lensWidth=(self.options.zoomWindowWidth/self.widthRatio)}
self.widthRatio=self.largeWidth/self.nzWidth;self.heightRatio=self.largeHeight/self.nzHeight;if(self.options.zoomType!=='lens'){if(self.nzHeight<self.options.zoomWindowWidth/self.widthRatio){self.lensHeight=self.nzHeight}
else{self.lensHeight=self.options.zoomWindowHeight/self.heightRatio}
if(self.nzWidth<self.options.zoomWindowHeight/self.heightRatio){self.lensWidth=self.nzWidth}
else{self.lensWidth=self.options.zoomWindowWidth/self.widthRatio}
self.zoomLens.css({width:self.lensWidth,height:self.lensHeight});if(self.options.tint){self.zoomTintImage.css({width:self.nzWidth,height:self.nzHeight})}}
if(self.options.zoomType==='lens'){self.zoomLens.css({width:self.options.lensSize,height:self.options.lensSize})}}}
self.zoomContainer.css({top:self.nzOffset.top,left:self.nzOffset.left,width:self.nzWidth,height:self.nzHeight});self.mouseLeft=parseInt(e.pageX-self.nzOffset.left);self.mouseTop=parseInt(e.pageY-self.nzOffset.top);if(self.options.zoomType==='window'){var zoomLensHeight=self.zoomLens.height()/2;var zoomLensWidth=self.zoomLens.width()/2;self.Etoppos=(self.mouseTop<0+zoomLensHeight);self.Eboppos=(self.mouseTop>self.nzHeight-zoomLensHeight-(self.options.lensBorderSize*2));self.Eloppos=(self.mouseLeft<0+zoomLensWidth);self.Eroppos=(self.mouseLeft>(self.nzWidth-zoomLensWidth-(self.options.lensBorderSize*2)))}
if(self.options.zoomType==='inner'){self.Etoppos=(self.mouseTop<((self.nzHeight/2)/self.heightRatio));self.Eboppos=(self.mouseTop>(self.nzHeight-((self.nzHeight/2)/self.heightRatio)));self.Eloppos=(self.mouseLeft<0+(((self.nzWidth/2)/self.widthRatio)));self.Eroppos=(self.mouseLeft>(self.nzWidth-(self.nzWidth/2)/self.widthRatio-(self.options.lensBorderSize*2)))}
if(self.mouseLeft<0||self.mouseTop<0||self.mouseLeft>self.nzWidth||self.mouseTop>self.nzHeight){self.setElements('hide');return}
else{if(self.options.showLens){self.lensLeftPos=Math.floor(self.mouseLeft-self.zoomLens.width()/2);self.lensTopPos=Math.floor(self.mouseTop-self.zoomLens.height()/2)}
if(self.Etoppos){self.lensTopPos=0}
if(self.Eloppos){self.windowLeftPos=0;self.lensLeftPos=0;self.tintpos=0}
if(self.options.zoomType==='window'){if(self.Eboppos){self.lensTopPos=Math.max((self.nzHeight)-self.zoomLens.height()-(self.options.lensBorderSize*2),0)}
if(self.Eroppos){self.lensLeftPos=(self.nzWidth-(self.zoomLens.width())-(self.options.lensBorderSize*2))}}
if(self.options.zoomType==='inner'){if(self.Eboppos){self.lensTopPos=Math.max(((self.nzHeight)-(self.options.lensBorderSize*2)),0)}
if(self.Eroppos){self.lensLeftPos=(self.nzWidth-(self.nzWidth)-(self.options.lensBorderSize*2))}}
if(self.options.zoomType==='lens'){self.windowLeftPos=((e.pageX-self.nzOffset.left)*self.widthRatio-self.zoomLens.width()/2)*-1;self.windowTopPos=((e.pageY-self.nzOffset.top)*self.heightRatio-self.zoomLens.height()/2)*-1;self.zoomLens.css({backgroundPosition:''+self.windowLeftPos+'px '+self.windowTopPos+'px'});if(self.changeBgSize){if(self.nzHeight>self.nzWidth){if(self.options.zoomType==='lens'){self.zoomLens.css({backgroundSize:''+(self.largeWidth/self.newvalueheight)+'px '+(self.largeHeight/self.newvalueheight)+'px'})}
self.zoomWindow.css({backgroundSize:''+(self.largeWidth/self.newvalueheight)+'px '+(self.largeHeight/self.newvalueheight)+'px'})}
else{if(self.options.zoomType==='lens'){self.zoomLens.css({backgroundSize:''+(self.largeWidth/self.newvaluewidth)+'px '+(self.largeHeight/self.newvaluewidth)+'px'})}
self.zoomWindow.css({backgroundSize:''+(self.largeWidth/self.newvaluewidth)+'px '+(self.largeHeight/self.newvaluewidth)+'px'})}
self.changeBgSize=!1}
self.setWindowPosition(e)}
if(self.options.tint&&self.options.zoomType!=='inner'){self.setTintPosition(e)}
if(self.options.zoomType==='window'){self.setWindowPosition(e)}
if(self.options.zoomType==='inner'){self.setWindowPosition(e)}
if(self.options.showLens){if(self.fullwidth&&self.options.zoomType!=='lens'){self.lensLeftPos=0}
self.zoomLens.css({left:self.lensLeftPos,top:self.lensTopPos})}}},showHideZoomContainer:function(change){var self=this;if(change==='show'){if(self.zoomContainer){self.zoomContainer.show()}}
if(change==='hide'){if(self.zoomContainer){self.zoomContainer.hide()}}},showHideWindow:function(change){var self=this;if(change==='show'){if(!self.isWindowActive&&self.zoomWindow){self.options.onShow(self);if(self.options.zoomWindowFadeIn){self.zoomWindow.stop(!0,!0,!1).fadeIn(self.options.zoomWindowFadeIn)}
else{self.zoomWindow.show()}
self.isWindowActive=!0}}
if(change==='hide'){if(self.isWindowActive){if(self.options.zoomWindowFadeOut){self.zoomWindow.stop(!0,!0).fadeOut(self.options.zoomWindowFadeOut,function(){if(self.loop){clearInterval(self.loop);self.loop=!1}})}
else{self.zoomWindow.hide()}
self.options.onHide(self);self.isWindowActive=!1}}},showHideLens:function(change){var self=this;if(change==='show'){if(!self.isLensActive){if(self.zoomLens){if(self.options.lensFadeIn){self.zoomLens.stop(!0,!0,!1).fadeIn(self.options.lensFadeIn)}
else{self.zoomLens.show()}}
self.isLensActive=!0}}
if(change==='hide'){if(self.isLensActive){if(self.zoomLens){if(self.options.lensFadeOut){self.zoomLens.stop(!0,!0).fadeOut(self.options.lensFadeOut)}
else{self.zoomLens.hide()}}
self.isLensActive=!1}}},showHideTint:function(change){var self=this;if(change==='show'){if(!self.isTintActive&&self.zoomTint){if(self.options.zoomTintFadeIn){self.zoomTint.css('opacity',self.options.tintOpacity).animate().stop(!0,!0).fadeIn('slow')}
else{self.zoomTint.css('opacity',self.options.tintOpacity).animate();self.zoomTint.show()}
self.isTintActive=!0}}
if(change==='hide'){if(self.isTintActive){if(self.options.zoomTintFadeOut){self.zoomTint.stop(!0,!0).fadeOut(self.options.zoomTintFadeOut)}
else{self.zoomTint.hide()}
self.isTintActive=!1}}},setLensPosition:function(e){},setWindowPosition:function(e){var self=this;if(!isNaN(self.options.zoomWindowPosition)){switch(self.options.zoomWindowPosition){case 1:self.windowOffsetTop=(self.options.zoomWindowOffsetY);self.windowOffsetLeft=(+self.nzWidth);break;case 2:if(self.options.zoomWindowHeight>self.nzHeight){self.windowOffsetTop=((self.options.zoomWindowHeight/2)-(self.nzHeight/2))*(-1);self.windowOffsetLeft=(self.nzWidth)}
else{$.noop()}
break;case 3:self.windowOffsetTop=(self.nzHeight-self.zoomWindow.height()-(self.options.borderSize*2));self.windowOffsetLeft=(self.nzWidth);break;case 4:self.windowOffsetTop=(self.nzHeight);self.windowOffsetLeft=(self.nzWidth);break;case 5:self.windowOffsetTop=(self.nzHeight);self.windowOffsetLeft=(self.nzWidth-self.zoomWindow.width()-(self.options.borderSize*2));break;case 6:if(self.options.zoomWindowHeight>self.nzHeight){self.windowOffsetTop=(self.nzHeight);self.windowOffsetLeft=((self.options.zoomWindowWidth/2)-(self.nzWidth/2)+(self.options.borderSize*2))*(-1)}
else{$.noop()}
break;case 7:self.windowOffsetTop=(self.nzHeight);self.windowOffsetLeft=0;break;case 8:self.windowOffsetTop=(self.nzHeight);self.windowOffsetLeft=(self.zoomWindow.width()+(self.options.borderSize*2))*(-1);break;case 9:self.windowOffsetTop=(self.nzHeight-self.zoomWindow.height()-(self.options.borderSize*2));self.windowOffsetLeft=(self.zoomWindow.width()+(self.options.borderSize*2))*(-1);break;case 10:if(self.options.zoomWindowHeight>self.nzHeight){self.windowOffsetTop=((self.options.zoomWindowHeight/2)-(self.nzHeight/2))*(-1);self.windowOffsetLeft=(self.zoomWindow.width()+(self.options.borderSize*2))*(-1)}
else{$.noop()}
break;case 11:self.windowOffsetTop=(self.options.zoomWindowOffsetY);self.windowOffsetLeft=(self.zoomWindow.width()+(self.options.borderSize*2))*(-1);break;case 12:self.windowOffsetTop=(self.zoomWindow.height()+(self.options.borderSize*2))*(-1);self.windowOffsetLeft=(self.zoomWindow.width()+(self.options.borderSize*2))*(-1);break;case 13:self.windowOffsetTop=(self.zoomWindow.height()+(self.options.borderSize*2))*(-1);self.windowOffsetLeft=(0);break;case 14:if(self.options.zoomWindowHeight>self.nzHeight){self.windowOffsetTop=(self.zoomWindow.height()+(self.options.borderSize*2))*(-1);self.windowOffsetLeft=((self.options.zoomWindowWidth/2)-(self.nzWidth/2)+(self.options.borderSize*2))*(-1)}
else{$.noop()}
break;case 15:self.windowOffsetTop=(self.zoomWindow.height()+(self.options.borderSize*2))*(-1);self.windowOffsetLeft=(self.nzWidth-self.zoomWindow.width()-(self.options.borderSize*2));break;case 16:self.windowOffsetTop=(self.zoomWindow.height()+(self.options.borderSize*2))*(-1);self.windowOffsetLeft=(self.nzWidth);break;default:self.windowOffsetTop=(self.options.zoomWindowOffsetY);self.windowOffsetLeft=(self.nzWidth)}}
else{self.externalContainer=$(self.options.zoomWindowPosition);if(!self.externalContainer.length){self.externalContainer=$('#'+self.options.zoomWindowPosition)}
self.externalContainerWidth=self.externalContainer.width();self.externalContainerHeight=self.externalContainer.height();self.externalContainerOffset=self.externalContainer.offset();self.windowOffsetTop=self.externalContainerOffset.top;self.windowOffsetLeft=self.externalContainerOffset.left}
self.isWindowSet=!0;self.windowOffsetTop=self.windowOffsetTop+self.options.zoomWindowOffsetY;self.windowOffsetLeft=self.windowOffsetLeft+self.options.zoomWindowOffsetX;self.zoomWindow.css({top:self.windowOffsetTop,left:self.windowOffsetLeft});if(self.options.zoomType==='inner'){self.zoomWindow.css({top:0,left:0})}
self.windowLeftPos=((e.pageX-self.nzOffset.left)*self.widthRatio-self.zoomWindow.width()/2)*-1;self.windowTopPos=((e.pageY-self.nzOffset.top)*self.heightRatio-self.zoomWindow.height()/2)*-1;if(self.Etoppos){self.windowTopPos=0}
if(self.Eloppos){self.windowLeftPos=0}
if(self.Eboppos){self.windowTopPos=(self.largeHeight/self.currentZoomLevel-self.zoomWindow.height())*(-1)}
if(self.Eroppos){self.windowLeftPos=((self.largeWidth/self.currentZoomLevel-self.zoomWindow.width())*(-1))}
if(self.fullheight){self.windowTopPos=0}
if(self.fullwidth){self.windowLeftPos=0}
if(self.options.zoomType==='window'||self.options.zoomType==='inner'){if(self.zoomLock===1){if(self.widthRatio<=1){self.windowLeftPos=0}
if(self.heightRatio<=1){self.windowTopPos=0}}
if(self.options.zoomType==='window'){if(self.largeHeight<self.options.zoomWindowHeight){self.windowTopPos=0}
if(self.largeWidth<self.options.zoomWindowWidth){self.windowLeftPos=0}}
if(self.options.easing){if(!self.xp){self.xp=0}
if(!self.yp){self.yp=0}
var interval=16;if(parseInt(self.options.easing)){interval=parseInt(self.options.easing)}
if(!self.loop){self.loop=setInterval(function(){self.xp+=(self.windowLeftPos-self.xp)/self.options.easingAmount;self.yp+=(self.windowTopPos-self.yp)/self.options.easingAmount;if(self.scrollingLock){clearInterval(self.loop);self.xp=self.windowLeftPos;self.yp=self.windowTopPos;self.xp=((e.pageX-self.nzOffset.left)*self.widthRatio-self.zoomWindow.width()/2)*(-1);self.yp=(((e.pageY-self.nzOffset.top)*self.heightRatio-self.zoomWindow.height()/2)*(-1));if(self.changeBgSize){if(self.nzHeight>self.nzWidth){if(self.options.zoomType==='lens'){self.zoomLens.css({backgroundSize:''+(self.largeWidth/self.newvalueheight)+'px '+(self.largeHeight/self.newvalueheight)+'px'})}
self.zoomWindow.css({backgroundSize:''+(self.largeWidth/self.newvalueheight)+'px '+(self.largeHeight/self.newvalueheight)+'px'})}
else{if(self.options.zoomType!=='lens'){self.zoomLens.css({backgroundSize:''+(self.largeWidth/self.newvaluewidth)+'px '+(self.largeHeight/self.newvalueheight)+'px'})}
self.zoomWindow.css({backgroundSize:''+(self.largeWidth/self.newvaluewidth)+'px '+(self.largeHeight/self.newvaluewidth)+'px'})}
self.changeBgSize=!1}
self.zoomWindow.css({backgroundPosition:''+self.windowLeftPos+'px '+self.windowTopPos+'px'});self.scrollingLock=!1;self.loop=!1}
else if(Math.round(Math.abs(self.xp-self.windowLeftPos)+Math.abs(self.yp-self.windowTopPos))<1){clearInterval(self.loop);self.zoomWindow.css({backgroundPosition:''+self.windowLeftPos+'px '+self.windowTopPos+'px'});self.loop=!1}
else{if(self.changeBgSize){if(self.nzHeight>self.nzWidth){if(self.options.zoomType==='lens'){self.zoomLens.css({backgroundSize:''+(self.largeWidth/self.newvalueheight)+'px '+(self.largeHeight/self.newvalueheight)+'px'})}
self.zoomWindow.css({backgroundSize:''+(self.largeWidth/self.newvalueheight)+'px '+(self.largeHeight/self.newvalueheight)+'px'})}
else{if(self.options.zoomType!=='lens'){self.zoomLens.css({backgroundSize:''+(self.largeWidth/self.newvaluewidth)+'px '+(self.largeHeight/self.newvaluewidth)+'px'})}
self.zoomWindow.css({backgroundSize:''+(self.largeWidth/self.newvaluewidth)+'px '+(self.largeHeight/self.newvaluewidth)+'px'})}
self.changeBgSize=!1}
self.zoomWindow.css({backgroundPosition:''+self.xp+'px '+self.yp+'px'})}},interval)}}
else{if(self.changeBgSize){if(self.nzHeight>self.nzWidth){if(self.options.zoomType==='lens'){self.zoomLens.css({backgroundSize:''+(self.largeWidth/self.newvalueheight)+'px '+(self.largeHeight/self.newvalueheight)+'px'})}
self.zoomWindow.css({backgroundSize:''+(self.largeWidth/self.newvalueheight)+'px '+(self.largeHeight/self.newvalueheight)+'px'})}
else{if(self.options.zoomType==='lens'){self.zoomLens.css({backgroundSize:''+(self.largeWidth/self.newvaluewidth)+'px '+(self.largeHeight/self.newvaluewidth)+'px'})}
if((self.largeHeight/self.newvaluewidth)<self.options.zoomWindowHeight){self.zoomWindow.css({backgroundSize:''+(self.largeWidth/self.newvaluewidth)+'px '+(self.largeHeight/self.newvaluewidth)+'px'})}
else{self.zoomWindow.css({backgroundSize:''+(self.largeWidth/self.newvalueheight)+'px '+(self.largeHeight/self.newvalueheight)+'px'})}}
self.changeBgSize=!1}
self.zoomWindow.css({backgroundPosition:''+self.windowLeftPos+'px '+self.windowTopPos+'px'})}}},setTintPosition:function(e){var self=this;var zoomLensWidth=self.zoomLens.width();var zoomLensHeight=self.zoomLens.height();self.updateOffset(self);self.tintpos=((e.pageX-self.nzOffset.left)-(zoomLensWidth/2))*-1;self.tintposy=((e.pageY-self.nzOffset.top)-zoomLensHeight/2)*-1;if(self.Etoppos){self.tintposy=0}
if(self.Eloppos){self.tintpos=0}
if(self.Eboppos){self.tintposy=(self.nzHeight-zoomLensHeight-(self.options.lensBorderSize*2))*(-1)}
if(self.Eroppos){self.tintpos=((self.nzWidth-zoomLensWidth-(self.options.lensBorderSize*2))*(-1))}
if(self.options.tint){if(self.fullheight){self.tintposy=0}
if(self.fullwidth){self.tintpos=0}
self.zoomTintImage.css({left:self.tintpos,top:self.tintposy})}},swaptheimage:function(smallimage,largeimage){var self=this;var newImg=new Image();if(self.options.loadingIcon&&!self.spinner){var styleAttr={background:'url("'+self.options.loadingIcon+'") no-repeat',height:self.nzHeight,width:self.nzWidth,zIndex:2000,position:'absolute',backgroundPosition:'center center',};if(self.options.zoomType==='inner'){}
self.spinner=$('<div class="ezp-spinner"></div>').css(styleAttr);self.$elem.after(self.spinner)}else if(self.spinner){self.spinner.show()}
self.options.onImageSwap(self.$elem);newImg.onload=function(){self.largeWidth=newImg.width;self.largeHeight=newImg.height;self.zoomImage=largeimage;self.zoomWindow.css({backgroundSize:''+self.largeWidth+'px '+self.largeHeight+'px'});self.swapAction(smallimage,largeimage);return};self.setImageSource(newImg,largeimage)},swapAction:function(smallimage,largeimage){var self=this;var elemWidth=self.$elem.width();var elemHeight=self.$elem.height();var newImg2=new Image();newImg2.onload=function(){self.nzHeight=newImg2.height;self.nzWidth=newImg2.width;self.options.onImageSwapComplete(self.$elem);self.doneCallback();return};self.setImageSource(newImg2,smallimage);self.currentZoomLevel=self.options.zoomLevel;self.options.maxZoomLevel=!1;if(self.options.zoomType==='lens'){self.zoomLens.css('background-image','url("'+largeimage+'")')}
if(self.options.zoomType==='window'){self.zoomWindow.css('background-image','url("'+largeimage+'")')}
if(self.options.zoomType==='inner'){self.zoomWindow.css('background-image','url("'+largeimage+'")')}
self.currentImage=largeimage;if(self.options.imageCrossfade){var oldImg=self.$elem;var newImg=oldImg.clone();self.$elem.attr('src',smallimage);self.$elem.after(newImg);newImg.stop(!0).fadeOut(self.options.imageCrossfade,function(){$(this).remove()});self.$elem.width('auto').removeAttr('width');self.$elem.height('auto').removeAttr('height');oldImg.fadeIn(self.options.imageCrossfade);if(self.options.tint&&self.options.zoomType!=='inner'){var oldImgTint=self.zoomTintImage;var newImgTint=oldImgTint.clone();self.zoomTintImage.attr('src',largeimage);self.zoomTintImage.after(newImgTint);newImgTint.stop(!0).fadeOut(self.options.imageCrossfade,function(){$(this).remove()});oldImgTint.fadeIn(self.options.imageCrossfade);self.zoomTint.css({height:elemHeight,width:elemWidth})}
self.zoomContainer.css({'height':elemHeight,'width':elemWidth});if(self.options.zoomType==='inner'){if(!self.options.constrainType){self.zoomWrap.parent().css({'height':elemHeight,'width':elemWidth});self.zoomWindow.css({'height':elemHeight,'width':elemWidth})}}
if(self.options.imageCrossfade){self.zoomWrap.css({'height':elemHeight,'width':elemWidth})}}
else{self.$elem.attr('src',smallimage);if(self.options.tint){self.zoomTintImage.attr('src',largeimage);self.zoomTintImage.attr('height',elemHeight);self.zoomTintImage.css('height',elemHeight);self.zoomTint.css('height',elemHeight)}
self.zoomContainer.css({'height':elemHeight,'width':elemWidth});if(self.options.imageCrossfade){self.zoomWrap.css({'height':elemHeight,'width':elemWidth})}}
if(self.options.constrainType){if(self.options.constrainType==='height'){var autoWDimension={'height':self.options.constrainSize,'width':'auto'};self.zoomContainer.css(autoWDimension);if(self.options.imageCrossfade){self.zoomWrap.css(autoWDimension);self.constwidth=self.zoomWrap.width()}
else{self.$elem.css(autoWDimension);self.constwidth=elemWidth}
var constWDim={'height':self.options.constrainSize,'width':self.constwidth};if(self.options.zoomType==='inner'){self.zoomWrap.parent().css(constWDim);self.zoomWindow.css(constWDim)}
if(self.options.tint){self.tintContainer.css(constWDim);self.zoomTint.css(constWDim);self.zoomTintImage.css(constWDim)}}
if(self.options.constrainType==='width'){var autoHDimension={'height':'auto','width':self.options.constrainSize};self.zoomContainer.css(autoHDimension);if(self.options.imageCrossfade){self.zoomWrap.css(autoHDimension);self.constheight=self.zoomWrap.height()}
else{self.$elem.css(autoHDimension);self.constheight=elemHeight}
var constHDim={'height':self.constheight,'width':self.options.constrainSize};if(self.options.zoomType==='inner'){self.zoomWrap.parent().css(constHDim);self.zoomWindow.css(constHDim)}
if(self.options.tint){self.tintContainer.css(constHDim);self.zoomTint.css(constHDim);self.zoomTintImage.css(constHDim)}}}},doneCallback:function(){var self=this;if(self.options.loadingIcon&&!!self.spinner&&!!self.spinner.length){self.spinner.hide()}
self.updateOffset(self);self.nzWidth=self.$elem.width();self.nzHeight=self.$elem.height();self.currentZoomLevel=self.options.zoomLevel;self.widthRatio=self.largeWidth/self.nzWidth;self.heightRatio=self.largeHeight/self.nzHeight;if(self.options.zoomType==='window'){if(self.nzHeight<self.options.zoomWindowHeight/self.heightRatio){self.lensHeight=self.nzHeight}
else{self.lensHeight=self.options.zoomWindowHeight/self.heightRatio}
if(self.nzWidth<self.options.zoomWindowWidth){self.lensWidth=self.nzWidth}
else{self.lensWidth=self.options.zoomWindowWidth/self.widthRatio}
if(self.zoomLens){self.zoomLens.css({'width':self.lensWidth,'height':self.lensHeight})}}},getCurrentImage:function(){var self=this;return self.zoomImage},getGalleryList:function(){var self=this;self.gallerylist=[];if(self.options.gallery){$('#'+self.options.gallery+self.options.gallerySel+' .owl-item:not(.cloned) a').each(function(){var imgSrc='';if($(this).data(self.options.attrImageZoomSrc)){imgSrc=$(this).data(self.options.attrImageZoomSrc)}
else if($(this).data('image')){imgSrc=$(this).data('image')}
if(imgSrc===self.zoomImage){self.gallerylist.unshift({href:''+imgSrc+'',title:$(this).find('img').attr('title')})}
else{self.gallerylist.push({href:''+imgSrc+'',title:$(this).find('img').attr('title')})}})}
else{self.gallerylist.push({href:''+self.zoomImage+'',title:$(this).find('img').attr('title')})}
return self.gallerylist},changeZoomLevel:function(value){var self=this;self.scrollingLock=!0;self.newvalue=parseFloat(value).toFixed(2);var newvalue=self.newvalue;var maxheightnewvalue=self.largeHeight/((self.options.zoomWindowHeight/self.nzHeight)*self.nzHeight);var maxwidthtnewvalue=self.largeWidth/((self.options.zoomWindowWidth/self.nzWidth)*self.nzWidth);if(self.options.zoomType!=='inner'){if(maxheightnewvalue<=newvalue){self.heightRatio=(self.largeHeight/maxheightnewvalue)/self.nzHeight;self.newvalueheight=maxheightnewvalue;self.fullheight=!0}
else{self.heightRatio=(self.largeHeight/newvalue)/self.nzHeight;self.newvalueheight=newvalue;self.fullheight=!1}
if(maxwidthtnewvalue<=newvalue){self.widthRatio=(self.largeWidth/maxwidthtnewvalue)/self.nzWidth;self.newvaluewidth=maxwidthtnewvalue;self.fullwidth=!0}
else{self.widthRatio=(self.largeWidth/newvalue)/self.nzWidth;self.newvaluewidth=newvalue;self.fullwidth=!1}
if(self.options.zoomType==='lens'){if(maxheightnewvalue<=newvalue){self.fullwidth=!0;self.newvaluewidth=maxheightnewvalue}else{self.widthRatio=(self.largeWidth/newvalue)/self.nzWidth;self.newvaluewidth=newvalue;self.fullwidth=!1}}}
if(self.options.zoomType==='inner'){maxheightnewvalue=parseFloat(self.largeHeight/self.nzHeight).toFixed(2);maxwidthtnewvalue=parseFloat(self.largeWidth/self.nzWidth).toFixed(2);if(newvalue>maxheightnewvalue){newvalue=maxheightnewvalue}
if(newvalue>maxwidthtnewvalue){newvalue=maxwidthtnewvalue}
if(maxheightnewvalue<=newvalue){self.heightRatio=(self.largeHeight/newvalue)/self.nzHeight;if(newvalue>maxheightnewvalue){self.newvalueheight=maxheightnewvalue}else{self.newvalueheight=newvalue}
self.fullheight=!0}
else{self.heightRatio=(self.largeHeight/newvalue)/self.nzHeight;if(newvalue>maxheightnewvalue){self.newvalueheight=maxheightnewvalue}else{self.newvalueheight=newvalue}
self.fullheight=!1}
if(maxwidthtnewvalue<=newvalue){self.widthRatio=(self.largeWidth/newvalue)/self.nzWidth;if(newvalue>maxwidthtnewvalue){self.newvaluewidth=maxwidthtnewvalue}else{self.newvaluewidth=newvalue}
self.fullwidth=!0}
else{self.widthRatio=(self.largeWidth/newvalue)/self.nzWidth;self.newvaluewidth=newvalue;self.fullwidth=!1}}
var scrcontinue=!1;if(self.options.zoomType==='inner'){if(self.nzWidth>=self.nzHeight){if(self.newvaluewidth<=maxwidthtnewvalue){scrcontinue=!0}
else{scrcontinue=!1;self.fullheight=!0;self.fullwidth=!0}}
if(self.nzHeight>self.nzWidth){if(self.newvaluewidth<=maxwidthtnewvalue){scrcontinue=!0}
else{scrcontinue=!1;self.fullheight=!0;self.fullwidth=!0}}}
if(self.options.zoomType!=='inner'){scrcontinue=!0}
if(scrcontinue){self.zoomLock=0;self.changeZoom=!0;if(((self.options.zoomWindowHeight)/self.heightRatio)<=self.nzHeight){self.currentZoomLevel=self.newvalueheight;if(self.options.zoomType!=='lens'&&self.options.zoomType!=='inner'){self.changeBgSize=!0;self.zoomLens.css({height:self.options.zoomWindowHeight/self.heightRatio})}
if(self.options.zoomType==='lens'||self.options.zoomType==='inner'){self.changeBgSize=!0}}
if((self.options.zoomWindowWidth/self.widthRatio)<=self.nzWidth){if(self.options.zoomType!=='inner'){if(self.newvaluewidth>self.newvalueheight){self.currentZoomLevel=self.newvaluewidth}}
if(self.options.zoomType!=='lens'&&self.options.zoomType!=='inner'){self.changeBgSize=!0;self.zoomLens.css({width:self.options.zoomWindowWidth/self.widthRatio})}
if(self.options.zoomType==='lens'||self.options.zoomType==='inner'){self.changeBgSize=!0}}
if(self.options.zoomType==='inner'){self.changeBgSize=!0;if(self.nzWidth>self.nzHeight){self.currentZoomLevel=self.newvaluewidth}
else if(self.nzHeight>=self.nzWidth){self.currentZoomLevel=self.newvaluewidth}}}
self.setPosition(self.currentLoc)},closeAll:function(){var self=this;if(self.zoomWindow){self.zoomWindow.hide()}
if(self.zoomLens){self.zoomLens.hide()}
if(self.zoomTint){self.zoomTint.hide()}},updateOffset:function(self){if(self.options.zoomContainerAppendTo!=='body'){self.nzOffset=self.$elem.offset();var appendedPosition=$(self.options.zoomContainerAppendTo).offset();self.nzOffset.top=self.$elem.offset().top-appendedPosition.top;self.nzOffset.left=self.$elem.offset().left-appendedPosition.left}else{self.nzOffset=self.$elem.offset()}},changeState:function(value){var self=this;if(value==='enable'){self.options.zoomEnabled=!0}
if(value==='disable'){self.options.zoomEnabled=!1}},responsiveConfig:function(options){if(options.respond&&options.respond.length>0){return $.extend({},options,this.configByScreenWidth(options))}
return options},configByScreenWidth:function(options){var screenWidth=$(window).width();var config=$.grep(options.respond,function(item){var range=item.range.split('-');return(screenWidth>=range[0])&&(screenWidth<=range[1])});if(config.length>0){return config[0]}else{return options}}};$.fn.ezPlus=function(options){return this.each(function(){var elevate=Object.create(EZP);elevate.init(options,this);$.data(this,'ezPlus',elevate)})};$.fn.ezPlus.options={attrImageZoomSrc:'zoom-image',borderColour:'#888',borderSize:4,constrainSize:!1,constrainType:!1,containLensZoom:!1,cursor:'inherit',debug:!1,easing:!1,easingAmount:12,enabled:!0,gallery:!1,galleryActiveClass:'zoomGalleryActive',gallerySelector:!1,galleryItem:'a',galleryEvent:'click',gallerySel:'',imageCrossfade:!1,lensBorderColour:'#000',lensBorderSize:1,lensColour:'white',lensFadeIn:!1,lensFadeOut:!1,lensOpacity:0.4,lensShape:'square',lensSize:200,lenszoom:!1,loadingIcon:!1,mantainZoomAspectRatio:!1,maxZoomLevel:!1,minZoomLevel:1.01,onComplete:$.noop,onDestroy:$.noop,onImageClick:$.noop,onImageSwap:$.noop,onImageSwapComplete:$.noop,onShow:$.noop,onHide:$.noop,onZoomedImageLoaded:$.noop,preloading:1,respond:[],responsive:!0,scrollZoom:!1,scrollZoomIncrement:0.1,showLens:!0,tint:!1,tintColour:'#333',tintOpacity:0.4,touchEnabled:!0,zoomActivation:'hover',zoomContainerAppendTo:'body',zoomId:-1,zoomLevel:1,zoomTintFadeIn:!1,zoomTintFadeOut:!1,zoomType:'window',zoomWindowAlwaysShow:!1,zoomWindowBgColour:'#fff',zoomWindowFadeIn:!1,zoomWindowFadeOut:!1,zoomWindowHeight:400,zoomWindowOffsetX:0,zoomWindowOffsetY:0,zoomWindowPosition:1,zoomWindowWidth:400,zoomEnabled:!0,zIndex:1}})(window.jQuery,window,document);(function(window,document,$,undefined){"use strict";var H=$("html"),W=$(window),D=$(document),F=$.fancybox=function(){F.open.apply(this,arguments)},IE=navigator.userAgent.match(/msie/i),didUpdate=null,isTouch=document.createTouch!==undefined,isQuery=function(obj){return obj&&obj.hasOwnProperty&&obj instanceof $},isString=function(str){return str&&$.type(str)==="string"},isPercentage=function(str){return isString(str)&&str.indexOf('%')>0},isScrollable=function(el){return(el&&!(el.style.overflow&&el.style.overflow==='hidden')&&((el.clientWidth&&el.scrollWidth>el.clientWidth)||(el.clientHeight&&el.scrollHeight>el.clientHeight)))},getScalar=function(orig,dim){var value=parseInt(orig,10)||0;if(dim&&isPercentage(orig)){value=F.getViewport()[dim]/100*value}
return Math.ceil(value)},getValue=function(value,dim){return getScalar(value,dim)+'px'};$.extend(F,{version:'2.1.5',defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!isTouch,fitToView:!0,aspectRatio:!1,topRatio:0.5,leftRatio:0.5,scrolling:'auto',wrapCSS:'',arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3000,preload:3,modal:!1,loop:!0,ajax:{dataType:'html',headers:{'X-fancyBox':!0}},iframe:{scrolling:'auto',preload:!0},swf:{wmode:'transparent',allowfullscreen:'true',allowscriptaccess:'always'},keys:{next:{13:'left',34:'up',39:'left',40:'up'},prev:{8:'right',33:'down',37:'right',38:'down'},close:[27],play:[32],toggle:[70]},direction:{next:'left',prev:'right'},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(IE?' allowtransparency="true"':'')+'></iframe>',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:'elastic',openSpeed:250,openEasing:'swing',openOpacity:!0,openMethod:'zoomIn',closeEffect:'elastic',closeSpeed:250,closeEasing:'swing',closeOpacity:!0,closeMethod:'zoomOut',nextEffect:'elastic',nextSpeed:250,nextEasing:'swing',nextMethod:'changeIn',prevEffect:'elastic',prevSpeed:250,prevEasing:'swing',prevMethod:'changeOut',helpers:{overlay:!0,title:!0},onCancel:$.noop,beforeLoad:$.noop,afterLoad:$.noop,beforeShow:$.noop,afterShow:$.noop,beforeChange:$.noop,beforeClose:$.noop,afterClose:$.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(group,opts){if(!group){return}
if(!$.isPlainObject(opts)){opts={}}
if(!1===F.close(!0)){return}
if(!$.isArray(group)){group=isQuery(group)?$(group).get():[group]}
$.each(group,function(i,element){var obj={},href,title,content,type,rez,hrefParts,selector;if($.type(element)==="object"){if(element.nodeType){element=$(element)}
if(isQuery(element)){obj={href:element.data('fancybox-href')||element.attr('href'),title:element.data('fancybox-title')||element.attr('title'),isDom:!0,element:element};if($.metadata){$.extend(!0,obj,element.metadata())}}else{obj=element}}
href=opts.href||obj.href||(isString(element)?element:null);title=opts.title!==undefined?opts.title:obj.title||'';content=opts.content||obj.content;type=content?'html':(opts.type||obj.type);if(!type&&obj.isDom){type=element.data('fancybox-type');if(!type){rez=element.prop('class').match(/fancybox\.(\w+)/);type=rez?rez[1]:null}}
if(isString(href)){if(!type){if(F.isImage(href)){type='image'}else if(F.isSWF(href)){type='swf'}else if(href.charAt(0)==='#'){type='inline'}else if(isString(element)){type='html';content=element}}
if(type==='ajax'){hrefParts=href.split(/\s+/,2);href=hrefParts.shift();selector=hrefParts.shift()}}
if(!content){if(type==='inline'){if(href){content=$(isString(href)?href.replace(/.*(?=#[^\s]+$)/,''):href)}else if(obj.isDom){content=element}}else if(type==='html'){content=href}else if(!type&&!href&&obj.isDom){type='inline';content=element}}
$.extend(obj,{href:href,type:type,content:content,title:title,selector:selector});group[i]=obj});F.opts=$.extend(!0,{},F.defaults,opts);if(opts.keys!==undefined){F.opts.keys=opts.keys?$.extend({},F.defaults.keys,opts.keys):!1}
F.group=group;return F._start(F.opts.index)},cancel:function(){var coming=F.coming;if(!coming||!1===F.trigger('onCancel')){return}
F.hideLoading();if(F.ajaxLoad){F.ajaxLoad.abort()}
F.ajaxLoad=null;if(F.imgPreload){F.imgPreload.onload=F.imgPreload.onerror=null}
if(coming.wrap){coming.wrap.stop(!0,!0).trigger('onReset').remove()}
F.coming=null;if(!F.current){F._afterZoomOut(coming)}},close:function(event){F.cancel();if(!1===F.trigger('beforeClose')){return}
F.unbindEvents();if(!F.isActive){return}
if(!F.isOpen||event===!0){$('.fancybox-wrap').stop(!0).trigger('onReset').remove();F._afterZoomOut()}else{F.isOpen=F.isOpened=!1;F.isClosing=!0;$('.fancybox-item, .fancybox-nav').remove();F.wrap.stop(!0,!0).removeClass('fancybox-opened');F.transitions[F.current.closeMethod]()}},play:function(action){var clear=function(){clearTimeout(F.player.timer)},set=function(){clear();if(F.current&&F.player.isActive){F.player.timer=setTimeout(F.next,F.current.playSpeed)}},stop=function(){clear();D.unbind('.player');F.player.isActive=!1;F.trigger('onPlayEnd')},start=function(){if(F.current&&(F.current.loop||F.current.index<F.group.length-1)){F.player.isActive=!0;D.bind({'onCancel.player beforeClose.player':stop,'onUpdate.player':set,'beforeLoad.player':clear});set();F.trigger('onPlayStart')}};if(action===!0||(!F.player.isActive&&action!==!1)){start()}else{stop()}},next:function(direction){var current=F.current;if(current){if(!isString(direction)){direction=current.direction.next}
F.jumpto(current.index+1,direction,'next')}},prev:function(direction){var current=F.current;if(current){if(!isString(direction)){direction=current.direction.prev}
F.jumpto(current.index-1,direction,'prev')}},jumpto:function(index,direction,router){var current=F.current;if(!current){return}
index=getScalar(index);F.direction=direction||current.direction[(index>=current.index?'next':'prev')];F.router=router||'jumpto';if(current.loop){if(index<0){index=current.group.length+(index%current.group.length)}
index=index%current.group.length}
if(current.group[index]!==undefined){F.cancel();F._start(index)}},reposition:function(e,onlyAbsolute){var current=F.current,wrap=current?current.wrap:null,pos;if(wrap){pos=F._getPosition(onlyAbsolute);if(e&&e.type==='scroll'){delete pos.position;wrap.stop(!0,!0).animate(pos,200)}else{wrap.css(pos);current.pos=$.extend({},current.dim,pos)}}},update:function(e){var type=(e&&e.type),anyway=!type||type==='orientationchange';if(anyway){clearTimeout(didUpdate);didUpdate=null}
if(!F.isOpen||didUpdate){return}
didUpdate=setTimeout(function(){var current=F.current;if(!current||F.isClosing){return}
F.wrap.removeClass('fancybox-tmp');if(anyway||type==='load'||(type==='resize'&&current.autoResize)){F._setDimension()}
if(!(type==='scroll'&&current.canShrink)){F.reposition(e)}
F.trigger('onUpdate');didUpdate=null},(anyway&&!isTouch?0:300))},toggle:function(action){if(F.isOpen){F.current.fitToView=$.type(action)==="boolean"?action:!F.current.fitToView;if(isTouch){F.wrap.removeAttr('style').addClass('fancybox-tmp');F.trigger('onUpdate')}
F.update()}},hideLoading:function(){D.unbind('.loading');$('#fancybox-loading').remove()},showLoading:function(){var el,viewport;F.hideLoading();el=$('<div id="fancybox-loading"><div></div></div>').click(F.cancel).appendTo('body');D.bind('keydown.loading',function(e){if((e.which||e.keyCode)===27){e.preventDefault();F.cancel()}});if(!F.defaults.fixed){viewport=F.getViewport();el.css({position:'absolute',top:(viewport.h*0.5)+viewport.y,left:(viewport.w*0.5)+viewport.x})}},getViewport:function(){var locked=(F.current&&F.current.locked)||!1,rez={x:W.scrollLeft(),y:W.scrollTop()};if(locked){rez.w=locked[0].clientWidth;rez.h=locked[0].clientHeight}else{rez.w=isTouch&&window.innerWidth?window.innerWidth:W.width();rez.h=isTouch&&window.innerHeight?window.innerHeight:W.height()}
return rez},unbindEvents:function(){if(F.wrap&&isQuery(F.wrap)){F.wrap.unbind('.fb')}
D.unbind('.fb');W.unbind('.fb')},bindEvents:function(){var current=F.current,keys;if(!current){return}
W.bind('orientationchange.fb'+(isTouch?'':' resize.fb')+(current.autoCenter&&!current.locked?' scroll.fb':''),F.update);keys=current.keys;if(keys){D.bind('keydown.fb',function(e){var code=e.which||e.keyCode,target=e.target||e.srcElement;if(code===27&&F.coming){return!1}
if(!e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&!(target&&(target.type||$(target).is('[contenteditable]')))){$.each(keys,function(i,val){if(current.group.length>1&&val[code]!==undefined){F[i](val[code]);e.preventDefault();return!1}
if($.inArray(code,val)>-1){F[i]();e.preventDefault();return!1}})}})}
if($.fn.mousewheel&&current.mouseWheel){F.wrap.bind('mousewheel.fb',function(e,delta,deltaX,deltaY){var target=e.target||null,parent=$(target),canScroll=!1;while(parent.length){if(canScroll||parent.is('.fancybox-skin')||parent.is('.fancybox-wrap')){break}
canScroll=isScrollable(parent[0]);parent=$(parent).parent()}
if(delta!==0&&!canScroll){if(F.group.length>1&&!current.canShrink){if(deltaY>0||deltaX>0){F.prev(deltaY>0?'down':'left')}else if(deltaY<0||deltaX<0){F.next(deltaY<0?'up':'right')}
e.preventDefault()}}})}},trigger:function(event,o){var ret,obj=o||F.coming||F.current;if(!obj){return}
if($.isFunction(obj[event])){ret=obj[event].apply(obj,Array.prototype.slice.call(arguments,1))}
if(ret===!1){return!1}
if(obj.helpers){$.each(obj.helpers,function(helper,opts){if(opts&&F.helpers[helper]&&$.isFunction(F.helpers[helper][event])){F.helpers[helper][event]($.extend(!0,{},F.helpers[helper].defaults,opts),obj)}})}
D.trigger(event)},isImage:function(str){return isString(str)&&str.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(str){return isString(str)&&str.match(/\.(swf)((\?|#).*)?$/i)},_start:function(index){var coming={},obj,href,type,margin,padding;index=getScalar(index);obj=F.group[index]||null;if(!obj){return!1}
coming=$.extend(!0,{},F.opts,obj);margin=coming.margin;padding=coming.padding;if($.type(margin)==='number'){coming.margin=[margin,margin,margin,margin]}
if($.type(padding)==='number'){coming.padding=[padding,padding,padding,padding]}
if(coming.modal){$.extend(!0,coming,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}})}
if(coming.autoSize){coming.autoWidth=coming.autoHeight=!0}
if(coming.width==='auto'){coming.autoWidth=!0}
if(coming.height==='auto'){coming.autoHeight=!0}
coming.group=F.group;coming.index=index;F.coming=coming;if(!1===F.trigger('beforeLoad')){F.coming=null;return}
type=coming.type;href=coming.href;if(!type){F.coming=null;if(F.current&&F.router&&F.router!=='jumpto'){F.current.index=index;return F[F.router](F.direction)}
return!1}
F.isActive=!0;if(type==='image'||type==='swf'){coming.autoHeight=coming.autoWidth=!1;coming.scrolling='visible'}
if(type==='image'){coming.aspectRatio=!0}
if(type==='iframe'&&isTouch){coming.scrolling='scroll'}
coming.wrap=$(coming.tpl.wrap).addClass('fancybox-'+(isTouch?'mobile':'desktop')+' fancybox-type-'+type+' fancybox-tmp '+coming.wrapCSS).appendTo(coming.parent||'body');$.extend(coming,{skin:$('.fancybox-skin',coming.wrap),outer:$('.fancybox-outer',coming.wrap),inner:$('.fancybox-inner',coming.wrap)});$.each(["Top","Right","Bottom","Left"],function(i,v){coming.skin.css('padding'+v,getValue(coming.padding[i]))});F.trigger('onReady');if(type==='inline'||type==='html'){if(!coming.content||!coming.content.length){return F._error('content')}}else if(!href){return F._error('href')}
if(type==='image'){F._loadImage()}else if(type==='ajax'){F._loadAjax()}else if(type==='iframe'){F._loadIframe()}else{F._afterLoad()}},_error:function(type){$.extend(F.coming,{type:'html',autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:'no',hasError:type,content:F.coming.tpl.error});F._afterLoad()},_loadImage:function(){var img=F.imgPreload=new Image();img.onload=function(){this.onload=this.onerror=null;F.coming.width=this.width/F.opts.pixelRatio;F.coming.height=this.height/F.opts.pixelRatio;F._afterLoad()};img.onerror=function(){this.onload=this.onerror=null;F._error('image')};img.src=F.coming.href;if(img.complete!==!0){F.showLoading()}},_loadAjax:function(){var coming=F.coming;F.showLoading();F.ajaxLoad=$.ajax($.extend({},coming.ajax,{url:coming.href,error:function(jqXHR,textStatus){if(F.coming&&textStatus!=='abort'){F._error('ajax',jqXHR)}else{F.hideLoading()}},success:function(data,textStatus){if(textStatus==='success'){coming.content=data;F._afterLoad()}}}))},_loadIframe:function(){var coming=F.coming,iframe=$(coming.tpl.iframe.replace(/\{rnd\}/g,new Date().getTime())).attr('scrolling',isTouch?'auto':coming.iframe.scrolling).attr('src',coming.href);$(coming.wrap).bind('onReset',function(){try{$(this).find('iframe').hide().attr('src','//about:blank').end().empty()}catch(e){}});if(coming.iframe.preload){F.showLoading();iframe.one('load',function(){$(this).data('ready',1);if(!isTouch){$(this).bind('load.fb',F.update)}
$(this).parents('.fancybox-wrap').width('100%').removeClass('fancybox-tmp').show();F._afterLoad()})}
coming.content=iframe.appendTo(coming.inner);if(!coming.iframe.preload){F._afterLoad()}},_preloadImages:function(){var group=F.group,current=F.current,len=group.length,cnt=current.preload?Math.min(current.preload,len-1):0,item,i;for(i=1;i<=cnt;i+=1){item=group[(current.index+i)%len];if(item.type==='image'&&item.href){new Image().src=item.href}}},_afterLoad:function(){var coming=F.coming,previous=F.current,placeholder='fancybox-placeholder',current,content,type,scrolling,href,embed;F.hideLoading();if(!coming||F.isActive===!1){return}
if(!1===F.trigger('afterLoad',coming,previous)){coming.wrap.stop(!0).trigger('onReset').remove();F.coming=null;return}
if(previous){F.trigger('beforeChange',previous);previous.wrap.stop(!0).removeClass('fancybox-opened').find('.fancybox-item, .fancybox-nav').remove()}
F.unbindEvents();current=coming;content=coming.content;type=coming.type;scrolling=coming.scrolling;$.extend(F,{wrap:current.wrap,skin:current.skin,outer:current.outer,inner:current.inner,current:current,previous:previous});href=current.href;switch(type){case 'inline':case 'ajax':case 'html':if(current.selector){content=$('<div>').html(content).find(current.selector)}else if(isQuery(content)){if(!content.data(placeholder)){content.data(placeholder,$('<div class="'+placeholder+'"></div>').insertAfter(content).hide())}
content=content.show().detach();current.wrap.bind('onReset',function(){if($(this).find(content).length){content.hide().replaceAll(content.data(placeholder)).data(placeholder,!1)}})}
break;case 'image':content=current.tpl.image.replace('{href}',href);break;case 'swf':content='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+href+'"></param>';embed='';$.each(current.swf,function(name,val){content+='<param name="'+name+'" value="'+val+'"></param>';embed+=' '+name+'="'+val+'"'});content+='<embed src="'+href+'" type="application/x-shockwave-flash" width="100%" height="100%"'+embed+'></embed></object>';break}
if(!(isQuery(content)&&content.parent().is(current.inner))){current.inner.append(content)}
F.trigger('beforeShow');current.inner.css('overflow',scrolling==='yes'?'scroll':(scrolling==='no'?'hidden':scrolling));F._setDimension();F.reposition();F.isOpen=!1;F.coming=null;F.bindEvents();if(!F.isOpened){$('.fancybox-wrap').not(current.wrap).stop(!0).trigger('onReset').remove()}else if(previous.prevMethod){F.transitions[previous.prevMethod]()}
F.transitions[F.isOpened?current.nextMethod:current.openMethod]();F._preloadImages()},_setDimension:function(){var viewport=F.getViewport(),steps=0,canShrink=!1,canExpand=!1,wrap=F.wrap,skin=F.skin,inner=F.inner,current=F.current,width=current.width,height=current.height,minWidth=current.minWidth,minHeight=current.minHeight,maxWidth=current.maxWidth,maxHeight=current.maxHeight,scrolling=current.scrolling,scrollOut=current.scrollOutside?current.scrollbarWidth:0,margin=current.margin,wMargin=getScalar(margin[1]+margin[3]),hMargin=getScalar(margin[0]+margin[2]),wPadding,hPadding,wSpace,hSpace,origWidth,origHeight,origMaxWidth,origMaxHeight,ratio,width_,height_,maxWidth_,maxHeight_,iframe,body;wrap.add(skin).add(inner).width('auto').height('auto').removeClass('fancybox-tmp');wPadding=getScalar(skin.outerWidth(!0)-skin.width());hPadding=getScalar(skin.outerHeight(!0)-skin.height());wSpace=wMargin+wPadding;hSpace=hMargin+hPadding;origWidth=isPercentage(width)?(viewport.w-wSpace)*getScalar(width)/100:width;origHeight=isPercentage(height)?(viewport.h-hSpace)*getScalar(height)/100:height;if(current.type==='iframe'){iframe=current.content;if(current.autoHeight&&iframe.data('ready')===1){try{if(iframe[0].contentWindow.document.location){inner.width(origWidth).height(9999);body=iframe.contents().find('body');if(scrollOut){body.css('overflow-x','hidden')}
origHeight=body.outerHeight(!0)}}catch(e){}}}else if(current.autoWidth||current.autoHeight){inner.addClass('fancybox-tmp');if(!current.autoWidth){inner.width(origWidth)}
if(!current.autoHeight){inner.height(origHeight)}
if(current.autoWidth){origWidth=inner.width()}
if(current.autoHeight){origHeight=inner.height()}
inner.removeClass('fancybox-tmp')}
width=getScalar(origWidth);height=getScalar(origHeight);ratio=origWidth/origHeight;minWidth=getScalar(isPercentage(minWidth)?getScalar(minWidth,'w')-wSpace:minWidth);maxWidth=getScalar(isPercentage(maxWidth)?getScalar(maxWidth,'w')-wSpace:maxWidth);minHeight=getScalar(isPercentage(minHeight)?getScalar(minHeight,'h')-hSpace:minHeight);maxHeight=getScalar(isPercentage(maxHeight)?getScalar(maxHeight,'h')-hSpace:maxHeight);origMaxWidth=maxWidth;origMaxHeight=maxHeight;if(current.fitToView){maxWidth=Math.min(viewport.w-wSpace,maxWidth);maxHeight=Math.min(viewport.h-hSpace,maxHeight)}
maxWidth_=viewport.w-wMargin;maxHeight_=viewport.h-hMargin;if(current.aspectRatio){if(width>maxWidth){width=maxWidth;height=getScalar(width/ratio)}
if(height>maxHeight){height=maxHeight;width=getScalar(height*ratio)}
if(width<minWidth){width=minWidth;height=getScalar(width/ratio)}
if(height<minHeight){height=minHeight;width=getScalar(height*ratio)}}else{width=Math.max(minWidth,Math.min(width,maxWidth));if(current.autoHeight&&current.type!=='iframe'){inner.width(width);height=inner.height()}
height=Math.max(minHeight,Math.min(height,maxHeight))}
if(current.fitToView){inner.width(width).height(height);wrap.width(width+wPadding);width_=wrap.width();height_=wrap.height();if(current.aspectRatio){while((width_>maxWidth_||height_>maxHeight_)&&width>minWidth&&height>minHeight){if(steps++>19){break}
height=Math.max(minHeight,Math.min(maxHeight,height-10));width=getScalar(height*ratio);if(width<minWidth){width=minWidth;height=getScalar(width/ratio)}
if(width>maxWidth){width=maxWidth;height=getScalar(width/ratio)}
inner.width(width).height(height);wrap.width(width+wPadding);width_=wrap.width();height_=wrap.height()}}else{width=Math.max(minWidth,Math.min(width,width-(width_-maxWidth_)));height=Math.max(minHeight,Math.min(height,height-(height_-maxHeight_)))}}
if(scrollOut&&scrolling==='auto'&&height<origHeight&&(width+wPadding+scrollOut)<maxWidth_){width+=scrollOut}
inner.width(width).height(height);wrap.width(width+wPadding);width_=wrap.width();height_=wrap.height();canShrink=(width_>maxWidth_||height_>maxHeight_)&&width>minWidth&&height>minHeight;canExpand=current.aspectRatio?(width<origMaxWidth&&height<origMaxHeight&&width<origWidth&&height<origHeight):((width<origMaxWidth||height<origMaxHeight)&&(width<origWidth||height<origHeight));$.extend(current,{dim:{width:getValue(width_),height:getValue(height_)},origWidth:origWidth,origHeight:origHeight,canShrink:canShrink,canExpand:canExpand,wPadding:wPadding,hPadding:hPadding,wrapSpace:height_-skin.outerHeight(!0),skinSpace:skin.height()-height});if(!iframe&&current.autoHeight&&height>minHeight&&height<maxHeight&&!canExpand){inner.height('auto')}},_getPosition:function(onlyAbsolute){var current=F.current,viewport=F.getViewport(),margin=current.margin,width=F.wrap.width()+margin[1]+margin[3],height=F.wrap.height()+margin[0]+margin[2],rez={position:'absolute',top:margin[0],left:margin[3]};if(current.autoCenter&&current.fixed&&!onlyAbsolute&&height<=viewport.h&&width<=viewport.w){rez.position='fixed'}else if(!current.locked){rez.top+=viewport.y;rez.left+=viewport.x}
rez.top=getValue(Math.max(rez.top,rez.top+((viewport.h-height)*current.topRatio)));rez.left=getValue(Math.max(rez.left,rez.left+((viewport.w-width)*current.leftRatio)));return rez},_afterZoomIn:function(){var current=F.current;if(!current){return}
F.isOpen=F.isOpened=!0;F.wrap.css('overflow','visible').addClass('fancybox-opened');F.update();if(current.closeClick||(current.nextClick&&F.group.length>1)){F.inner.css('cursor','pointer').bind('click.fb',function(e){if(!$(e.target).is('a')&&!$(e.target).parent().is('a')){e.preventDefault();F[current.closeClick?'close':'next']()}})}
if(current.closeBtn){$(current.tpl.closeBtn).appendTo(F.skin).bind('click.fb',function(e){e.preventDefault();F.close()})}
if(current.arrows&&F.group.length>1){if(current.loop||current.index>0){$(current.tpl.prev).appendTo(F.outer).bind('click.fb',F.prev)}
if(current.loop||current.index<F.group.length-1){$(current.tpl.next).appendTo(F.outer).bind('click.fb',F.next)}}
F.trigger('afterShow');if(!current.loop&&current.index===current.group.length-1){F.play(!1)}else if(F.opts.autoPlay&&!F.player.isActive){F.opts.autoPlay=!1;F.play()}},_afterZoomOut:function(obj){obj=obj||F.current;$('.fancybox-wrap').trigger('onReset').remove();$.extend(F,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null});F.trigger('afterClose',obj)}});F.transitions={getOrigPosition:function(){var current=F.current,element=current.element,orig=current.orig,pos={},width=50,height=50,hPadding=current.hPadding,wPadding=current.wPadding,viewport=F.getViewport();if(!orig&&current.isDom&&element.is(':visible')){orig=element.find('img:first');if(!orig.length){orig=element}}
if(isQuery(orig)){pos=orig.offset();if(orig.is('img')){width=orig.outerWidth();height=orig.outerHeight()}}else{pos.top=viewport.y+(viewport.h-height)*current.topRatio;pos.left=viewport.x+(viewport.w-width)*current.leftRatio}
if(F.wrap.css('position')==='fixed'||current.locked){pos.top-=viewport.y;pos.left-=viewport.x}
pos={top:getValue(pos.top-hPadding*current.topRatio),left:getValue(pos.left-wPadding*current.leftRatio),width:getValue(width+wPadding),height:getValue(height+hPadding)};return pos},step:function(now,fx){var ratio,padding,value,prop=fx.prop,current=F.current,wrapSpace=current.wrapSpace,skinSpace=current.skinSpace;if(prop==='width'||prop==='height'){ratio=fx.end===fx.start?1:(now-fx.start)/(fx.end-fx.start);if(F.isClosing){ratio=1-ratio}
padding=prop==='width'?current.wPadding:current.hPadding;value=now-padding;F.skin[prop](getScalar(prop==='width'?value:value-(wrapSpace*ratio)));F.inner[prop](getScalar(prop==='width'?value:value-(wrapSpace*ratio)-(skinSpace*ratio)))}},zoomIn:function(){var current=F.current,startPos=current.pos,effect=current.openEffect,elastic=effect==='elastic',endPos=$.extend({opacity:1},startPos);delete endPos.position;if(elastic){startPos=this.getOrigPosition();if(current.openOpacity){startPos.opacity=0.1}}else if(effect==='fade'){startPos.opacity=0.1}
F.wrap.css(startPos).animate(endPos,{duration:effect==='none'?0:current.openSpeed,easing:current.openEasing,step:elastic?this.step:null,complete:F._afterZoomIn})},zoomOut:function(){var current=F.current,effect=current.closeEffect,elastic=effect==='elastic',endPos={opacity:0.1};if(elastic){endPos=this.getOrigPosition();if(current.closeOpacity){endPos.opacity=0.1}}
F.wrap.animate(endPos,{duration:effect==='none'?0:current.closeSpeed,easing:current.closeEasing,step:elastic?this.step:null,complete:F._afterZoomOut})},changeIn:function(){var current=F.current,effect=current.nextEffect,startPos=current.pos,endPos={opacity:1},direction=F.direction,distance=200,field;startPos.opacity=0.1;if(effect==='elastic'){field=direction==='down'||direction==='up'?'top':'left';if(direction==='down'||direction==='right'){startPos[field]=getValue(getScalar(startPos[field])-distance);endPos[field]='+='+distance+'px'}else{startPos[field]=getValue(getScalar(startPos[field])+distance);endPos[field]='-='+distance+'px'}}
if(effect==='none'){F._afterZoomIn()}else{F.wrap.css(startPos).animate(endPos,{duration:current.nextSpeed,easing:current.nextEasing,complete:F._afterZoomIn})}},changeOut:function(){var previous=F.previous,effect=previous.prevEffect,endPos={opacity:0.1},direction=F.direction,distance=200;if(effect==='elastic'){endPos[direction==='down'||direction==='up'?'top':'left']=(direction==='up'||direction==='left'?'-':'+')+'='+distance+'px'}
previous.wrap.animate(endPos,{duration:effect==='none'?0:previous.prevSpeed,easing:previous.prevEasing,complete:function(){$(this).trigger('onReset').remove()}})}};F.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!isTouch,fixed:!0},overlay:null,fixed:!1,el:$('html'),create:function(opts){opts=$.extend({},this.defaults,opts);if(this.overlay){this.close()}
this.overlay=$('<div class="fancybox-overlay"></div>').appendTo(F.coming?F.coming.parent:opts.parent);this.fixed=!1;if(opts.fixed&&F.defaults.fixed){this.overlay.addClass('fancybox-overlay-fixed');this.fixed=!0}},open:function(opts){var that=this;opts=$.extend({},this.defaults,opts);if(this.overlay){this.overlay.unbind('.overlay').width('auto').height('auto')}else{this.create(opts)}
if(!this.fixed){W.bind('resize.overlay',$.proxy(this.update,this));this.update()}
if(opts.closeClick){this.overlay.bind('click.overlay',function(e){if($(e.target).hasClass('fancybox-overlay')){if(F.isActive){F.close()}else{that.close()}
return!1}})}
this.overlay.css(opts.css).show()},close:function(){var scrollV,scrollH;W.unbind('resize.overlay');if(this.el.hasClass('fancybox-lock')){$('.fancybox-margin').removeClass('fancybox-margin');scrollV=W.scrollTop();scrollH=W.scrollLeft();this.el.removeClass('fancybox-lock');W.scrollTop(scrollV).scrollLeft(scrollH)}
$('.fancybox-overlay').remove().hide();$.extend(this,{overlay:null,fixed:!1})},update:function(){var width='100%',offsetWidth;this.overlay.width(width).height('100%');if(IE){offsetWidth=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);if(D.width()>offsetWidth){width=D.width()}}else if(D.width()>W.width()){width=D.width()}
this.overlay.width(width).height(D.height())},onReady:function(opts,obj){var overlay=this.overlay;$('.fancybox-overlay').stop(!0,!0);if(!overlay){this.create(opts)}
if(opts.locked&&this.fixed&&obj.fixed){if(!overlay){this.margin=D.height()>W.height()?$('html').css('margin-right').replace("px",""):!1}
obj.locked=this.overlay.append(obj.wrap);obj.fixed=!1}
if(opts.showEarly===!0){this.beforeShow.apply(this,arguments)}},beforeShow:function(opts,obj){var scrollV,scrollH;if(obj.locked){if(this.margin!==!1){$('*').filter(function(){return($(this).css('position')==='fixed'&&!$(this).hasClass("fancybox-overlay")&&!$(this).hasClass("fancybox-wrap"))}).addClass('fancybox-margin');this.el.addClass('fancybox-margin')}
scrollV=W.scrollTop();scrollH=W.scrollLeft();this.el.addClass('fancybox-lock');W.scrollTop(scrollV).scrollLeft(scrollH)}
this.open(opts)},onUpdate:function(){if(!this.fixed){this.update()}},afterClose:function(opts){if(this.overlay&&!F.coming){this.overlay.fadeOut(opts.speedOut,$.proxy(this.close,this))}}};F.helpers.title={defaults:{type:'float',position:'bottom'},beforeShow:function(opts){var current=F.current,text=current.title,type=opts.type,title,target;if($.isFunction(text)){text=text.call(current.element,current)}
if(!isString(text)||$.trim(text)===''){return}
title=$('<div class="fancybox-title fancybox-title-'+type+'-wrap">'+text+'</div>');switch(type){case 'inside':target=F.skin;break;case 'outside':target=F.wrap;break;case 'over':target=F.inner;break;default:target=F.skin;title.appendTo('body');if(IE){title.width(title.width())}
title.wrapInner('<span class="child"></span>');F.current.margin[2]+=Math.abs(getScalar(title.css('margin-bottom')));break}
title[(opts.position==='top'?'prependTo':'appendTo')](target)}};$.fn.fancybox=function(options){var index,that=$(this),selector=this.selector||'',run=function(e){var what=$(this).blur(),idx=index,relType,relVal;if(!(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&!what.is('.fancybox-wrap')){relType=options.groupAttr||'data-fancybox-group';relVal=what.attr(relType);if(!relVal){relType='rel';relVal=what.get(0)[relType]}
if(relVal&&relVal!==''&&relVal!=='nofollow'){what=selector.length?$(selector):that;what=what.filter('['+relType+'="'+relVal+'"]');idx=what.index(this)}
options.index=idx;if(F.open(what,options)!==!1){e.preventDefault()}}};options=options||{};index=options.index||0;if(!selector||options.live===!1){that.unbind('click.fb-start').bind('click.fb-start',run)}else{D.undelegate(selector,'click.fb-start').delegate(selector+":not('.fancybox-item, .fancybox-nav')",'click.fb-start',run)}
this.filter('[data-fancybox-start=1]').trigger('click');return this};D.ready(function(){var w1,w2;if($.scrollbarWidth===undefined){$.scrollbarWidth=function(){var parent=$('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo('body'),child=parent.children(),width=child.innerWidth()-child.height(99).innerWidth();parent.remove();return width}}
if($.support.fixedPosition===undefined){$.support.fixedPosition=(function(){var elem=$('<div style="position:fixed;top:20px;"></div>').appendTo('body'),fixed=(elem[0].offsetTop===20||elem[0].offsetTop===15);elem.remove();return fixed}())}
$.extend(F.defaults,{scrollbarWidth:$.scrollbarWidth(),fixed:$.support.fixedPosition,parent:$('body')});w1=$(window).width();H.addClass('fancybox-lock-test');w2=$(window).width();H.removeClass('fancybox-lock-test');$("<style type='text/css'>.fancybox-margin{margin-right:"+(w2-w1)+"px;}</style>").appendTo("head")})}(window,document,jQuery));var selector='#searchtop input[name=search]';var selector2='#input-search';var queryMinLength='3';var catTitle='Категории';var prodTitle='Товары';var viewAllTitle='Посмотреть все';var noResTitle='Ничего не найдено';$(document).ready(function(){var delay=(function(){var timer=0;return function(callback,ms){clearTimeout(timer);timer=setTimeout(callback,ms)}})();var timer=null;$(selector2).keyup(function(){delay(function(){sphinxAutocomplete(selector2)},300)});$(selector).keyup(function(){delay(function(){sphinxAutocomplete(selector)},300)})});$(document).mouseup(function(e){if(!$('.sphinxsearch').is(e.target)&&$('.sphinxsearch').has(e.target).length===0){$('.sphinxsearch').hide();$(selector).removeClass('no-bottom-borders');return!1}
if(!$('.sphinxsearch').is(e.target)&&$('.sphinxsearch').has(e.target).length===0){$('.sphinxsearch').hide();$(selector2).removeClass('no-bottom-borders');return!1}});function sphinxAutocomplete(input){if($(input).val()==''||$(input).val().length<queryMinLength){$('.sphinxsearch').hide();$(selector).removeClass('no-bottom-borders');return!1}
$.ajax({url:'https://yaesu-shop.ru/index.php?route=common/sphinx/autocompleate&search='+$(input).val(),dataType:'json',success:function(json){var html='';if(json.categories.length){html+='<div class="categories"><span>'+catTitle+'</span>';var categories=json.categories;for(i=0;i<categories.length;i++){html+='<a href="'+categories[i].href+'">';if(categories[i].image!=''){html+='<img src="'+categories[i].image+'" />'}
html+=categories[i].name;html+='<br />';html+='</a>'}
html+='</div>'}
if(json.products.length){if(json.categories.length){html+='<div class="products"><span>'+prodTitle+'</span>'}
var products=json.products;for(i=0;i<products.length;i++){html+='<a href="'+products[i].href+'">';html+='<img src="'+products[i].image+'" />';html+=products[i].name;html+='<br />';html+='</a>'}
if(json.categories.length){html+='</div>'}
html+='<div class="sphinx-viewall">'+'<a id="view-all" href="https://yaesu-shop.ru/search?wildcard=true&search='+encodeURIComponent($(input).val())+'"><span>'+viewAllTitle+'</span></a>'+'</div>'}else{html='<div class="sphinx-viewall-no-res">'+noResTitle+'</div>'}
$('ul.dropdown-menu, .sphinxsearch').remove();$(input).after('<div class="sphinxsearch">'+html+'</div>');$('.sphinxsearch').show();$(input).addClass('no-bottom-borders')}})};!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).IMask=e()}(this,function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t,e){return t(e={exports:{}},e.exports),e.exports}var n,u,i,r,a="object",s=function(t){return t&&t.Math==Math&&t},o=s(typeof globalThis==a&&globalThis)||s(typeof window==a&&window)||s(typeof self==a&&self)||s(typeof t==a&&t)||Function("return this")(),l=function(t){try{return!!t()}catch(t){return!0}},h=!l(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),c={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,p={f:f&&!c.call({1:2},1)?function(t){var e=f(this,t);return!!e&&e.enumerable}:c},d=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},v={}.toString,k="".split,g=l(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==function(t){return v.call(t).slice(8,-1)}(t)?k.call(t,""):Object(t)}:Object,y=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},m=function(t){return g(y(t))},_=function(t){return"object"==typeof t?null!==t:"function"==typeof t},A=function(t,e){if(!_(t))return t;var n,u;if(e&&"function"==typeof(n=t.toString)&&!_(u=n.call(t)))return u;if("function"==typeof(n=t.valueOf)&&!_(u=n.call(t)))return u;if(!e&&"function"==typeof(n=t.toString)&&!_(u=n.call(t)))return u;throw TypeError("Can't convert object to primitive value")},C={}.hasOwnProperty,F=function(t,e){return C.call(t,e)},E=o.document,b=_(E)&&_(E.createElement),S=!h&&!l(function(){return 7!=Object.defineProperty((t="div",b?E.createElement(t):{}),"a",{get:function(){return 7}}).a;var t}),B=Object.getOwnPropertyDescriptor,D={f:h?B:function(t,e){if(t=m(t),e=A(e,!0),S)try{return B(t,e)}catch(t){}if(F(t,e))return d(!p.f.call(t,e),t[e])}},w=function(t){if(!_(t))throw TypeError(String(t)+" is not an object");return t},T=Object.defineProperty,x={f:h?T:function(t,e,n){if(w(t),e=A(e,!0),w(n),S)try{return T(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},P=h?function(t,e,n){return x.f(t,e,d(1,n))}:function(t,e,n){return t[e]=n,t},O=function(t,e){try{P(o,t,e)}catch(n){o[t]=e}return e},M=e(function(t){var e=o["__core-js_shared__"]||O("__core-js_shared__",{});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:"3.1.3",mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}),I=M("native-function-to-string",Function.toString),R=o.WeakMap,V="function"==typeof R&&/native code/.test(I.call(R)),j=0,N=Math.random(),L=M("keys"),H={},G=o.WeakMap;if(V){var z=new G,U=z.get,Y=z.has,Z=z.set;n=function(t,e){return Z.call(z,t,e),e},u=function(t){return U.call(z,t)||{}},i=function(t){return Y.call(z,t)}}else{var W=L[r="state"]||(L[r]=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++j+N).toString(36)}(r));H[W]=!0,n=function(t,e){return P(t,W,e),e},u=function(t){return F(t,W)?t[W]:{}},i=function(t){return F(t,W)}}var $={set:n,get:u,has:i,enforce:function(t){return i(t)?u(t):n(t,{})},getterFor:function(t){return function(e){var n;if(!_(e)||(n=u(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},K=e(function(t){var e=$.get,n=$.enforce,u=String(I).split("toString");M("inspectSource",function(t){return I.call(t)}),(t.exports=function(t,e,i,r){var a=!!r&&!!r.unsafe,s=!!r&&!!r.enumerable,l=!!r&&!!r.noTargetGet;"function"==typeof i&&("string"!=typeof e||F(i,"name")||P(i,"name",e),n(i).source=u.join("string"==typeof e?e:"")),t!==o?(a?!l&&t[e]&&(s=!0):delete t[e],s?t[e]=i:P(t,e,i)):s?t[e]=i:O(e,i)})(Function.prototype,"toString",function(){return"function"==typeof this&&e(this).source||I.call(this)})}),q=o,J=function(t){return"function"==typeof t?t:void 0},Q=function(t,e){return arguments.length<2?J(q[t])||J(o[t]):q[t]&&q[t][e]||o[t]&&o[t][e]},X=Math.ceil,tt=Math.floor,et=function(t){return isNaN(t=+t)?0:(t>0?tt:X)(t)},nt=Math.min,ut=function(t){return t>0?nt(et(t),9007199254740991):0},it=Math.max,rt=Math.min,at=function(t){return function(e,n,u){var i,r=m(e),a=ut(r.length),s=function(t,e){var n=et(t);return n<0?it(n+e,0):rt(n,e)}(u,a);if(t&&n!=n){for(;a>s;)if((i=r[s++])!=i)return!0}else for(;a>s;s++)if((t||s in r)&&r[s]===n)return t||s||0;return!t&&-1}},st={includes:at(!0),indexOf:at(!1)}.indexOf,ot=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype"),lt={f:Object.getOwnPropertyNames||function(t){return function(t,e){var n,u=m(t),i=0,r=[];for(n in u)!F(H,n)&&F(u,n)&&r.push(n);for(;e.length>i;)F(u,n=e[i++])&&(~st(r,n)||r.push(n));return r}(t,ot)}},ht={f:Object.getOwnPropertySymbols},ct=Q("Reflect","ownKeys")||function(t){var e=lt.f(w(t)),n=ht.f;return n?e.concat(n(t)):e},ft=function(t,e){for(var n=ct(e),u=x.f,i=D.f,r=0;r<n.length;r++){var a=n[r];F(t,a)||u(t,a,i(e,a))}},pt=/#|\.prototype\./,dt=function(t,e){var n=kt[vt(t)];return n==yt||n!=gt&&("function"==typeof e?l(e):!!e)},vt=dt.normalize=function(t){return String(t).replace(pt,".").toLowerCase()},kt=dt.data={},gt=dt.NATIVE="N",yt=dt.POLYFILL="P",mt=dt,_t=D.f,At=function(t,e){var n,u,i,r,a,s=t.target,l=t.global,h=t.stat;if(n=l?o:h?o[s]||O(s,{}):(o[s]||{}).prototype)for(u in e){if(r=e[u],i=t.noTargetGet?(a=_t(n,u))&&a.value:n[u],!mt(l?u:s+(h?".":"#")+u,t.forced)&&void 0!==i){if(typeof r==typeof i)continue;ft(r,i)}(t.sham||i&&i.sham)&&P(r,"sham",!0),K(n,u,r,t)}},Ct="".repeat||function(t){var e=String(y(this)),n="",u=et(t);if(u<0||u==1/0)throw RangeError("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(e+=e))1&u&&(n+=e);return n},Ft=Math.ceil,Et=function(t){return function(e,n,u){var i,r,a=String(y(e)),s=a.length,o=void 0===u?" ":String(u),l=ut(n);return l<=s||""==o?a:(i=l-s,(r=Ct.call(o,Ft(i/o.length))).length>i&&(r=r.slice(0,i)),t?a+r:r+a)}},bt={start:Et(!1),end:Et(!0)},St=Q("navigator","userAgent")||"",Bt=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(St),Dt=bt.end;At({target:"String",proto:!0,forced:Bt},{padEnd:function(t){return Dt(this,t,arguments.length>1?arguments[1]:void 0)}});var wt=bt.start;function Tt(t){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pt(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}function Ot(t,e,n){return e&&Pt(t.prototype,e),n&&Pt(t,n),t}function Mt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function It(){return(It=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t}).apply(this,arguments)}function Rt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},u=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(u=u.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),u.forEach(function(e){Mt(t,e,n[e])})}return t}function Vt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nt(t,e)}function jt(t){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Nt(t,e){return(Nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Lt(t,e){if(null==t)return{};var n,u,i=function(t,e){if(null==t)return{};var n,u,i={},r=Object.keys(t);for(u=0;u<r.length;u++)n=r[u],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(u=0;u<r.length;u++)n=r[u],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ht(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Gt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jt(t)););return t}function zt(t,e,n){return(zt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var u=Gt(t,e);if(u){var i=Object.getOwnPropertyDescriptor(u,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Ut(t,e,n,u){return(Ut="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,n,u){var i,r=Gt(t,e);if(r){if((i=Object.getOwnPropertyDescriptor(r,e)).set)return i.set.call(u,n),!0;if(!i.writable)return!1}if(i=Object.getOwnPropertyDescriptor(u,e)){if(!i.writable)return!1;i.value=n,Object.defineProperty(u,e,i)}else Mt(u,e,n);return!0})(t,e,n,u)}function Yt(t,e,n,u,i){if(!Ut(t,e,n,u||t)&&i)throw new Error("failed to set property");return n}function Zt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],u=!0,i=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(u=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);u=!0);}catch(t){i=!0,r=t}finally{try{u||null==s.return||s.return()}finally{if(i)throw r}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Wt(t){return"string"==typeof t||t instanceof String}At({target:"String",proto:!0,forced:Bt},{padStart:function(t){return wt(this,t,arguments.length>1?arguments[1]:void 0)}}),At({target:"String",proto:!0},{repeat:Ct});var $t={NONE:"NONE",LEFT:"LEFT",FORCE_LEFT:"FORCE_LEFT",RIGHT:"RIGHT",FORCE_RIGHT:"FORCE_RIGHT"};function Kt(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}var qt="undefined"!=typeof window&&window||"undefined"!=typeof global&&global.global===global&&global||"undefined"!=typeof self&&self.self===self&&self||{},Jt=function(){function t(e,n,u,i){for(xt(this,t),this.value=e,this.cursorPos=n,this.oldValue=u,this.oldSelection=i;this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start}return Ot(t,[{key:"startChangePos",get:function(){return Math.min(this.cursorPos,this.oldSelection.start)}},{key:"insertedCount",get:function(){return this.cursorPos-this.startChangePos}},{key:"inserted",get:function(){return this.value.substr(this.startChangePos,this.insertedCount)}},{key:"removedCount",get:function(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}},{key:"removed",get:function(){return this.oldValue.substr(this.startChangePos,this.removedCount)}},{key:"head",get:function(){return this.value.substring(0,this.startChangePos)}},{key:"tail",get:function(){return this.value.substring(this.startChangePos+this.insertedCount)}},{key:"removeDirection",get:function(){return!this.removedCount||this.insertedCount?$t.NONE:this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos?$t.RIGHT:$t.LEFT}}]),t}(),Qt=function(){function t(e){xt(this,t),It(this,{inserted:"",rawInserted:"",skip:!1,tailShift:0},e)}return Ot(t,[{key:"aggregate",value:function(t){return this.rawInserted+=t.rawInserted,this.skip=this.skip||t.skip,this.inserted+=t.inserted,this.tailShift+=t.tailShift,this}},{key:"offset",get:function(){return this.tailShift+this.inserted.length}}]),t}(),Xt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=arguments.length>2?arguments[2]:void 0;xt(this,t),this.value=e,this.from=n,this.stop=u}return Ot(t,[{key:"toString",value:function(){return this.value}},{key:"extend",value:function(t){this.value+=String(t)}},{key:"appendTo",value:function(t){return t.append(this.toString(),{tail:!0})}},{key:"shiftBefore",value:function(t){if(this.from>=t||!this.value.length)return"";var e=this.value[0];return this.value=this.value.slice(1),e}},{key:"state",get:function(){return{value:this.value,from:this.from,stop:this.stop}},set:function(t){It(this,t)}}]),t}(),te=function(){function t(e){xt(this,t),this._value="",this._update(e),this.isInitialized=!0}return Ot(t,[{key:"updateOptions",value:function(t){Object.keys(t).length&&this.withValueRefresh(this._update.bind(this,t))}},{key:"_update",value:function(t){It(this,t)}},{key:"reset",value:function(){this._value=""}},{key:"resolve",value:function(t){return this.reset(),this.append(t,{input:!0},""),this.doCommit(),this.value}},{key:"nearestInputPos",value:function(t,e){return t}},{key:"extractInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return this.value.slice(t,e)}},{key:"extractTail",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return new Xt(this.extractInput(t,e),t)}},{key:"_storeBeforeTailState",value:function(){this._beforeTailState=this.state}},{key:"_restoreBeforeTailState",value:function(){this.state=this._beforeTailState}},{key:"_resetBeforeTailState",value:function(){this._beforeTailState=null}},{key:"appendTail",value:function(t){return Wt(t)&&(t=new Xt(String(t))),t.appendTo(this)}},{key:"_appendCharRaw",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(t=this.doPrepare(t,e))?(this._value+=t,new Qt({inserted:t,rawInserted:t})):new Qt}},{key:"_appendChar",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,u=this.state,i=this._appendCharRaw(t,e);if(i.inserted){var r,a=!1!==this.doValidate(e);if(a&&null!=n){this._storeBeforeTailState(),this.overwrite&&(r=n.state,n.shiftBefore(this.value.length));var s=this.appendTail(n);(a=s.rawInserted===n.toString())&&s.inserted&&this._restoreBeforeTailState()}a||(i.rawInserted=i.inserted="",this.state=u,n&&r&&(n.state=r))}return i}},{key:"append",value:function(t,e,n){if(!Wt(t))throw new Error("value should be string");for(var u=new Qt,i=Wt(n)?new Xt(String(n)):n,r=0;r<t.length;++r)u.aggregate(this._appendChar(t[r],e,i));return null!=i&&(this._storeBeforeTailState(),u.tailShift+=this.appendTail(i).tailShift),u}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return this._value=this.value.slice(0,t)+this.value.slice(e),new Qt}},{key:"withValueRefresh",value:function(t){if(this._refreshing||!this.isInitialized)return t();this._refreshing=!0;var e=this.unmaskedValue,n=this.value,u=t();return this.resolve(n)!==n&&(this.unmaskedValue=e),delete this._refreshing,u}},{key:"doPrepare",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.prepare?this.prepare(t,this,e):t}},{key:"doValidate",value:function(t){return(!this.validate||this.validate(this.value,this,t))&&(!this.parent||this.parent.doValidate(t))}},{key:"doCommit",value:function(){this.commit&&this.commit(this.value,this)}},{key:"splice",value:function(t,e,n,u){var i=t+e,r=this.extractTail(i),a=this.nearestInputPos(t,u);return new Qt({tailShift:a-t}).aggregate(this.remove(a)).aggregate(this.append(n,{input:!0},r))}},{key:"state",get:function(){return{_value:this.value}},set:function(t){this._value=t._value}},{key:"value",get:function(){return this._value},set:function(t){this.resolve(t)}},{key:"unmaskedValue",get:function(){return this.value},set:function(t){this.reset(),this.append(t,{},""),this.doCommit()}},{key:"typedValue",get:function(){return this.unmaskedValue},set:function(t){this.unmaskedValue=t}},{key:"rawInputValue",get:function(){return this.extractInput(0,this.value.length,{raw:!0})},set:function(t){this.reset(),this.append(t,{raw:!0},""),this.doCommit()}},{key:"isComplete",get:function(){return!0}}]),t}();function ee(t){if(null==t)throw new Error("mask property should be defined");return t instanceof RegExp?qt.IMask.MaskedRegExp:Wt(t)?qt.IMask.MaskedPattern:t instanceof Date||t===Date?qt.IMask.MaskedDate:t instanceof Number||"number"==typeof t||t===Number?qt.IMask.MaskedNumber:Array.isArray(t)||t===Array?qt.IMask.MaskedDynamic:t.prototype instanceof qt.IMask.Masked?t:t instanceof Function?qt.IMask.MaskedFunction:(console.warn("Mask not found for mask",t),qt.IMask.Masked)}function ne(t){var e=(t=Rt({},t)).mask;return e instanceof qt.IMask.Masked?e:new(ee(e))(t)}var ue={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./},ie=function(){function t(e){xt(this,t);var n=e.mask,u=Lt(e,["mask"]);this.masked=ne({mask:n}),It(this,u)}return Ot(t,[{key:"reset",value:function(){this._isFilled=!1,this.masked.reset()}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return 0===t&&e>=1?(this._isFilled=!1,this.masked.remove(t,e)):new Qt}},{key:"_appendChar",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._isFilled)return new Qt;var n=this.masked.state,u=this.masked._appendChar(t,e);return u.inserted&&!1===this.doValidate(e)&&(u.inserted=u.rawInserted="",this.masked.state=n),u.inserted||this.isOptional||this.lazy||e.input||(u.inserted=this.placeholderChar),u.skip=!u.inserted&&!this.isOptional,this._isFilled=Boolean(u.inserted),u}},{key:"append",value:function(){var t;return(t=this.masked).append.apply(t,arguments)}},{key:"_appendPlaceholder",value:function(){var t=new Qt;return this._isFilled||this.isOptional?t:(this._isFilled=!0,t.inserted=this.placeholderChar,t)}},{key:"extractTail",value:function(){var t;return(t=this.masked).extractTail.apply(t,arguments)}},{key:"appendTail",value:function(){var t;return(t=this.masked).appendTail.apply(t,arguments)}},{key:"extractInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,n=arguments.length>2?arguments[2]:void 0;return this.masked.extractInput(t,e,n)}},{key:"nearestInputPos",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$t.NONE,n=this.value.length,u=Math.min(Math.max(t,0),n);switch(e){case $t.LEFT:case $t.FORCE_LEFT:return this.isComplete?u:0;case $t.RIGHT:case $t.FORCE_RIGHT:return this.isComplete?u:n;case $t.NONE:default:return u}}},{key:"doValidate",value:function(){var t,e;return(t=this.masked).doValidate.apply(t,arguments)&&(!this.parent||(e=this.parent).doValidate.apply(e,arguments))}},{key:"doCommit",value:function(){this.masked.doCommit()}},{key:"value",get:function(){return this.masked.value||(this._isFilled&&!this.isOptional?this.placeholderChar:"")}},{key:"unmaskedValue",get:function(){return this.masked.unmaskedValue}},{key:"isComplete",get:function(){return Boolean(this.masked.value)||this.isOptional}},{key:"state",get:function(){return{masked:this.masked.state,_isFilled:this._isFilled}},set:function(t){this.masked.state=t.masked,this._isFilled=t._isFilled}}]),t}(),re=function(){function t(e){xt(this,t),It(this,e),this._value=""}return Ot(t,[{key:"reset",value:function(){this._isRawInput=!1,this._value=""}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._value.length;return this._value=this._value.slice(0,t)+this._value.slice(e),this._value||(this._isRawInput=!1),new Qt}},{key:"nearestInputPos",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$t.NONE,n=this._value.length;switch(e){case $t.LEFT:case $t.FORCE_LEFT:return 0;case $t.NONE:case $t.RIGHT:case $t.FORCE_RIGHT:default:return n}}},{key:"extractInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._value.length;return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).raw&&this._isRawInput&&this._value.slice(t,e)||""}},{key:"_appendChar",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Qt;if(this._value)return n;var u=this.char===t[0]&&(this.isUnmasking||e.input||e.raw)&&!e.tail;return u&&(n.rawInserted=this.char),this._value=n.inserted=this.char,this._isRawInput=u&&(e.raw||e.input),n}},{key:"_appendPlaceholder",value:function(){var t=new Qt;return this._value?t:(this._value=t.inserted=this.char,t)}},{key:"extractTail",value:function(){arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return new Xt("")}},{key:"appendTail",value:function(t){return Wt(t)&&(t=new Xt(String(t))),t.appendTo(this)}},{key:"append",value:function(t,e,n){var u=this._appendChar(t,e);return null!=n&&(u.tailShift+=this.appendTail(n).tailShift),u}},{key:"doCommit",value:function(){}},{key:"value",get:function(){return this._value}},{key:"unmaskedValue",get:function(){return this.isUnmasking?this.value:""}},{key:"isComplete",get:function(){return!0}},{key:"state",get:function(){return{_value:this._value,_isRawInput:this._isRawInput}},set:function(t){It(this,t)}}]),t}(),ae=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;xt(this,t),this.chunks=e,this.from=n}return Ot(t,[{key:"toString",value:function(){return this.chunks.map(String).join("")}},{key:"extend",value:function(e){if(String(e)){Wt(e)&&(e=new Xt(String(e)));var n=this.chunks[this.chunks.length-1],u=n&&(n.stop===e.stop||null==e.stop)&&e.from===n.from+n.toString().length;if(e instanceof Xt)u?n.extend(e.toString()):this.chunks.push(e);else if(e instanceof t){if(null==e.stop)for(var i;e.chunks.length&&null==e.chunks[0].stop;)(i=e.chunks.shift()).from+=e.from,this.extend(i);e.toString()&&(e.stop=e.blockIndex,this.chunks.push(e))}}}},{key:"appendTo",value:function(e){if(!(e instanceof qt.IMask.MaskedPattern))return new Xt(this.toString()).appendTo(e);for(var n=new Qt,u=0;u<this.chunks.length&&!n.skip;++u){var i=this.chunks[u],r=e._mapPosToBlock(e.value.length),a=i.stop,s=void 0;if(a&&(!r||r.index<=a)&&((i instanceof t||e._stops.indexOf(a)>=0)&&n.aggregate(e._appendPlaceholder(a)),s=i instanceof t&&e._blocks[a]),s){var o=s.appendTail(i);o.skip=!1,n.aggregate(o),e._value+=o.inserted;var l=i.toString().slice(o.rawInserted.length);l&&n.aggregate(e.append(l,{tail:!0}))}else n.aggregate(e.append(i.toString(),{tail:!0}))}return n}},{key:"shiftBefore",value:function(t){if(this.from>=t||!this.chunks.length)return"";for(var e=t-this.from,n=0;n<this.chunks.length;){var u=this.chunks[n],i=u.shiftBefore(e);if(u.toString()){if(!i)break;++n}else this.chunks.splice(n,1);if(i)return i}return""}},{key:"state",get:function(){return{chunks:this.chunks.map(function(t){return t.state}),from:this.from,stop:this.stop,blockIndex:this.blockIndex}},set:function(e){var n=e.chunks;It(this,Lt(e,["chunks"])),this.chunks=n.map(function(e){var n="chunks"in e?new t:new Xt;return n.state=e,n})}}]),t}(),se=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return xt(this,e),t.definitions=It({},ue,t.definitions),Ht(this,jt(e).call(this,Rt({},e.DEFAULTS,t)))}return Vt(e,te),Ot(e,[{key:"_update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.definitions=It({},this.definitions,t.definitions),zt(jt(e.prototype),"_update",this).call(this,t),this._rebuildMask()}},{key:"_rebuildMask",value:function(){var t=this,n=this.definitions;this._blocks=[],this._stops=[],this._maskedBlocks={};var u=this.mask;if(u&&n)for(var i=!1,r=!1,a=0;a<u.length;++a){if(this.blocks)if("continue"===function(){var e=u.slice(a),n=Object.keys(t.blocks).filter(function(t){return 0===e.indexOf(t)});n.sort(function(t,e){return e.length-t.length});var i=n[0];if(i){var r=ne(Rt({parent:t,lazy:t.lazy,placeholderChar:t.placeholderChar},t.blocks[i]));return r&&(t._blocks.push(r),t._maskedBlocks[i]||(t._maskedBlocks[i]=[]),t._maskedBlocks[i].push(t._blocks.length-1)),a+=i.length-1,"continue"}}())continue;var s=u[a],o=s in n;if(s!==e.STOP_CHAR)if("{"!==s&&"}"!==s)if("["!==s&&"]"!==s){if(s===e.ESCAPE_CHAR){if(!(s=u[++a]))break;o=!1}var l=o?new ie({parent:this,lazy:this.lazy,placeholderChar:this.placeholderChar,mask:n[s],isOptional:r}):new re({char:s,isUnmasking:i});this._blocks.push(l)}else r=!r;else i=!i;else this._stops.push(this._blocks.length)}}},{key:"_storeBeforeTailState",value:function(){this._blocks.forEach(function(t){"function"==typeof t._storeBeforeTailState&&t._storeBeforeTailState()}),zt(jt(e.prototype),"_storeBeforeTailState",this).call(this)}},{key:"_restoreBeforeTailState",value:function(){this._blocks.forEach(function(t){"function"==typeof t._restoreBeforeTailState&&t._restoreBeforeTailState()}),zt(jt(e.prototype),"_restoreBeforeTailState",this).call(this)}},{key:"_resetBeforeTailState",value:function(){this._blocks.forEach(function(t){"function"==typeof t._resetBeforeTailState&&t._resetBeforeTailState()}),zt(jt(e.prototype),"_resetBeforeTailState",this).call(this)}},{key:"reset",value:function(){zt(jt(e.prototype),"reset",this).call(this),this._blocks.forEach(function(t){return t.reset()})}},{key:"doCommit",value:function(){this._blocks.forEach(function(t){return t.doCommit()}),zt(jt(e.prototype),"doCommit",this).call(this)}},{key:"appendTail",value:function(t){return zt(jt(e.prototype),"appendTail",this).call(this,t).aggregate(this._appendPlaceholder())}},{key:"_appendCharRaw",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=this.doPrepare(t,e);var n=this._mapPosToBlock(this.value.length),u=new Qt;if(!n)return u;for(var i=n.index;;++i){var r=this._blocks[i];if(!r)break;var a=r._appendChar(t,e),s=a.skip;if(u.aggregate(a),s||a.rawInserted)break}return u}},{key:"extractTail",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,u=new ae;return e===n?u:(this._forEachBlocksInRange(e,n,function(e,n,i,r){var a=e.extractTail(i,r);a.stop=t._findStopBefore(n),a.from=t._blockStartPos(n),a instanceof ae&&(a.blockIndex=n),u.extend(a)}),u)}},{key:"extractInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t===e)return"";var u="";return this._forEachBlocksInRange(t,e,function(t,e,i,r){u+=t.extractInput(i,r,n)}),u}},{key:"_findStopBefore",value:function(t){for(var e,n=0;n<this._stops.length;++n){var u=this._stops[n];if(!(u<=t))break;e=u}return e}},{key:"_appendPlaceholder",value:function(t){var e=this,n=new Qt;if(this.lazy&&null==t)return n;var u=this._mapPosToBlock(this.value.length);if(!u)return n;var i=u.index,r=null!=t?t:this._blocks.length;return this._blocks.slice(i,r).forEach(function(u){if("function"==typeof u._appendPlaceholder&&(!u.lazy||null!=t)){var i=null!=u._blocks?[u._blocks.length]:[],r=u._appendPlaceholder.apply(u,i);e._value+=r.inserted,n.aggregate(r)}}),n}},{key:"_mapPosToBlock",value:function(t){for(var e="",n=0;n<this._blocks.length;++n){var u=this._blocks[n],i=e.length;if(t<=(e+=u.value).length)return{index:n,offset:t-i}}}},{key:"_blockStartPos",value:function(t){return this._blocks.slice(0,t).reduce(function(t,e){return t+e.value.length},0)}},{key:"_forEachBlocksInRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,n=arguments.length>2?arguments[2]:void 0,u=this._mapPosToBlock(t);if(u){var i=this._mapPosToBlock(e),r=i&&u.index===i.index,a=u.offset,s=i&&r?i.offset:this._blocks[u.index].value.length;if(n(this._blocks[u.index],u.index,a,s),i&&!r){for(var o=u.index+1;o<i.index;++o)n(this._blocks[o],o,0,this._blocks[o].value.length);n(this._blocks[i.index],i.index,0,i.offset)}}}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,u=zt(jt(e.prototype),"remove",this).call(this,t,n);return this._forEachBlocksInRange(t,n,function(t,e,n,i){u.aggregate(t.remove(n,i))}),u}},{key:"nearestInputPos",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$t.NONE,n=this._mapPosToBlock(t)||{index:0,offset:0},u=n.offset,i=n.index,r=this._blocks[i];if(!r)return t;var a=u;0!==a&&a<r.value.length&&(a=r.nearestInputPos(u,function(t){switch(t){case $t.LEFT:return $t.FORCE_LEFT;case $t.RIGHT:return $t.FORCE_RIGHT;default:return t}}(e)));var s=a===r.value.length;if(!(0===a)&&!s)return this._blockStartPos(i)+a;var o=s?i+1:i;if(e===$t.NONE){if(o>0){var l=o-1,h=this._blocks[l],c=h.nearestInputPos(0,$t.NONE);if(!h.value.length||c!==h.value.length)return this._blockStartPos(o)}for(var f=o;f<this._blocks.length;++f){var p=this._blocks[f],d=p.nearestInputPos(0,$t.NONE);if(d!==p.value.length)return this._blockStartPos(f)+d}return this.value.length}if(e===$t.LEFT||e===$t.FORCE_LEFT){for(var v,k=o;k<this._blocks.length;++k)if(this._blocks[k].value){v=k;break}if(null!=v){var g=this._blocks[v],y=g.nearestInputPos(0,$t.RIGHT);if(0===y&&g.unmaskedValue.length)return this._blockStartPos(v)+y}for(var m,_=-1,A=o-1;A>=0;--A){var C=this._blocks[A],F=C.nearestInputPos(C.value.length,$t.FORCE_LEFT);if(null!=m||C.value&&0===F||(m=A),0!==F){if(F!==C.value.length)return this._blockStartPos(A)+F;_=A;break}}if(e===$t.LEFT)for(var E=_+1;E<=Math.min(o,this._blocks.length-1);++E){var b=this._blocks[E],S=b.nearestInputPos(0,$t.NONE),B=this._blockStartPos(E)+S;if((!b.value.length&&B===this.value.length||S!==b.value.length)&&B<=t)return B}if(_>=0)return this._blockStartPos(_)+this._blocks[_].value.length;if(e===$t.FORCE_LEFT||this.lazy&&!this.extractInput()&&!function(t){if(!t)return!1;var e=t.value;return!e||t.nearestInputPos(0,$t.NONE)!==e.length}(this._blocks[o]))return 0;if(null!=m)return this._blockStartPos(m);for(var D=o;D<this._blocks.length;++D){var w=this._blocks[D],T=w.nearestInputPos(0,$t.NONE);if(!w.value.length||T!==w.value.length)return this._blockStartPos(D)+T}return 0}if(e===$t.RIGHT||e===$t.FORCE_RIGHT){for(var x,P,O=o;O<this._blocks.length;++O){var M=this._blocks[O],I=M.nearestInputPos(0,$t.NONE);if(I!==M.value.length){P=this._blockStartPos(O)+I,x=O;break}}if(null!=x&&null!=P){for(var R=x;R<this._blocks.length;++R){var V=this._blocks[R],j=V.nearestInputPos(0,$t.FORCE_RIGHT);if(j!==V.value.length)return this._blockStartPos(R)+j}return e===$t.FORCE_RIGHT?this.value.length:P}for(var N=Math.min(o,this._blocks.length-1);N>=0;--N){var L=this._blocks[N],H=L.nearestInputPos(L.value.length,$t.LEFT);if(0!==H){var G=this._blockStartPos(N)+H;if(G>=t)return G;break}}}return t}},{key:"maskedBlock",value:function(t){return this.maskedBlocks(t)[0]}},{key:"maskedBlocks",value:function(t){var e=this,n=this._maskedBlocks[t];return n?n.map(function(t){return e._blocks[t]}):[]}},{key:"state",get:function(){return Rt({},zt(jt(e.prototype),"state",this),{_blocks:this._blocks.map(function(t){return t.state})})},set:function(t){var n=t._blocks,u=Lt(t,["_blocks"]);this._blocks.forEach(function(t,e){return t.state=n[e]}),Yt(jt(e.prototype),"state",u,this,!0)}},{key:"isComplete",get:function(){return this._blocks.every(function(t){return t.isComplete})}},{key:"unmaskedValue",get:function(){return this._blocks.reduce(function(t,e){return t+e.unmaskedValue},"")},set:function(t){Yt(jt(e.prototype),"unmaskedValue",t,this,!0)}},{key:"value",get:function(){return this._blocks.reduce(function(t,e){return t+e.value},"")},set:function(t){Yt(jt(e.prototype),"value",t,this,!0)}}]),e}();se.DEFAULTS={lazy:!0,placeholderChar:"_"},se.STOP_CHAR="`",se.ESCAPE_CHAR="\\",se.InputDefinition=ie,se.FixedDefinition=re;var oe=function(t){function e(){return xt(this,e),Ht(this,jt(e).apply(this,arguments))}return Vt(e,se),Ot(e,[{key:"_update",value:function(t){t=Rt({to:this.to||0,from:this.from||0},t);var n=String(t.to).length;null!=t.maxLength&&(n=Math.max(n,t.maxLength)),t.maxLength=n;for(var u=String(t.from).padStart(n,"0"),i=String(t.to).padStart(n,"0"),r=0;r<i.length&&i[r]===u[r];)++r;t.mask=i.slice(0,r).replace(/0/g,"\\0")+"0".repeat(n-r),zt(jt(e.prototype),"_update",this).call(this,t)}},{key:"boundaries",value:function(t){var e="",n="",u=Zt(t.match(/^(\D*)(\d*)(\D*)/)||[],3),i=u[1],r=u[2];return r&&(e="0".repeat(i.length)+r,n="9".repeat(i.length)+r),[e=e.padEnd(this.maxLength,"0"),n=n.padEnd(this.maxLength,"9")]}},{key:"doPrepare",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t=zt(jt(e.prototype),"doPrepare",this).call(this,t,n).replace(/\D/g,""),!this.autofix)return t;for(var u=String(this.from).padStart(this.maxLength,"0"),i=String(this.to).padStart(this.maxLength,"0"),r=this.value,a="",s=0;s<t.length;++s){var o=r+a+t[s],l=Zt(this.boundaries(o),2),h=l[0],c=l[1];Number(c)<this.from?a+=u[o.length-1]:Number(h)>this.to?a+=i[o.length-1]:a+=t[s]}return a}},{key:"doValidate",value:function(){var t,n=this.value;if(-1===n.search(/[^0]/)&&n.length<=this._matchFrom)return!0;for(var u=Zt(this.boundaries(n),2),i=u[0],r=u[1],a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return this.from<=Number(r)&&Number(i)<=this.to&&(t=zt(jt(e.prototype),"doValidate",this)).call.apply(t,[this].concat(s))}},{key:"_matchFrom",get:function(){return this.maxLength-String(this.from).length}},{key:"isComplete",get:function(){return zt(jt(e.prototype),"isComplete",this)&&Boolean(this.value)}}]),e}(),le=function(t){function e(t){return xt(this,e),Ht(this,jt(e).call(this,Rt({},e.DEFAULTS,t)))}return Vt(e,se),Ot(e,[{key:"_update",value:function(t){t.mask===Date&&delete t.mask,t.pattern&&(t.mask=t.pattern);var n=t.blocks;t.blocks=It({},e.GET_DEFAULT_BLOCKS()),t.min&&(t.blocks.Y.from=t.min.getFullYear()),t.max&&(t.blocks.Y.to=t.max.getFullYear()),t.min&&t.max&&t.blocks.Y.from===t.blocks.Y.to&&(t.blocks.m.from=t.min.getMonth()+1,t.blocks.m.to=t.max.getMonth()+1,t.blocks.m.from===t.blocks.m.to&&(t.blocks.d.from=t.min.getDate(),t.blocks.d.to=t.max.getDate())),It(t.blocks,n),Object.keys(t.blocks).forEach(function(e){var n=t.blocks[e];"autofix"in n||(n.autofix=t.autofix)}),zt(jt(e.prototype),"_update",this).call(this,t)}},{key:"doValidate",value:function(){for(var t,n=this.date,u=arguments.length,i=new Array(u),r=0;r<u;r++)i[r]=arguments[r];return(t=zt(jt(e.prototype),"doValidate",this)).call.apply(t,[this].concat(i))&&(!this.isComplete||this.isDateExist(this.value)&&null!=n&&(null==this.min||this.min<=n)&&(null==this.max||n<=this.max))}},{key:"isDateExist",value:function(t){return this.format(this.parse(t))===t}},{key:"date",get:function(){return this.isComplete?this.parse(this.value):null},set:function(t){this.value=this.format(t)}},{key:"typedValue",get:function(){return this.date},set:function(t){this.date=t}}]),e}();le.DEFAULTS={pattern:"d{.}`m{.}`Y",format:function(t){return[String(t.getDate()).padStart(2,"0"),String(t.getMonth()+1).padStart(2,"0"),t.getFullYear()].join(".")},parse:function(t){var e=Zt(t.split("."),3),n=e[0],u=e[1],i=e[2];return new Date(i,u-1,n)}},le.GET_DEFAULT_BLOCKS=function(){return{d:{mask:oe,from:1,to:31,maxLength:2},m:{mask:oe,from:1,to:12,maxLength:2},Y:{mask:oe,from:1900,to:9999}}};var he=function(){function t(){xt(this,t)}return Ot(t,[{key:"select",value:function(t,e){if(null!=t&&null!=e&&(t!==this.selectionStart||e!==this.selectionEnd))try{this._unsafeSelect(t,e)}catch(t){}}},{key:"_unsafeSelect",value:function(t,e){}},{key:"bindEvents",value:function(t){}},{key:"unbindEvents",value:function(){}},{key:"selectionStart",get:function(){var t;try{t=this._unsafeSelectionStart}catch(t){}return null!=t?t:this.value.length}},{key:"selectionEnd",get:function(){var t;try{t=this._unsafeSelectionEnd}catch(t){}return null!=t?t:this.value.length}},{key:"isActive",get:function(){return!1}}]),t}(),ce=function(t){function e(t){var n;return xt(this,e),(n=Ht(this,jt(e).call(this))).input=t,n._handlers={},n}return Vt(e,he),Ot(e,[{key:"_unsafeSelect",value:function(t,e){this.input.setSelectionRange(t,e)}},{key:"bindEvents",value:function(t){var n=this;Object.keys(t).forEach(function(u){return n._toggleEventHandler(e.EVENTS_MAP[u],t[u])})}},{key:"unbindEvents",value:function(){var t=this;Object.keys(this._handlers).forEach(function(e){return t._toggleEventHandler(e)})}},{key:"_toggleEventHandler",value:function(t,e){this._handlers[t]&&(this.input.removeEventListener(t,this._handlers[t]),delete this._handlers[t]),e&&(this.input.addEventListener(t,e),this._handlers[t]=e)}},{key:"isActive",get:function(){return this.input===document.activeElement}},{key:"_unsafeSelectionStart",get:function(){return this.input.selectionStart}},{key:"_unsafeSelectionEnd",get:function(){return this.input.selectionEnd}},{key:"value",get:function(){return this.input.value},set:function(t){this.input.value=t}}]),e}();ce.EVENTS_MAP={selectionChange:"keydown",input:"input",drop:"drop",click:"click",focus:"focus",commit:"blur"};var fe=function(){function t(e,n){xt(this,t),this.el=e instanceof he?e:new ce(e),this.masked=ne(n),this._listeners={},this._value="",this._unmaskedValue="",this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}return Ot(t,[{key:"_bindEvents",value:function(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this.alignCursorFriendly,focus:this._onFocus,commit:this._onChange})}},{key:"_unbindEvents",value:function(){this.el.unbindEvents()}},{key:"_fireEvent",value:function(t){var e=this._listeners[t];e&&e.forEach(function(t){return t()})}},{key:"_saveSelection",value:function(){this.value!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}},{key:"updateValue",value:function(){this.masked.value=this.el.value,this._value=this.masked.value}},{key:"updateControl",value:function(){var t=this.masked.unmaskedValue,e=this.masked.value,n=this.unmaskedValue!==t||this.value!==e;this._unmaskedValue=t,this._value=e,this.el.value!==e&&(this.el.value=e),n&&this._fireChangeEvents()}},{key:"updateOptions",value:function(t){var e=t.mask,n=Lt(t,["mask"]);this.mask=e,function t(e,n){if(n===e)return!0;var u,i=Array.isArray(n),r=Array.isArray(e);if(i&&r){if(n.length!=e.length)return!1;for(u=0;u<n.length;u++)if(!t(n[u],e[u]))return!1;return!0}if(i!=r)return!1;if(n&&e&&"object"===Tt(n)&&"object"===Tt(e)){var a=n instanceof Date,s=e instanceof Date;if(a&&s)return n.getTime()==e.getTime();if(a!=s)return!1;var o=n instanceof RegExp,l=e instanceof RegExp;if(o&&l)return n.toString()==e.toString();if(o!=l)return!1;var h=Object.keys(n);for(u=0;u<h.length;u++)if(!Object.prototype.hasOwnProperty.call(e,h[u]))return!1;for(u=0;u<h.length;u++)if(!t(e[h[u]],n[h[u]]))return!1;return!0}return!(!n||!e||"function"!=typeof n||"function"!=typeof e)&&n.toString()===e.toString()}(this.masked,n)||this.masked.updateOptions(n),this.updateControl()}},{key:"updateCursor",value:function(t){null!=t&&(this.cursorPos=t,this._delayUpdateCursor(t))}},{key:"_delayUpdateCursor",value:function(t){var e=this;this._abortUpdateCursor(),this._changingCursorPos=t,this._cursorChanging=setTimeout(function(){e.el&&(e.cursorPos=e._changingCursorPos,e._abortUpdateCursor())},10)}},{key:"_fireChangeEvents",value:function(){this._fireEvent("accept"),this.masked.isComplete&&this._fireEvent("complete")}},{key:"_abortUpdateCursor",value:function(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}},{key:"alignCursor",value:function(){this.cursorPos=this.masked.nearestInputPos(this.cursorPos,$t.LEFT)}},{key:"alignCursorFriendly",value:function(){this.selectionStart===this.cursorPos&&this.alignCursor()}},{key:"on",value:function(t,e){return this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e),this}},{key:"off",value:function(t,e){if(!this._listeners[t])return this;if(!e)return delete this._listeners[t],this;var n=this._listeners[t].indexOf(e);return n>=0&&this._listeners[t].splice(n,1),this}},{key:"_onInput",value:function(){if(this._abortUpdateCursor(),!this._selection)return this.updateValue();var t=new Jt(this.el.value,this.cursorPos,this.value,this._selection),e=this.masked.rawInputValue,n=this.masked.splice(t.startChangePos,t.removed.length,t.inserted,t.removeDirection).offset,u=e===this.masked.rawInputValue?t.removeDirection:$t.NONE,i=this.masked.nearestInputPos(t.startChangePos+n,u);this.updateControl(),this.updateCursor(i)}},{key:"_onChange",value:function(){this.value!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}},{key:"_onDrop",value:function(t){t.preventDefault(),t.stopPropagation()}},{key:"_onFocus",value:function(t){this.selectionStart===this.cursorPos&&(this._selection&&(this.cursorPos=this._selection.end),this.alignCursorFriendly())}},{key:"destroy",value:function(){this._unbindEvents(),this._listeners.length=0,delete this.el}},{key:"mask",get:function(){return this.masked.mask},set:function(t){if(!(null==t||t===this.masked.mask||t===Date&&this.masked instanceof le))if(this.masked.constructor!==ee(t)){var e=ne({mask:t});e.unmaskedValue=this.masked.unmaskedValue,this.masked=e}else this.masked.updateOptions({mask:t})}},{key:"value",get:function(){return this._value},set:function(t){this.masked.value=t,this.updateControl(),this.alignCursor()}},{key:"unmaskedValue",get:function(){return this._unmaskedValue},set:function(t){this.masked.unmaskedValue=t,this.updateControl(),this.alignCursor()}},{key:"typedValue",get:function(){return this.masked.typedValue},set:function(t){this.masked.typedValue=t,this.updateControl(),this.alignCursor()}},{key:"selectionStart",get:function(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}},{key:"cursorPos",get:function(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd},set:function(t){this.el.isActive&&(this.el.select(t,t),this._saveSelection())}}]),t}(),pe=function(t){function e(){return xt(this,e),Ht(this,jt(e).apply(this,arguments))}return Vt(e,se),Ot(e,[{key:"_update",value:function(t){t.enum&&(t.mask="*".repeat(t.enum[0].length)),zt(jt(e.prototype),"_update",this).call(this,t)}},{key:"doValidate",value:function(){for(var t,n=this,u=arguments.length,i=new Array(u),r=0;r<u;r++)i[r]=arguments[r];return this.enum.some(function(t){return t.indexOf(n.unmaskedValue)>=0})&&(t=zt(jt(e.prototype),"doValidate",this)).call.apply(t,[this].concat(i))}}]),e}(),de=function(t){function e(t){return xt(this,e),Ht(this,jt(e).call(this,Rt({},e.DEFAULTS,t)))}return Vt(e,te),Ot(e,[{key:"_update",value:function(t){zt(jt(e.prototype),"_update",this).call(this,t),this._updateRegExps()}},{key:"_updateRegExps",value:function(){var t="^"+(this.allowNegative?"[+|\\-]?":""),e=(this.scale?"("+Kt(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExpInput=new RegExp(t+"(0|([1-9]+\\d*))?"+e),this._numberRegExp=new RegExp(t+"\\d*"+e),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(Kt).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(Kt(this.thousandsSeparator),"g")}},{key:"_removeThousandsSeparators",value:function(t){return t.replace(this._thousandsSeparatorRegExp,"")}},{key:"_insertThousandsSeparators",value:function(t){var e=t.split(this.radix);return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),e.join(this.radix)}},{key:"doPrepare",value:function(t){for(var n,u=arguments.length,i=new Array(u>1?u-1:0),r=1;r<u;r++)i[r-1]=arguments[r];return(n=zt(jt(e.prototype),"doPrepare",this)).call.apply(n,[this,this._removeThousandsSeparators(t.replace(this._mapToRadixRegExp,this.radix))].concat(i))}},{key:"_separatorsCount",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0,u=0;u<t;++u)this._value.indexOf(this.thousandsSeparator,u)===u&&(++n,e&&(t+=this.thousandsSeparator.length));return n}},{key:"_separatorsCountFromSlice",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._value;return this._separatorsCount(this._removeThousandsSeparators(t).length,!0)}},{key:"extractInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,u=arguments.length>2?arguments[2]:void 0,i=Zt(this._adjustRangeWithSeparators(t,n),2);return t=i[0],n=i[1],this._removeThousandsSeparators(zt(jt(e.prototype),"extractInput",this).call(this,t,n,u))}},{key:"_appendCharRaw",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.thousandsSeparator)return zt(jt(e.prototype),"_appendCharRaw",this).call(this,t,n);var u=this._separatorsCountFromSlice(n.tail&&this._beforeTailState?this._beforeTailState._value:this._value);this._value=this._removeThousandsSeparators(this.value);var i=zt(jt(e.prototype),"_appendCharRaw",this).call(this,t,n);this._value=this._insertThousandsSeparators(this._value);var r=this._separatorsCountFromSlice(n.tail&&this._beforeTailState?this._beforeTailState._value:this._value);return i.tailShift+=(r-u)*this.thousandsSeparator.length,i}},{key:"_findSeparatorAround",value:function(t){if(this.thousandsSeparator){var e=t-this.thousandsSeparator.length+1,n=this.value.indexOf(this.thousandsSeparator,e);if(n<=t)return n}return-1}},{key:"_adjustRangeWithSeparators",value:function(t,e){var n=this._findSeparatorAround(t);n>=0&&(t=n);var u=this._findSeparatorAround(e);return u>=0&&(e=u+this.thousandsSeparator.length),[t,e]}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,n=Zt(this._adjustRangeWithSeparators(t,e),2);t=n[0],e=n[1];var u=this.value.slice(0,t),i=this.value.slice(e),r=this._separatorsCount(u.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(u+i));var a=this._separatorsCountFromSlice(u);return new Qt({tailShift:(a-r)*this.thousandsSeparator.length})}},{key:"nearestInputPos",value:function(t,e){if(!this.thousandsSeparator)return t;switch(e){case $t.NONE:case $t.LEFT:case $t.FORCE_LEFT:var n=this._findSeparatorAround(t-1);if(n>=0){var u=n+this.thousandsSeparator.length;if(t<u||this.value.length<=u||e===$t.FORCE_LEFT)return n}break;case $t.RIGHT:case $t.FORCE_RIGHT:var i=this._findSeparatorAround(t);if(i>=0)return i+this.thousandsSeparator.length}return t}},{key:"doValidate",value:function(t){var n=(t.input?this._numberRegExpInput:this._numberRegExp).test(this._removeThousandsSeparators(this.value));if(n){var u=this.number;n=n&&!isNaN(u)&&(null==this.min||this.min>=0||this.min<=this.number)&&(null==this.max||this.max<=0||this.number<=this.max)}return n&&zt(jt(e.prototype),"doValidate",this).call(this,t)}},{key:"doCommit",value:function(){if(this.value){var t=this.number,n=t;null!=this.min&&(n=Math.max(n,this.min)),null!=this.max&&(n=Math.min(n,this.max)),n!==t&&(this.unmaskedValue=String(n));var u=this.value;this.normalizeZeros&&(u=this._normalizeZeros(u)),this.padFractionalZeros&&(u=this._padFractionalZeros(u)),this._value=u}zt(jt(e.prototype),"doCommit",this).call(this)}},{key:"_normalizeZeros",value:function(t){var e=this._removeThousandsSeparators(t).split(this.radix);return e[0]=e[0].replace(/^(\D*)(0*)(\d*)/,function(t,e,n,u){return e+u}),t.length&&!/\d$/.test(e[0])&&(e[0]=e[0]+"0"),e.length>1&&(e[1]=e[1].replace(/0*$/,""),e[1].length||(e.length=1)),this._insertThousandsSeparators(e.join(this.radix))}},{key:"_padFractionalZeros",value:function(t){if(!t)return t;var e=t.split(this.radix);return e.length<2&&e.push(""),e[1]=e[1].padEnd(this.scale,"0"),e.join(this.radix)}},{key:"unmaskedValue",get:function(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,".")},set:function(t){Yt(jt(e.prototype),"unmaskedValue",t.replace(".",this.radix),this,!0)}},{key:"number",get:function(){return Number(this.unmaskedValue)},set:function(t){this.unmaskedValue=String(t)}},{key:"typedValue",get:function(){return this.number},set:function(t){this.number=t}},{key:"allowNegative",get:function(){return this.signed||null!=this.min&&this.min<0||null!=this.max&&this.max<0}}]),e}();de.DEFAULTS={radix:",",thousandsSeparator:"",mapToRadix:["."],scale:2,signed:!1,normalizeZeros:!0,padFractionalZeros:!1};var ve=function(t){function e(){return xt(this,e),Ht(this,jt(e).apply(this,arguments))}return Vt(e,te),Ot(e,[{key:"_update",value:function(t){t.mask&&(t.validate=function(e){return e.search(t.mask)>=0}),zt(jt(e.prototype),"_update",this).call(this,t)}}]),e}(),ke=function(t){function e(){return xt(this,e),Ht(this,jt(e).apply(this,arguments))}return Vt(e,te),Ot(e,[{key:"_update",value:function(t){t.mask&&(t.validate=t.mask),zt(jt(e.prototype),"_update",this).call(this,t)}}]),e}(),ge=function(t){function e(t){var n;return xt(this,e),(n=Ht(this,jt(e).call(this,Rt({},e.DEFAULTS,t)))).currentMask=null,n}return Vt(e,te),Ot(e,[{key:"_update",value:function(t){zt(jt(e.prototype),"_update",this).call(this,t),"mask"in t&&(this.compiledMasks=Array.isArray(t.mask)?t.mask.map(function(t){return ne(t)}):[])}},{key:"_appendCharRaw",value:function(){var t,e=this._applyDispatch.apply(this,arguments);this.currentMask&&e.aggregate((t=this.currentMask)._appendChar.apply(t,arguments));return e}},{key:"_applyDispatch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.tail&&this._beforeTailState?this._beforeTailState._value:this.value,u=this.rawInputValue,i=e.tail&&this._beforeTailState?this._beforeTailState._rawInputValue:u,r=u.slice(i.length),a=this.currentMask,s=new Qt,o=a&&a.state,l=a&&a._beforeTailState;if(this.currentMask=this.doDispatch(t,e),this.currentMask)if(this.currentMask!==a){this.currentMask.reset();var h=this.currentMask.append(i,{raw:!0});s.tailShift=h.inserted.length-n.length,r&&(s.tailShift+=this.currentMask.append(r,{raw:!0,tail:!0}).tailShift)}else this.currentMask.state=o,this.currentMask._beforeTailState=l;return s}},{key:"doDispatch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.dispatch(t,this,e)}},{key:"doValidate",value:function(){for(var t,n,u=arguments.length,i=new Array(u),r=0;r<u;r++)i[r]=arguments[r];return(t=zt(jt(e.prototype),"doValidate",this)).call.apply(t,[this].concat(i))&&(!this.currentMask||(n=this.currentMask).doValidate.apply(n,i))}},{key:"reset",value:function(){this.currentMask&&this.currentMask.reset(),this.compiledMasks.forEach(function(t){return t.reset()})}},{key:"remove",value:function(){var t,e=new Qt;this.currentMask&&e.aggregate((t=this.currentMask).remove.apply(t,arguments)).aggregate(this._applyDispatch());return e}},{key:"extractInput",value:function(){var t;return this.currentMask?(t=this.currentMask).extractInput.apply(t,arguments):""}},{key:"extractTail",value:function(){for(var t,n,u=arguments.length,i=new Array(u),r=0;r<u;r++)i[r]=arguments[r];return this.currentMask?(t=this.currentMask).extractTail.apply(t,i):(n=zt(jt(e.prototype),"extractTail",this)).call.apply(n,[this].concat(i))}},{key:"doCommit",value:function(){this.currentMask&&this.currentMask.doCommit(),zt(jt(e.prototype),"doCommit",this).call(this)}},{key:"nearestInputPos",value:function(){for(var t,n,u=arguments.length,i=new Array(u),r=0;r<u;r++)i[r]=arguments[r];return this.currentMask?(t=this.currentMask).nearestInputPos.apply(t,i):(n=zt(jt(e.prototype),"nearestInputPos",this)).call.apply(n,[this].concat(i))}},{key:"value",get:function(){return this.currentMask?this.currentMask.value:""},set:function(t){Yt(jt(e.prototype),"value",t,this,!0)}},{key:"unmaskedValue",get:function(){return this.currentMask?this.currentMask.unmaskedValue:""},set:function(t){Yt(jt(e.prototype),"unmaskedValue",t,this,!0)}},{key:"typedValue",get:function(){return this.currentMask?this.currentMask.typedValue:""},set:function(t){var e=String(t);this.currentMask&&(this.currentMask.typedValue=t,e=this.currentMask.unmaskedValue),this.unmaskedValue=e}},{key:"isComplete",get:function(){return!!this.currentMask&&this.currentMask.isComplete}},{key:"state",get:function(){return Rt({},zt(jt(e.prototype),"state",this),{_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map(function(t){return t.state}),currentMaskRef:this.currentMask,currentMask:this.currentMask&&this.currentMask.state})},set:function(t){var n=t.compiledMasks,u=t.currentMaskRef,i=t.currentMask,r=Lt(t,["compiledMasks","currentMaskRef","currentMask"]);this.compiledMasks.forEach(function(t,e){return t.state=n[e]}),null!=u&&(this.currentMask=u,this.currentMask.state=i),Yt(jt(e.prototype),"state",r,this,!0)}}]),e}();function ye(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new fe(t,e)}return ge.DEFAULTS={dispatch:function(t,e,n){if(e.compiledMasks.length){var u=e.rawInputValue,i=e.compiledMasks.map(function(e,i){return e.rawInputValue=u,e.append(t,n),{weight:e.rawInputValue.length,index:i}});return i.sort(function(t,e){return e.weight-t.weight}),e.compiledMasks[i[0].index]}}},ye.InputMask=fe,ye.Masked=te,ye.MaskedPattern=se,ye.MaskedEnum=pe,ye.MaskedRange=oe,ye.MaskedNumber=de,ye.MaskedDate=le,ye.MaskedRegExp=ve,ye.MaskedFunction=ke,ye.MaskedDynamic=ge,ye.createMask=ne,ye.MaskElement=he,ye.HTMLMaskElement=ce,qt.IMask=ye,ye});function getURLVar(key){var value=[];var query=String(document.location).split('?');if(query[1]){var part=query[1].split('&');for(i=0;i<part.length;i++){var data=part[i].split('=');if(data[0]&&data[1]){value[data[0]]=data[1]}}
if(value[key]){return value[key]}else{return ''}}}
$(document).ready(function(){$('.text-danger').each(function(){var element=$(this).parent().parent();if(element.hasClass('form-group')){element.addClass('has-error')}});$('#form-currency .currency-select').on('click',function(e){e.preventDefault();$('#form-currency input[name=\'code\']').val($(this).attr('name'));$('#form-currency').submit()});$('#form-language .language-select').on('click',function(e){e.preventDefault();$('#form-language input[name=\'code\']').val($(this).attr('name'));$('#form-language').submit()});$('#search input[name=\'search\']').parent().find('button').on('click',function(){var url='//'+window.location.hostname+'/index.php?route=product/search';var value=jQuery('#search input[name=\'search\']').val();if(value){url+='&search='+encodeURIComponent(value)}
location=url});$('#search input[name=\'search\']').on('keydown',function(e){if(e.keyCode==13){$('header #search input[name=\'search\']').parent().find('button').trigger('click')}});$('#menu .dropdown-menu').each(function(){var menu=$('#menu').offset();var dropdown=$(this).parent().offset();var i=(dropdown.left+$(this).outerWidth())-(menu.left+$('#menu').outerWidth());if(i>0){$(this).css('margin-left','-'+(i+10)+'px')}});$(document).on('keydown','#collapse-checkout-option input[name=\'email\'], #collapse-checkout-option input[name=\'password\']',function(e){if(e.keyCode==13){$('#collapse-checkout-option #button-login').trigger('click')}});$(document).on('click','a.follow-to-link',function(e){e.preventDefault();window.parent.location=$(this).attr('href');return!1});$('[data-toggle=\'tooltip\']').tooltip({container:'body'});$(document).ajaxStop(function(){$('[data-toggle=\'tooltip\']').tooltip({container:'body'})});var ip_fields=$('#ip_fields');$('#is_ip input').change(function(){if($(this).val()==='1'){ip_fields.show();ip_fields.find('.form-group').addClass('required')}else{ip_fields.hide();ip_fields.find('.form-group').removeClass('required')}})});function sendYandexMark(mark){if(typeof yandexMarks!='undefined'){yandexMarks.reachGoal(mark)}}
function goToCheckoutUrl(){sendYandexMark('Kupit_korzina');setTimeout(function(){window.location=jQuery('.success .checkout-link').attr('href')},300);return!1}
function goToCompareUrl(){window.location.href=jQuery('.success .compare-link').attr('href');return!1}
var success_close_img='/catalog/view/theme/default/image/close.png';var cart={'add':function(product_id,mark,quantity){$.ajax({url:'/index.php?route=checkout/cart/add',type:'post',data:'product_id='+product_id+'&quantity='+(typeof(quantity)!='undefined'?quantity:1),dataType:'json',beforeSend:function(){fadeOutSuccess(100)},complete:function(){},success:function(json){$('.alert, .text-danger').remove();if(json.redirect){location=json.redirect}
if(json.success){sendYandexMark(mark);cart.success(json)}}})},'button_success':'В корзину','button_continue':'Продолжить покупки','success':function(json,button_cart){$('body').prepend('<div class="success">'+json.success+'<img src="'+success_close_img+'" alt="" class="close" onclick="js:fadeOutSuccess()"/>\
        <div style="clear: both;"></div><br /><br />\
        <div style="float:left;"><a onclick="js:fadeOutSuccess()" class="success_button">'+cart.button_continue+'</a></div>\
        <div style="float:right;"><a onclick="js:goToCheckoutUrl()" class="success_button">'+cart.button_success+'</a></div>\
      </div>');$('.success').fadeIn('slow');cart.upd_cart(json);if(json.products)ecommerce.yandex.send(json.products)},'upd_cart':function(json){$('#cart-total, span[id^=cart-total]').html(json.total)},'update':function($this){$.ajax({url:'/index.php?route=checkout/cart/edit',type:'post',data:jQuery($this).closest('form').serialize(),dataType:'json',success:function(json){if(json.products)
ecommerce.yandex.send(json.products);cart.update_form();cart.upd_update_remove(json)}})},'remove':function(key){$.ajax({url:'/index.php?route=checkout/cart/remove',type:'post',data:'key='+key,dataType:'json',success:function(json){if(json.products)
ecommerce.yandex.send(json.products);cart.update_form();cart.upd_update_remove(json)}})},'update_form':function(checked){var pathname=document.location.pathname;var pm=checked||0;if(getURLVar('route')==='checkout/cart'||getURLVar('route')==='checkout/buy'||getURLVar('route')==='checkout/checkout'||pathname==='/cart'||pathname==='/checkout'||pathname==='/buy'){var from=jQuery('#buy_form_container');if(from.length>0){jQuery('.tooltip').hide();from.load('/index.php?route=checkout/buy/getForm'+'&pm='+pm,function(response,status,xhr){if(response){getShippingMethods()}else{window.location.reload()}})}else{setTimeout(function(){window.location.reload()},100)}}},'upd_update_remove':function(json){var cart=$('#cart');if(cart.find('ul').length>0){cart.find('ul').load('/index.php?route=common/cart/info ul li')}else{cart.load('/index.php?route=common/cart/info')}
setTimeout(function(){$('#cart-total, span[id^=cart-total]').html(json.total)},100)}};var voucher={'add':function(){},'remove':function(key){$.ajax({url:'/index.php?route=checkout/cart/remove',type:'post',data:'key='+key,dataType:'json',beforeSend:function(){$('#cart > button').button('loading')},complete:function(){$('#cart > button').button('reset')},success:function(json){setTimeout(function(){$('#cart > button').html('<span id="cart-total"><i class="fa fa-shopping-cart"></i> '+json.total+'</span>')},100);if(getURLVar('route')=='checkout/cart'||getURLVar('route')=='checkout/checkout'){location='/index.php?route=checkout/cart'}else{$('#cart > ul').load('/index.php?route=common/cart/info ul li')}},error:function(xhr,ajaxOptions,thrownError){alert(thrownError+"\r\n"+xhr.statusText+"\r\n"+xhr.responseText)}})}};var wishlist={'add':function(product_id){$.ajax({url:'/index.php?route=account/wishlist/add',type:'post',data:'product_id='+product_id,dataType:'json',success:function(json){$('.alert').remove();if(json.redirect){location=json.redirect}
if(json.success){$('#content').parent().before('<div class="alert alert-success"><i class="fa fa-check-circle"></i> '+json.success+' <button type="button" class="close" data-dismiss="alert">&times;</button></div>')}
$('#wishlist-total span').html(json.total);$('#wishlist-total').attr('title',json.total)},error:function(xhr,ajaxOptions,thrownError){alert(thrownError+"\r\n"+xhr.statusText+"\r\n"+xhr.responseText)}})},'remove':function(){}};var compare={'add':function(product_id){$.ajax({url:'/index.php?route=product/compare/add',type:'post',data:'product_id='+product_id,dataType:'json',beforeSend:function(){fadeOutSuccess(100)},success:function(json){$('.alert').remove();if(json.success){parent.compare.success(json)}},error:function(xhr,ajaxOptions,thrownError){alert(thrownError+"\r\n"+xhr.statusText+"\r\n"+xhr.responseText)}})},'success':function(json,button_cart){$('body').prepend('<div class="success">'+json.success+'<img src="'+success_close_img+'" alt="" class="close" onclick="js:fadeOutSuccess()"/>\
        <div style="clear: both;"></div><br /><br />\
        <div style="float:left;"><a onclick="js:fadeOutSuccess()" class="success_button">Продолжить покупки</a></div>\
        <div style="float:right;"><a onclick="js:goToCompareUrl()" class="success_button">В сравнение</a></div>\
      </div>');$('.success').fadeIn('slow');compare.upd_compare(json)},'remove':function(){},'upd_compare':function(json){$('#compare-total').html(json.total)}};var errorMessage={'send':function(){$.ajax({url:'/index.php?route=error/user_error_redirect',type:'post',data:$('#send-error-form').serialize(),dataType:'json',success:function(json){$('#err_comment').remove();$('#err_text').remove();$('#err_from').remove();if(json.success){$('#send-error-form').html('<p class="text-center">Спасибо за ваше сообщение!<br/>Мы исправим ошибку в ближайшее время!</p>')}}})},'success':function(errorPageUrl,errorText){$('body').prepend('<div class="success send-error">'+'<div class="close" onclick="js:fadeOutSuccess()">'+'<svg viewBox="0 0 10 10" style="width:30px;height:30px;stroke: #000;stroke-width: 1px;">'+'<path d="M2,8 L8,2" class="p1"/>'+'<path d="M2,2 L8,8" class="p3"/>'+'</svg>'+'</div>'+'<h2 class="text-center">Сообщить об ошибке</h2>'+'<form id="send-error-form" method="post">'+'<p class="text-center">Расскажите о найденной ошибке, и мы её исправим.<br/>Спасибо за помощь!</p>'+'<div class="text-center">'+'<textarea name="from" id="from" placeholder="Адрес" style="width: 100%;resize:none;">'+errorPageUrl+'</textarea>'+'</div>'+'<div id="err_from" class="validationError"></div>'+'<div class="text-center">'+'<textarea name="text" id="text" placeholder="Ошибка" style="width: 100%;resize:none;">'+errorText+'</textarea>'+'</div>'+'<div id="err_text" class="validationError"></div>'+'<div class="text-center">'+'<textarea name="comment" id="comment" placeholder="Комментарий" style="width: 100%;resize:none;"></textarea>'+'</div>'+'<input type="hidden" name="referrer" value="'+errorReferrer+'"/>'+'<input type="hidden" name="user_agent" value="'+userAgent+'"/>'+'<input type="hidden" name="user_plugins" value="'+userPlugins+'"/>'+'<div id="err_comment" class="validationError"></div>'+'<div class="text-center">'+'<span id="send-user-error" class="btn btn-primary">Отправить</span>'+'</div>'+'<br/><div class="text-center">'+'<p>Нажатие кнопки "Отправить" означает согласие <br> с настоящей <a href="/privacy_policy">Политикой конфиденциальности</a>.</p>'+'</div></form>'+'<style>'+'#send-user-error{display:flex;width:150px;font-size:14px;text-transform:uppercase;align-items:center;justify-content:center;margin: 0 auto;}'+'#send-error-form textarea{margin:5px 0;min-height:50px;padding:5px;}'+'</style>'+'</div>');$('.send-error').fadeIn('slow');$('#send-user-error').bind('click',function(){if(errorMessage.check()){errorMessage.send()}})},'check':function(){var errmsg='Поле должно быть заполнено.';if($('#from').val().length===0){$('#err_from').html('<p class="text-center text-danger">'+errmsg+'</p>');return!1}else{$('#err_from').html('')}
if($('#text').val().length===0){$('#err_text').html('<p class="text-center text-danger">'+errmsg+'</p>');return!1}else{$('#err_text').html('')}
if($('#comment').val().length===0){$('#err_comment').html('<p class="text-center text-danger">'+errmsg+'</p>');return!1}else{$('#err_comment').html('')}
return!0},};$(document).ready(function(){$('body').on('keypress',function(e){if(e.which===13&&e.shiftKey){errorPageUrl=location.href;errorText=window.getSelection().toString();errorReferrer=document.referrer?document.referrer:'user navigated to the page directly';userAgent=navigator.userAgent;var x=navigator.plugins.length;userPlugins='Total plugin installed: '+x+'/';userPlugins+='Available plugins are->'+'/';for(var i=0;i<x;i++){userPlugins+=navigator.plugins[i].name+'/'}
errorMessage.success(errorPageUrl,errorText,errorReferrer,userAgent,userPlugins)}})});$(document).delegate('.agree','click',function(e){e.preventDefault();$('#modal-agree').remove();var element=this;$.ajax({url:$(element).attr('href'),type:'get',dataType:'html',success:function(data){html='<div id="modal-agree" class="modal">';html+='  <div class="modal-dialog">';html+='    <div class="modal-content">';html+='      <div class="modal-header">';html+='        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>';html+='        <h4 class="modal-title">'+$(element).text()+'</h4>';html+='      </div>';html+='      <div class="modal-body">'+data+'</div>';html+='    </div';html+='  </div>';html+='</div>';$('body').append(html);$('#modal-agree').modal('show')}})});(function($){$.fn.autocomplete=function(option){return this.each(function(){this.timer=null;this.items=new Array();$.extend(this,option);$(this).attr('autocomplete','off');$(this).on('focus',function(){this.request()});$(this).on('blur',function(){setTimeout(function(object){object.hide()},200,this)});$(this).on('keydown',function(event){switch(event.keyCode){case 27:this.hide();break;default:this.request();break}});this.click=function(event){event.preventDefault();value=$(event.target).parent().attr('data-value');if(value&&this.items[value]){this.select(this.items[value])}};this.show=function(){var pos=$(this).position();$(this).siblings('ul.dropdown-menu').css({top:pos.top+$(this).outerHeight(),left:pos.left});$(this).siblings('ul.dropdown-menu').show()};this.hide=function(){$(this).siblings('ul.dropdown-menu').hide()};this.request=function(){clearTimeout(this.timer);this.timer=setTimeout(function(object){object.source($(object).val(),$.proxy(object.response,object))},200,this)};this.response=function(json){html='';if(json.length){for(i=0;i<json.length;i++){this.items[json[i].value]=json[i]}
for(i=0;i<json.length;i++){if(!json[i].category){html+='<li data-value="'+json[i].value+'"><a href="#">'+json[i].label+'</a></li>'}}
var category=new Array();for(i=0;i<json.length;i++){if(json[i].category){if(!category[json[i].category]){category[json[i].category]=new Array();category[json[i].category].name=json[i].category;category[json[i].category].item=new Array()}
category[json[i].category].item.push(json[i])}}
for(i in category){html+='<li class="dropdown-header">'+category[i].name+'</li>';for(j=0;j<category[i].item.length;j++){html+='<li data-value="'+category[i].item[j].value+'"><a href="#">&nbsp;&nbsp;&nbsp;'+category[i].item[j].label+'</a></li>'}}}
if(html){this.show()}else{this.hide()}
$(this).siblings('ul.dropdown-menu').html(html)};$(this).after('<ul class="dropdown-menu"></ul>');$(this).siblings('ul.dropdown-menu').delegate('a','click',$.proxy(this.click,this))})}})(window.jQuery);function fadeOutSuccess(time){if(typeof(time)=='undefined'){time=400}
jQuery('.success').fadeOut(time,function(){$(this).remove()});return!1}
function alignment_product_name(wrappers_class,title_class){if(wrappers_class&&title_class){jQuery.each(wrappers_class,function(index,value){var wrapper=jQuery(value);if(!$.isEmptyObject(wrapper)){wrapper.each(function(){if(jQuery(this).css('display')!='none'){var max_height=0;jQuery(this).find(title_class).each(function(){var height=jQuery(this).height();if(height>max_height){max_height=height}}).height(max_height)}})}})}}
$.fn.hyphenate=function(ct){ct=(typeof ct==='undefined')?14:ct;var RusA="[абвгдеёжзийклмнопрстуфхцчшщъыьэюя]";var RusV="[аеёиоуыэюя]";var RusN="[бвгджзклмнпрстфхцчшщ]";var RusX="[йъь]";var Hyphen="\xAD";var re1=new RegExp("("+RusX+")("+RusA+RusA+")","ig");var re2=new RegExp("("+RusV+")("+RusV+RusA+")","ig");var re3=new RegExp("("+RusV+RusN+")("+RusN+RusV+")","ig");var re4=new RegExp("("+RusN+RusV+")("+RusN+RusV+")","ig");var re5=new RegExp("("+RusV+RusN+")("+RusN+RusN+RusV+")","ig");var re6=new RegExp("("+RusV+RusN+RusN+")("+RusN+RusN+RusV+")","ig");function hreplace(text)
{text=text.replace(re1,"$1"+Hyphen+"$2");text=text.replace(re2,"$1"+Hyphen+"$2");text=text.replace(re3,"$1"+Hyphen+"$2");text=text.replace(re4,"$1"+Hyphen+"$2");text=text.replace(re5,"$1"+Hyphen+"$2");text=text.replace(re6,"$1"+Hyphen+"$2");return text}
this.each(function(){var text=$(this).html();var newtext=text.split(' ').reduce(function(nt,cur){cur=cur.toString();if(cur.length>=ct)
cur=hreplace(cur);return nt+' '+cur},'');$(this).html(newtext)})};function getFormData(data){if(typeof data=='undefined'){data={}}
$('#product').find('input, select').each(function(){if($(this).val()){data[$(this).attr('name')]=$(this).val()}});return $.param(data)}
var coupon={check:function(){$.ajax({url:'index.php?route=extension/total/coupon/coupon',type:'post',data:'coupon='+encodeURIComponent($('input[name=\'coupon\']').val()),dataType:'json',beforeSend:function(){$('#button-coupon').button('loading')},complete:function(){$('#button-coupon').button('reset')},success:function(json){$('.alert').remove();if(json.error){coupon.error(json)}
if(json.success){coupon.success(json)}
cart.update_form()}})},success:function(json){$('#button-coupon').closest('.panel-body').append('<div class="alert alert-success"><i class="fa fa-check-circle"></i> '+json.success+'<button type="button" class="close" data-dismiss="alert">&times;</button></div>')},error:function(json){$('#button-coupon').closest('.panel-body').append('<div class="alert alert-danger"><i class="fa fa-exclamation-circle"></i> '+json.error+'<button type="button" class="close" data-dismiss="alert">&times;</button></div>')}};jQuery(window).load(function(){jQuery(document).on('show.bs.modal','#finded-low-cost-form',function(){sendYandexMark('Deshevle')});IMask(document.getElementById('input-phone'),{mask:'+{#} (000) 000-00-00',definitions:{'#':/[7-8]/},lazy:!1});jQuery('#finded-low-cost-form form').on('submit',function(){var form=jQuery(this);form.find('.has-error').removeClass('has-error');form.find('p.error').remove();form.append($('<input>',{type:'hidden',name:'product_name',value:$(document).find('h1').text()}),$('<input>',{type:'hidden',name:'product_art',value:$(document).find('meta[itemprop="sku"]').attr('content')}),$('<input>',{type:'hidden',name:'product_url',value:window.location.href}));jQuery.ajax({url:form.attr('action'),data:form.serialize(),type:'post',dataType:'json',success:function(r){if(r.error){jQuery.each(r.error,function(field,v){form.find('[name="'+field+'"]').parent().append('<p class="error">'+v+'</p>').closest('.form-group').addClass('has-error')})}
if(r.success){form.remove();jQuery('#finded-low-cost-form').find('.request').show();sendYandexMark('Deshevle-otpravit')}}});return!1})});function wpo_play_owl_carousel(owl){var $=jQuery;var config={navSpeed:300,nav:!0,dots:!1,loop:!0,items:4,navText:['<i class="owl-arrow-left fa fa-chevron-left"></i>','<i class="owl-arrow-right fa fa-chevron-right"></i>'],};if($(owl).data('show')==1){config.singleItem=!0}else{if($(owl).hasClass('tcarousel')){config.items=3;config.dots=!1;config.nav=!0;config.navText=[' ',' '];config.responsive={0:{items:1},440:{items:2},640:{items:3},991:{items:4}}}else if($(owl).hasClass('imgthumbs')){config.nav=!0;config.navText=['<span></span>','<span></span>'];config.items=4;config.loop=!1;config.margin=3;config.responsive={0:{items:2},321:{items:4},450:{items:5},500:{items:6},767:{items:4},1199:{items:5}}}else if($(owl).hasClass('image-additional-qw')){config.nav=!0;config.loop=!1;config.navText=[' ',' '];config.items=3;config.margin=3}else if($(owl).hasClass('owl-related')){config.nav=!0;config.items=4;config.navText=[' ',' '];config.responsive={0:{items:1},520:{items:2},690:{items:3}}}else if($(owl).hasClass('pagescarousel')){config.nav=!0;config.items=1;config.navText=[' ',' ']}else if($(owl).hasClass('viewed-box-product')){config.nav=!0;config.items=4;config.responsive={0:{items:1},460:{items:2},690:{items:3},992:{items:4}};config.loop=!1}}
$(owl).owlCarousel(config);$('.left',$(owl).parent()).click(function(){owl.trigger('owl.prev');return!1});$('.right',$(owl).parent()).click(function(){owl.trigger('owl.next');return!1})}
var success_close_img='/image/i/close.png';var updateHeaderCart=function(){$.ajax({url:'/index.php?route=common/cart/json',type:'get',dataType:'json',success:function(json){$('#cart-count').html(json.text_count);$('#cart-total').html(json.text_items);$('#cart-url').attr({href:json.cart})}})}
$(document).ready(function(){updateHeaderCart()
$.ajax({url:'/index.php?route=product/compare/json',type:'get',dataType:'json',success:function(json){$('#compare-total').html(json.total);$('#compare-count').html(json.count);$('#compare-url').attr({href:json.href});if(json.count>0){$('.product-compare-header').show()}}});$(window).scroll(function(){if($(this).scrollTop()>100){$('#totop').fadeIn()}else{$('#totop').fadeOut()}});$('#totop').click(function(){$("html, body").animate({scrollTop:0},600);return!1});$('.iframe-link').fancybox();$(document.body).on('click','#pav-mainnav [data-toggle="dropdown"]',function(){if(!$(this).parent().hasClass('open')&&this.href&&this.href!='#'){window.location.href=this.href}});$('#scr_revs').click(function(){$('a[href=\'#tab_review\']').trigger('click');$('html, body').animate({scrollTop:$('#tab_review').offset().top},800);return!1});$('#scr_newrev').click(function(){$('a[href=\'#tab_review\']').trigger('click');$('#review_btn').trigger('click');$('html').animate({scrollTop:$('#review_btn').offset().top},800);return!1});$('#tab_review .set-rating i').each(function(){$(this).click(function(){var dataval=$(this).attr('data-value');var nth=6-dataval;$('#tab_review .set-rating > i').removeClass('selected');$('#tab_review .set-rating > i:nth-child(n + '+nth+')').addClass('selected');$('#tab_review input[name="rating"]').each(function(){if($(this).val()===dataval){$(this).prop('checked',!0)}})})});$('#button-review').click(function(){$.ajax({url:'index.php?route=product/product/write&product_id='+$('input[name=product_id]').val().toString(),type:'post',dataType:'json',data:$("#form-review").serialize(),beforeSend:function(){$('#button-review').button('loading')},complete:function(){$('#button-review').button('reset')},success:function(json){$('.alert-success, .alert-danger').remove();if(json.error){$('#form-review .buttons').before('<div class="alert alert-danger"><i class="fa fa-exclamation-circle"></i> '+json.error+'</div>')}
if(json.success){$('#form-review').html('<div class="alert alert-success"><i class="fa fa-check-circle"></i> '+json.success+'</div>');$('input[name=\'name\']').val('');$('textarea[name=\'text\']').val('');$('input[name=\'rating\']:checked').prop('checked',!1)}}})});$('#offcanvasmenu a.dropdown-toggle').parent().prepend('<i class="click-canavs-menu fa fa-plus-square"></i>');$("body").on("click","i.click-canavs-menu.fa-plus-square",function(){$this=$(this);$this.removeClass('fa-plus-square').addClass('fa-minus-square');$this.parent().find('.dropdown-menu:first').toggle()});$("body").on("click","i.click-canavs-menu.fa-minus-square",function(){$(this).removeClass('fa-minus-square').addClass('fa-plus-square');$(this).parent().find('.dropdown-menu:first').toggle()});$('.btn-group.search-focus').bind('click',function(e){if($(this).hasClass('active')){$('.nav-search').removeClass('open');$(this).removeClass('active')}else{$(this).addClass('active');$('.nav-search').addClass('open');$('.nav-search .input-group input[type="text"]').focus()}});$('.nav-search .input-group-btn').bind('click',function(e){if($('.btn-group.search-focus').hasClass('active')){$('.nav-search').removeClass('open');$('.btn-group.search-focus').removeClass('active')}});$('#offcanvas-search input[name=\'search\']').parent().find('button').on('click',function(){url='/index.php?route=product/search';var value=$('#offcanvas-search input[name=\'search\']').val();if(value){url+='&search='+encodeURIComponent(value)}
location=url});cols1=$('#column-right, #column-left').length;if(cols1==2){$('#content .product-layout:nth-child(2n+2)').after('<div class="clearfix visible-md visible-sm"></div>')}else if(cols1==1){$('#content .product-layout:nth-child(3n+3)').after('<div class="clearfix visible-lg"></div>')}else{$('#content .product-layout:nth-child(4n+4)').after('<div class="clearfix"></div>')}
$(function(){$('select').selectric({expandToItemText:!0})});$('.canvas-menu').click(function(){$('.click-canavs-menu').trigger('click')});$('.click-allcat').click(function(){var i=$(this)
i.parent('.haschildren').toggleClass('opened');if(i.hasClass('fa-minus-square')){i.removeClass('fa-minus-square').addClass('fa-plus-square')}else{i.removeClass('fa-plus-square').addClass('fa-minus-square')}})});$(document).ready(function(){$('#searchtop button.btn-search').on('click',function(e){var w=$(window).width();var value=$('#searchtop input[name=\'search\']').val();if(w>570||(value&&$('#searchtop input.form-control').hasClass('srch'))){url='/index.php?route=product/search&search='+encodeURIComponent(value);location=url}else{$('#searchtop input.form-control').addClass('srch');e.preventDefault()}});if($(window).width()<570){$('.rev_slider.fullwidthbanner.revslider-initialised.tp-simpleresponsive').off('touchstart');$('.rev_slider.fullwidthbanner.revslider-initialised.tp-simpleresponsive').off('touchcancel')}
$('.rev_slider.fullwidthbanner.revslider-initialised.tp-simpleresponsive').on('touchstart',function(){if(($(window).width()<570)&&($('#searchtop input.form-control').hasClass('srch'))){$('#searchtop input.form-control').removeClass('srch')}});$(document).click(function(e){if($(window).width()<570){var srch=$('#searchtop');if(!srch.is(e.target)&&srch.has(e.target).length===0){$('#searchtop input.form-control').removeClass('srch')}}});$('.product-zoom').fancybox({type:'image',closeOnContentClick:!0,image:{verticalFit:!0}});$(document.body).on('click','.megamenu [data-toggle="dropdown"], .verticalmenu [data-toggle="dropdown"]',function(){if(!$(this).parent().hasClass('open')&&this.href&&this.href!='#'){window.location.href=this.href}});$('[data-toggle="offcanvas"]').click(function(){$('.row-offcanvas').toggleClass('active');$('.mfilter-free-container').toggleClass('hidden')});$('.ocwall').click(function(){$('.row-offcanvas').toggleClass('active');$('.mfilter-free-container.mfilter-direction-rtl').toggleClass('hidden')})});$(document).ready(function(){$(".owl-carousel-play .owl-carousel").each(function(){var owl=$(this);wpo_play_owl_carousel(owl)});$('.dropdown-menu input').click(function(e){e.stopPropagation()});$("button.btn-switch").bind("click",function(e){e.preventDefault();var theid=$(this).attr("id");var row=$("#products");if($(this).hasClass("active")){return!1}else{if(theid=="list-view"){$('#list-view').addClass("active");$('#grid-view').removeClass("active");row.removeClass('product-grid');row.addClass('product-list')}else if(theid=="grid-view"){$('#grid-view').addClass("active");$('#list-view').removeClass("active");row.removeClass('product-list');row.addClass('product-grid')}}});$(".quantity-adder .add-action").click(function(){if($(this).hasClass('add-up')){$("[name=quantity]",'.quantity-adder').val(parseInt($("[name=quantity]",'.quantity-adder').val())+1)}else{if(parseInt($("[name=quantity]",'.quantity-adder').val())>1){$("input",'.quantity-adder').val(parseInt($("[name=quantity]",'.quantity-adder').val())-1)}}});$(document).ready(function(){$('.popup-with-form').magnificPopup({type:'inline',preloader:!1,focus:'#input-name',callbacks:{beforeOpen:function(){if($(window).width()<700){this.st.focus=!1}else{this.st.focus='#input-name'}}}})})});$(document).ready(function(){$('.product-scroll').each(function(){var this_id=$(this).attr("id");var src_img=$('.image-icon-item img',this).attr('src');var this_title=$('.image-icon-item span',this).html();var html='<li><a href="#'+this_id+'"><img class="img-responsive" src="'+src_img+'"/><span>'+this_title+'</span></a></li>';$('.bs-docs-sidebar ul').append(html)});$('body').scrollspy({target:'.bs-docs-sidebar',offset:60});$('.bs-docs-sidebar li a').click(function(event){if(!$(this).closest('li').hasClass('active')){$('.bs-docs-sidebar li').removeClass('active');$(this).closest('li').addClass('active')}
event.preventDefault();$($(this).attr('href'))[0].scrollIntoView()})});$(window).scroll(function(){if(($(".product-scroll").length>0)){var viewableOffset=$(".product-scroll").first().offset().top-$(window).scrollTop();var scrollBottom=$("#pavo-mass-bottom").first().offset().top-$(window).scrollTop();console.log("top: "+viewableOffset);console.log("last: "+scrollBottom);if(viewableOffset<=40){$('.bs-docs-sidebar').removeClass('hidden')}
if(viewableOffset>=700){$('.bs-docs-sidebar').addClass('hidden')}
if(scrollBottom<=590){$('.bs-docs-sidebar').addClass('hidden')}}});$(window).load(function(){alignment_product_name(['.catgrid'],'.name')});cart.upd_cart=function(json){$('#cart-total').html(json.total);$('#cart-total-mob').html(json.price);$('#cart .badge').html(json.count);$('#cart a').prop('onclick',null)};compare.upd_compare=function(json){$('#compare-total').html(json.total).closest('.product-compare-header').show();$('.success').fadeIn('slow');$('.product-compare-header .badge').html(json.count)};function getFormData(data){if(typeof data=='undefined'){data={}}
$('#product').find('input, select').each(function(){if($(this).val()){data[$(this).attr('name')]=$(this).val()}});return $.param(data)}
$(window).load(function(){$('.mfilter-free-button').click(function(){var upperIndent=parseFloat($('body .mfilter-free-container').css("top"));$('#mfilter-free-container-0').height($(window).height()-upperIndent)});var reCaptchaWidth=$('.g-recaptcha > div').width();if($('.g-recaptcha').width()>0)
var containerWidth=$('.g-recaptcha').width();else var containerWidth=$(window).width()-90;if(reCaptchaWidth>containerWidth){var reCaptchaScale=containerWidth/reCaptchaWidth;$('.g-recaptcha').css({'transform':'scale('+reCaptchaScale+')','transform-origin':'left top'})}})